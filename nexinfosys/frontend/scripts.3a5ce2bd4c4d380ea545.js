!function(t,e,i,n){"use strict";function r(t,e,i){return setTimeout(l(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(o(t,i[e],i),!0)}function o(t,e,i){var r;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(r=0;r<t.length;)e.call(i,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function a(e,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,r,n),e.apply(this,arguments)}}function h(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&J(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==it?t.apply(e&&e[0]||n,e):t}function c(t,e){return t===n?e:t}function d(t,e,i){o(m(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){o(m(e),function(e){t.removeEventListener(e,i,!1)})}function p(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function v(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];v(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function _(t,e){for(var i,r,s=e[0].toUpperCase()+e.slice(1),o=0;o<tt.length;){if((r=(i=tt[o])?i+s:e)in t)return r;o++}return n}function w(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function x(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&gt&&n-r==0,o=e&(mt|vt)&&n-r==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=C(e)),r>1&&!i.firstMultiple?i.firstMultiple=C(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=A(n);e.timeStamp=st(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=D(a,h),e.distance=E(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==gt&&s.eventType!==mt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=M(e.deltaX,e.deltaY);var l=T(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=rt(l.x)>rt(l.y)?l.x:l.y,e.scale=o?function(t,e){return E(n[0],n[1],Tt)/E(t[0],t[1],Tt)}(o.pointers):1,e.rotation=o?function(t,e){return D(n[1],n[0],Tt)+D(t[1],t[0],Tt)}(o.pointers):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,k(i,e);var u=t.element;p(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function k(t,e){var i,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=vt&&(h>pt||a.velocity===n)){var l=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,c=T(h,l,u);r=c.x,s=c.y,i=rt(c.x)>rt(c.y)?c.x:c.y,o=M(l,u),t.lastInterval=e}else i=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=r,e.velocityY=s,e.direction=o}function C(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:nt(t.pointers[i].clientX),clientY:nt(t.pointers[i].clientY)},i++;return{timeStamp:st(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:nt(t[0].clientX),y:nt(t[0].clientY)};for(var i=0,n=0,r=0;e>r;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:nt(i/e),y:nt(n/e)}}function T(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?yt:rt(t)>=rt(e)?0>t?bt:_t:0>e?wt:xt}function E(t,e,i){i||(i=At);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function D(t,e,i){return i||(i=At),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function P(){this.evEl=Et,this.evWin=Dt,this.pressed=!1,x.apply(this,arguments)}function O(){this.evEl=Nt,this.evWin=Lt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Ft,this.evWin=Rt,this.started=!1,x.apply(this,arguments)}function L(){this.evTarget=Bt,this.targetIds={},x.apply(this,arguments)}function I(){x.apply(this,arguments);var t=l(this.handler,this);this.touch=new L(this.manager,t),this.mouse=new P(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function F(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},jt)}}function R(t,e){this.manager=t,this.set(e)}function z(t){this.options=J({},this.defaults,t||{}),this.id=ht++,this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=Kt,this.simultaneous={},this.requireFail=[]}function B(t){return t&te?"cancel":t&$t?"end":t&Qt?"move":t&Zt?"start":""}function j(t){return t==xt?"down":t==wt?"up":t==bt?"left":t==_t?"right":""}function H(t,e){var i=e.manager;return i?i.get(t):t}function Y(){z.apply(this,arguments)}function V(){Y.apply(this,arguments),this.pX=null,this.pY=null}function q(){Y.apply(this,arguments)}function W(){z.apply(this,arguments),this._timer=null,this._input=null}function U(){Y.apply(this,arguments)}function G(){Y.apply(this,arguments)}function X(){z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function K(t,e){return(e=e||{}).recognizers=c(e.recognizers,K.defaults.preset),new Z(t,e)}function Z(t,e){this.options=J({},K.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(ut?O:ct?L:lt?I:P))(t,S)}(this),this.touchAction=new R(this,this.options.touchAction),Q(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Q(t,e){var i,n=t.element;n.style&&(o(t.options.cssProps,function(r,s){i=_(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function $(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var J,tt=["","webkit","Moz","MS","ms","o"],et=e.createElement("div"),it="function",nt=Math.round,rt=Math.abs,st=Date.now;J="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(r!==n&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}:Object.assign;var ot=a(function(t,e,i){for(var r=Object.keys(e),s=0;s<r.length;)(!i||i&&t[r[s]]===n)&&(t[r[s]]=e[r[s]]),s++;return t},"extend","Use `assign`."),at=a(function(t,e){return ot(t,e,!0)},"merge","Use `assign`."),ht=1,lt="ontouchstart"in t,ut=_(t,"PointerEvent")!==n,ct=lt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dt="touch",ft="mouse",pt=25,gt=1,mt=4,vt=8,yt=1,bt=2,_t=4,wt=8,xt=16,St=bt|_t,kt=wt|xt,Ct=St|kt,At=["x","y"],Tt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(w(this.element),this.evWin,this.domHandler)}};var Mt={mousedown:gt,mousemove:2,mouseup:mt},Et="mousedown",Dt="mousemove mouseup";h(P,x,{handler:function(t){var e=Mt[t.type];e&gt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=mt),this.pressed&&(e&mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ft,srcEvent:t}))}});var Pt={pointerdown:gt,pointermove:2,pointerup:mt,pointercancel:vt,pointerout:vt},Ot={2:dt,3:"pen",4:ft,5:"kinect"},Nt="pointerdown",Lt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Nt="MSPointerDown",Lt="MSPointerMove MSPointerUp MSPointerCancel"),h(O,x,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Pt[n],s=Ot[t.pointerType]||t.pointerType,o=s==dt,a=v(e,t.pointerId,"pointerId");r&gt&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):r&(mt|vt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var It={touchstart:gt,touchmove:2,touchend:mt,touchcancel:vt},Ft="touchstart",Rt="touchstart touchmove touchend touchcancel";h(N,x,{handler:function(t){var e=It[t.type];if(e===gt&&(this.started=!0),this.started){var i=(function(t,e){var i=y(t.touches),n=y(t.changedTouches);return e&(mt|vt)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}).call(this,t,e);e&(mt|vt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:dt,srcEvent:t})}}});var zt={touchstart:gt,touchmove:2,touchend:mt,touchcancel:vt},Bt="touchstart touchmove touchend touchcancel";h(L,x,{handler:function(t){var e=zt[t.type],i=(function(t,e){var i=y(t.touches),n=this.targetIds;if(e&(2|gt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=y(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return p(t.target,h)}),e===gt)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(mt|vt)&&delete n[o[r].identifier],r++;return a.length?[b(s.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:dt,srcEvent:t})}});var jt=2500;h(I,x,{handler:function(t,e,i){var n=i.pointerType==ft;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(i.pointerType==dt)(function(t,e){t&gt?(this.primaryTouch=e.changedPointers[0].identifier,F.call(this,e)):t&(mt|vt)&&F.call(this,e)}).call(this,e,i);else if(n&&(function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(25>=s&&25>=o)return!0}return!1}).call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ht=_(et.style,"touchAction"),Yt=Ht!==n,Vt="compute",qt="manipulation",Wt="none",Ut="pan-x",Gt="pan-y",Xt=function(){if(!Yt)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}();R.prototype={set:function(t){t==Vt&&(t=this.compute()),Yt&&this.manager.element.style&&Xt[t]&&(this.manager.element.style[Ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(g(t,Wt))return Wt;var e=g(t,Ut),i=g(t,Gt);return e&&i?Wt:e||i?e?Ut:Gt:g(t,qt)?qt:"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=g(n,Wt)&&!Xt[Wt],s=g(n,Gt)&&!Xt[Gt],o=g(n,Ut)&&!Xt[Ut];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return o&&s?void 0:r||s&&i&St||o&&i&kt?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Kt=1,Zt=2,Qt=4,$t=8,Jt=$t,te=16;z.prototype={defaults:{},set:function(t){return J(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=H(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=H(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return-1===v(e,t=H(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=H(t,this);var e=v(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;$t>n&&e(i.options.event+B(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=$t&&e(i.options.event+B(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Kt)))return!1;t++}return!0},recognize:function(t){var e=J({},t);return u(this.options.enable,[this,e])?(this.state&(Jt|te|32)&&(this.state=Kt),this.state=this.process(e),void(this.state&(Zt|Qt|$t|te)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(Y,z,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Zt|Qt),r=this.attrTest(t);return n&&(i&vt||!r)?e|te:n||r?i&mt?e|$t:e&Zt?e|Qt:Zt:32}}),h(V,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ct},getTouchAction:function(){var t=this.options.direction,e=[];return t&St&&e.push(Gt),t&kt&&e.push(Ut),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&St?(r=0===s?yt:0>s?bt:_t,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?yt:0>o?wt:xt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return Y.prototype.attrTest.call(this,t)&&(this.state&Zt||!(this.state&Zt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=j(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(q,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Zt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),h(W,z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(mt|vt)&&!s)this.reset();else if(t.eventType&gt)this.reset(),this._timer=r(function(){this.state=Jt,this.tryEmit()},e.time,this);else if(t.eventType&mt)return Jt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Jt&&(t&&t.eventType&mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=st(),this.manager.emit(this.options.event,this._input)))}}),h(U,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Zt)}}),h(G,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:St|kt,pointers:1},getTouchAction:function(){return V.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(St|kt)?e=t.overallVelocity:i&St?e=t.overallVelocityX:i&kt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&rt(e)>this.options.velocity&&t.eventType&mt},emit:function(t){var e=j(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(X,z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[qt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&gt&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=mt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||E(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=r(function(){this.state=Jt,this.tryEmit()},e.interval,this),Zt):Jt}return 32},failTimeout:function(){return this._timer=r(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Jt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),K.VERSION="2.0.7",K.defaults={domEvents:!1,touchAction:Vt,enable:!0,inputTarget:null,inputClass:null,preset:[[U,{enable:!1}],[q,{enable:!1},["rotate"]],[G,{direction:St}],[V,{direction:St},["swipe"]],[X],[X,{event:"doubletap",taps:2},["tap"]],[W]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Z.prototype={set:function(t){return J(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Jt)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(Zt|Qt|$t)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof z)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=v(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return o(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return o(m(t),function(t){e?i[t]&&i[t].splice(v(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&$(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&Q(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},J(K,{INPUT_START:gt,INPUT_MOVE:2,INPUT_END:mt,INPUT_CANCEL:vt,STATE_POSSIBLE:Kt,STATE_BEGAN:Zt,STATE_CHANGED:Qt,STATE_ENDED:$t,STATE_RECOGNIZED:Jt,STATE_CANCELLED:te,STATE_FAILED:32,DIRECTION_NONE:yt,DIRECTION_LEFT:bt,DIRECTION_RIGHT:_t,DIRECTION_UP:wt,DIRECTION_DOWN:xt,DIRECTION_HORIZONTAL:St,DIRECTION_VERTICAL:kt,DIRECTION_ALL:Ct,Manager:Z,Input:x,TouchAction:R,TouchInput:L,MouseInput:P,PointerEventInput:O,TouchMouseInput:I,SingleTouchInput:N,Recognizer:z,AttrRecognizer:Y,Tap:X,Pan:V,Swipe:G,Pinch:q,Rotate:U,Press:W,on:d,off:f,each:o,merge:at,extend:ot,assign:J,inherit:h,bindFn:l,prefixed:_}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=K,"function"==typeof define&&define.amd?define(function(){return K}):"undefined"!=typeof module&&module.exports?module.exports=K:t.Hammer=K}(window,document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.proj4=e()}(this,function(){"use strict";function t(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),r=e.toLowerCase().replace(K,""),s=-1;++s<n.length;)if((i=n[s]).toLowerCase().replace(K,"")===r)return t[i]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Q}function i(t){return new e(t).output()}function n(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=i.reduce(function(t,e){return r(e,t),t},e?{}:t);e&&(t[e]=n)}function r(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void r(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){var s;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&r(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&r(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void n(e,i,t);default:for(s=-1;++s<t.length;)if(!Array.isArray(t[s]))return r(t,e[i]);return n(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}function s(t){return t*nt}function o(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;"GEOGCS"===t.type&&(i=t),i&&(t.datumCode=i.DATUM?i.DATUM.name.toLowerCase():i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(t.datum_params=i.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["azimuth","Azimuth"],["alpha","azimuth",s],["srsCode","name"]].forEach(function(e){return function(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function a(t){var e=this;if(2===arguments.length){var i=arguments[1];a[t]="string"==typeof i?"+"===i.charAt(0)?Z(arguments[1]):rt(arguments[1]):i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?a.apply(e,t):a(t)});if("string"==typeof t){if(t in a)return a[t]}else"EPSG"in t?a["EPSG:"+t.EPSG]=t:"ESRI"in t?a["ESRI:"+t.ESRI]=t:"IAU2000"in t?a["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function h(e){var i=t(e,"authority");if(i){var n=t(i,"epsg");return n&&ot.indexOf(n)>-1}}function l(e){var i=t(e,"extension");if(i)return t(i,"proj4")}function u(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in a}(t))return a[t];if(function(t){return st.some(function(e){return t.indexOf(e)>-1})}(t)){var e=rt(t);if(h(e))return a["EPSG:3857"];var i=l(e);return i?Z(i):e}return function(t){return"+"===t[0]}(t)?Z(t):void 0}function c(t){return t}function d(t,e){var i=gt.length;return t.names?(gt[i]=t,t.names.forEach(function(t){pt[t.toLowerCase()]=i}),this):(console.log(e),!0)}function f(e,i){if(!(this instanceof f))return new f(e);i=i||function(t){if(t)throw t};var n=u(e);if("object"==typeof n){var r=f.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var s=t(bt,n.datumCode);s&&(n.datum_params=s.towgs84?s.towgs84.split(","):null,n.ellps=s.ellipse,n.datumName=s.datumName?s.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=function(e,i,n,r,s){if(!e){var o=t(vt,r);o||(o=yt),e=o.a,i=o.b,n=o.rf}return n&&!i&&(i=(1-1/n)*e),(0===n||Math.abs(e-i)<H)&&(s=!0,i=e),{a:e,b:i,rf:n,sphere:s}}(n.a,n.b,n.rf,n.ellps,n.sphere),a=function(t,e,i,n){var r=t*t,s=e*e,o=(r-s)/r,a=0;return n?(r=(t*=1-o*(z+o*(B+o*j)))*t,o=0):a=Math.sqrt(o),{es:o,e:a,ep2:(r-s)/s}}(o.a,o.b,0,n.R_A),h=n.datum||function(t,e,i,n,r,s){var o={};return o.datum_type=void 0===t||"none"===t?I:L,e&&(o.datum_params=e.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=O),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=N,o.datum_params[3]*=F,o.datum_params[4]*=F,o.datum_params[5]*=F,o.datum_params[6]=o.datum_params[6]/1e6+1))),o.a=i,o.b=n,o.es=r,o.ep2=s,o}(n.datumCode,n.datum_params,o.a,o.b,a.es,a.ep2);at(this,n),at(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=h,this.init(),i(null,this)}else i(e)}else i(e)}function p(t){return t===O||t===N}function g(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function m(t,e,i){var n;return Array.isArray(i)&&(i=xt(i)),St(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===O||t.datum.datum_type===N)&&"WGS84"!==e.datumCode||(e.datum.datum_type===O||e.datum.datum_type===N)&&"WGS84"!==t.datumCode}(t,e)&&(i=m(t,n=new f("WGS84"),i),t=n),"enu"!==t.axis&&(i=wt(t,!1,i)),"longlat"===t.projName?i={x:i.x*Y,y:i.y*Y}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=_t(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y}),"longlat"===e.projName?i={x:i.x*V,y:i.y*V}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter})),"enu"!==e.axis?wt(e,!0,i):i}function v(t,e,i){var n,r,s;return Array.isArray(i)?(n=m(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):(r=m(t,e,i),2===(s=Object.keys(i)).length?r:(s.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=i[t])}),r))}function y(t){return t instanceof f?t:t.oProj?t.oProj:f(t)}function b(t,e,i){t=y(t);var n,r=!1;return void 0===e?(e=t,t=kt,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=kt,r=!0),e=y(e),i?v(t,e,i):(n={forward:function(i){return v(t,e,i)},inverse:function(i){return v(e,t,i)}},r&&(n.oProj=e),n)}function _(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,i){var n=A(i);return function(t,e,i){var n=i-1,r=At.charCodeAt(n),s=Tt.charCodeAt(n),o=r+t-1,a=s+e,h=!1;return o>Ot&&(o=o-Ot+Mt-1,h=!0),(o===Et||r<Et&&o>Et||(o>Et||r<Et)&&h)&&o++,(o===Dt||r<Dt&&o>Dt||(o>Dt||r<Dt)&&h)&&++o===Et&&o++,o>Ot&&(o=o-Ot+Mt-1),a>Pt?(a=a-Pt+Mt-1,h=!0):h=!1,(a===Et||s<Et&&a>Et||(a>Et||s<Et)&&h)&&a++,(a===Dt||s<Dt&&a>Dt||(a>Dt||s<Dt)&&h)&&++a===Et&&a++,a>Pt&&(a=a-Pt+Mt-1),String.fromCharCode(o)+String.fromCharCode(a)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}(function(t){var e,i,n,r,s,o,a=t.lat,h=t.lon,l=6378137,u=x(a),c=x(h);o=Math.floor((h+180)/6)+1,180===h&&(o=60),a>=56&&a<64&&h>=3&&h<12&&(o=32),a>=72&&a<84&&(h>=0&&h<9?o=31:h>=9&&h<21?o=33:h>=21&&h<33?o=35:h>=33&&h<42&&(o=37)),s=x(6*(o-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),i=Math.tan(u)*Math.tan(u),n=.006739496752268451*Math.cos(u)*Math.cos(u);var d=.9996*e*((r=Math.cos(u)*(c-s))+(1-i+n)*r*r*r/6+(5-18*i+i*i+72*n-.39089081163157013)*r*r*r*r*r/120)+5e5,f=.9996*(l*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u))+e*Math.tan(u)*(r*r/2+(5-i+9*n+4*n*n)*r*r*r*r/24+(61-58*i+i*i+600*n-2.2240339282485886)*r*r*r*r*r*r/720));return a<0&&(f+=1e7),{northing:Math.round(f),easting:Math.round(d),zoneNumber:o,zoneLetter:C(a)}}({lat:t[1],lon:t[0]}),e)}function w(t){var e=k(T(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function x(t){return t*(Math.PI/180)}function S(t){return t/Math.PI*180}function k(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s,o,a,h,l,u,c,d,f=6378137,p=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=i-5e5,m=e;n<"N"&&(m-=1e7),u=6*(r-1)-180+3,d=(c=m/.9996/6367449.145945056)+(3*p/2-27*p*p*p/32)*Math.sin(2*c)+(21*p*p/16-55*p*p*p*p/32)*Math.sin(4*c)+151*p*p*p/96*Math.sin(6*c),s=f/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),o=Math.tan(d)*Math.tan(d),a=.006739496752268451*Math.cos(d)*Math.cos(d),h=.99330562*f/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),l=g/(.9996*s);var v=d-s*Math.tan(d)/h*(l*l/2-(5+3*o+10*a-4*a*a-.06065547077041606)*l*l*l*l/24+(61+90*o+298*a+45*o*o-1.6983531815716497-3*a*a)*l*l*l*l*l*l/720);v=S(v);var y,b=(l-(1+2*o+a)*l*l*l/6+(5-2*a+28*o-3*a*a+.05391597401814761+24*o*o)*l*l*l*l*l/120)/Math.cos(d);if(b=u+S(b),t.accuracy){var _=k({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:_.lat,right:_.lon,bottom:v,left:b}}else y={lat:v,lon:b};return y}function C(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function A(t){var e=t%Ct;return 0===e&&(e=Ct),e}function T(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",s=0;!/[A-Z]/.test(e=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,s++}var o=parseInt(r,10);if(0===s||s+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var h=A(o),l=function(t,e){for(var i=At.charCodeAt(h-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(++i===Et&&i++,i===Dt&&i++,i>Ot){if(r)throw"Bad character: "+t;i=Mt,r=!0}n+=1e5}return n}(n.charAt(0)),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=Tt.charCodeAt(h-1),n=0,r=!1;i!==t.charCodeAt(0);){if(++i===Et&&i++,i===Dt&&i++,i>Pt){if(r)throw"Bad character: "+t;i=Mt,r=!0}n+=1e5}return n}(n.charAt(1));u<M(a);)u+=2e6;var c=i-s;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,f,p,g=c/2,m=0,v=0;return g>0&&(d=1e5/Math.pow(10,g),f=t.substring(s,s+g),m=parseFloat(f)*d,p=t.substring(s+g),v=parseFloat(p)*d),{easting:m+l,northing:v+u,zoneLetter:a,zoneNumber:o,accuracy:d}}function M(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function E(t,e,i){if(!(this instanceof E))return new E(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function D(t,e,i,n){var r;return t<H?(n.value=Ce.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)<=q?n.value=Ce.AREA_0:r>q&&r<=R+q?(n.value=Ce.AREA_1,r-=R):r>R+q||r<=-(R+q)?(n.value=Ce.AREA_2,r=r>=0?r-U:r+U):(n.value=Ce.AREA_3,r+=R)),r}function P(t,e){var i=t+e;return i<-U?i+=W:i>+U&&(i-=W),i}var O=1,N=2,L=4,I=5,F=484813681109536e-20,R=Math.PI/2,z=.16666666666666666,B=.04722222222222222,j=.022156084656084655,H=1e-10,Y=.017453292519943295,V=57.29577951308232,q=Math.PI/4,W=2*Math.PI,U=3.14159265359,G={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},X={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},K=/[\s_\-\/\(\)]/g,Z=function(e){var i,n,r,s={},o=e.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){s.rf=parseFloat(t)},lat_0:function(t){s.lat0=t*Y},lat_1:function(t){s.lat1=t*Y},lat_2:function(t){s.lat2=t*Y},lat_ts:function(t){s.lat_ts=t*Y},lon_0:function(t){s.long0=t*Y},lon_1:function(t){s.long1=t*Y},lon_2:function(t){s.long2=t*Y},alpha:function(t){s.alpha=parseFloat(t)*Y},lonc:function(t){s.longc=t*Y},x_0:function(t){s.x0=parseFloat(t)},y_0:function(t){s.y0=parseFloat(t)},k_0:function(t){s.k0=parseFloat(t)},k:function(t){s.k0=parseFloat(t)},a:function(t){s.a=parseFloat(t)},b:function(t){s.b=parseFloat(t)},r_a:function(){s.R_A=!0},zone:function(t){s.zone=parseInt(t,10)},south:function(){s.utmSouth=!0},towgs84:function(t){s.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){s.to_meter=parseFloat(t)},units:function(e){s.units=e;var i=t(X,e);i&&(s.to_meter=i.to_meter)},from_greenwich:function(t){s.from_greenwich=t*Y},pm:function(e){var i=t(G,e);s.from_greenwich=(i||parseFloat(e))*Y},nadgrids:function(t){"@null"===t?s.datumCode="none":s.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(s.axis=t)}};for(i in o)n=o[i],i in a?"function"==typeof(r=a[i])?r(n):s[r]=n:s[i]=n;return"string"==typeof s.datumCode&&"WGS84"!==s.datumCode&&(s.datumCode=s.datumCode.toLowerCase()),s},Q=1,$=/\s/,J=/[A-Za-z]/,tt=/[A-Za-z84]/,et=/[,\]]/,it=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;$.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Q:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(et.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Q)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Q,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!it.test(t)){if(et.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},e.prototype.keyword=function(t){if(tt.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=Q)}if(!et.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(J.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(it.test(t))return this.word=t,void(this.state=3);if(!et.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var nt=.017453292519943295,rt=function(t){var e=i(t),n=e.shift(),s=e.shift();e.unshift(["name",s]),e.unshift(["type",n]);var a={};return r(e,a),o(a),a};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(a);var st=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],ot=["3857","900913","3785","102113"],at=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t},ht=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)},lt=function(t){return t<0?-1:1},ut=function(t){return Math.abs(t)<=U?t:t-lt(t)*W},ct=function(t,e,i){var n=t*i;return n=Math.pow((1-n)/(1+n),.5*t),Math.tan(.5*(R-e))/n},dt=function(t,e){for(var i,n,r=.5*t,s=R-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(s),s+=n=R-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-s,Math.abs(n)<=1e-10)return s;return-9999},ft=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):ht(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,i,n=t.x,r=t.y;if(r*V>90&&r*V<-90&&n*V>180&&n*V<-180)return null;if(Math.abs(Math.abs(r)-R)<=H)return null;if(this.sphere)e=this.x0+this.a*this.k0*ut(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(q+.5*r));else{var s=Math.sin(r),o=ct(this.e,r,s);e=this.x0+this.a*this.k0*ut(n-this.long0),i=this.y0-this.a*this.k0*Math.log(o)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=R-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(-9999===(i=dt(this.e,s)))return null}return e=ut(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:c,inverse:c,names:["longlat","identity"]}],pt={},gt=[],mt={start:function(){ft.forEach(d)},add:d,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==pt[e]&&gt[pt[e]]?gt[pt[e]]:void 0}},vt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},yt=vt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};vt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var bt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};(f.projections=mt).start();var _t=function(t,e,i){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===O?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==N||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?i:t.datum_type===I||e.datum_type===I?i:t.es!==e.es||t.a!==e.a||p(t.datum_type)||p(e.datum_type)?(i=function(t,e,i){var n,r,s,o=t.x,a=t.y,h=t.z?t.z:0;if(a<-R&&a>-1.001*R)a=-R;else if(a>R&&a<1.001*R)a=R;else{if(a<-R)return{x:-1/0,y:-1/0,z:t.z};if(a>R)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),r=Math.sin(a),s=Math.cos(a),{x:((n=i/Math.sqrt(1-e*(r*r)))+h)*s*Math.cos(o),y:(n+h)*s*Math.sin(o),z:(n*(1-e)+h)*r}}(i,t.es,t.a),p(t.datum_type)&&(i=function(t,e,i){if(e===O)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===N){var n=i[3],r=i[4],s=i[5],o=i[6];return{x:o*(t.x-s*t.y+r*t.z)+i[0],y:o*(s*t.x+t.y-n*t.z)+i[1],z:o*(-r*t.x+n*t.y+t.z)+i[2]}}}(i,t.datum_type,t.datum_params)),p(e.datum_type)&&(i=function(t,e,i){if(e===O)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===N){var n=i[3],r=i[4],s=i[5],o=i[6],a=(t.x-i[0])/o,h=(t.y-i[1])/o,l=(t.z-i[2])/o;return{x:a+s*h-r*l,y:-s*a+h+n*l,z:r*a-n*h+l}}}(i,e.datum_type,e.datum_params)),function(t,e,i,n){var r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b=t.x,_=t.y,w=t.z?t.z:0;if(r=Math.sqrt(b*b+_*_),s=Math.sqrt(b*b+_*_+w*w),r/i<1e-12){if(v=0,s/i<1e-12)return y=-n,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(_,b);o=w/s,c=(a=r/s)*(1-e)*(h=1/Math.sqrt(1-e*(2-e)*a*a)),d=o*h,m=0;do{m++,l=e*(u=i/Math.sqrt(1-e*d*d))/(u+(y=r*c+w*d-u*(1-e*d*d))),g=(p=o*(h=1/Math.sqrt(1-l*(2-l)*a*a)))*c-(f=a*(1-l)*h)*d,c=f,d=p}while(g*g>1e-24&&m<30);return{x:v,y:Math.atan(p/Math.abs(f)),z:y}}(i,e.es,e.a,e.b)):i},wt=function(t,e,i){var n,r,s,o=i.x,a=i.y,h=i.z||0,l={};for(s=0;s<3;s++)if(!e||2!==s||void 0!==i.z)switch(0===s?(n=o,r="x"):1===s?(n=a,r="y"):(n=h,r="z"),t.axis[s]){case"e":l[r]=n;break;case"w":l[r]=-n;break;case"n":l[r]=n;break;case"s":l[r]=-n;break;case"u":void 0!==i[r]&&(l.z=n);break;case"d":void 0!==i[r]&&(l.z=-n);break;default:return null}return l},xt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},St=function(t){g(t.x),g(t.y)},kt=f("WGS84"),Ct=6,At="AJSAJS",Tt="AFAFAF",Mt=65,Et=73,Dt=79,Pt=86,Ot=90,Nt={forward:_,inverse:function(t){var e=k(T(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:w};E.fromMGRS=function(t){return new E(w(t))},E.prototype.toMGRS=function(t){return _([this.x,this.y],t)};var Lt,It=.01068115234375,Ft=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*It))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*It)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(i*=t)*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},Rt=function(t,e,i,n){return n[0]*t-(i*=e)*(n[1]+(e*=e)*(n[2]+e*(n[3]+e*n[4])))},zt=function(t,e,i){for(var n=1/(1-e),r=t,s=20;s;--s){var o=Math.sin(r),a=1-e*o*o;if(r-=a=(Rt(r,o,Math.cos(r),i)-t)*(a*Math.sqrt(a))*n,Math.abs(a)<H)return r}return r},Bt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ft(this.es),this.ml0=Rt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,n,r=t.y,s=ut(t.x-this.long0),o=Math.sin(r),a=Math.cos(r);if(this.es){var h=a*s,l=Math.pow(h,2),u=this.ep2*Math.pow(a,2),c=Math.pow(u,2),d=Math.abs(a)>H?Math.tan(r):0,f=Math.pow(d,2),p=Math.pow(f,2);e=1-this.es*Math.pow(o,2),h/=Math.sqrt(e);var g=Rt(r,o,a,this.en);i=this.a*(this.k0*h*(1+l/6*(1-f+u+l/20*(5-18*f+p+14*u-58*f*u+l/42*(61+179*p-p*f-479*f)))))+this.x0,n=this.a*(this.k0*(g-this.ml0+o*s*h/2*(1+l/12*(5-f+9*u+4*c+l/30*(61+p-58*f+270*u-330*f*u+l/56*(1385+543*p-p*f-3111*f))))))+this.y0}else{var m=a*Math.sin(s);if(Math.abs(Math.abs(m)-1)<H)return 93;if(i=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,n=a*Math.cos(s)/Math.sqrt(1-Math.pow(m,2)),(m=Math.abs(n))>=1){if(m-1>H)return 93;n=0}else n=Math.acos(n);r<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t},inverse:function(t){var e,i,n,r,s=1/this.a*(t.x-this.x0),o=1/this.a*(t.y-this.y0);if(this.es)if(i=zt(e=this.ml0+o/this.k0,this.es,this.en),Math.abs(i)<R){var a=Math.sin(i),h=Math.cos(i),l=Math.abs(h)>H?Math.tan(i):0,u=this.ep2*Math.pow(h,2),c=Math.pow(u,2),d=Math.pow(l,2),f=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var p=s*Math.sqrt(e)/this.k0,g=Math.pow(p,2);n=i-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*d-9*u*d+u-4*c-g/30*(61+90*d-252*u*d+45*f+46*u-g/56*(1385+3633*d+4095*f+1574*f*d)))),r=ut(this.long0+p*(1-g/6*(1+2*d+u-g/20*(5+28*d+24*f+8*u*d+6*u-g/42*(61+662*d+1320*f+720*f*d))))/h)}else n=R*lt(o),r=0;else{var m=Math.exp(s/this.k0),v=.5*(m-1/m),y=Math.cos(this.lat0+o/this.k0);e=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(v,2))),n=Math.asin(e),o<0&&(n=-n),r=0===v&&0===y?0:ut(Math.atan2(v,y)+this.long0)}return t.x=r,t.y=n,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},jt=function(t){var e=Math.exp(t);return(e-1/e)/2},Ht=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))},Yt=function(t,e){for(var i,n=2*Math.cos(2*e),r=t.length-1,s=t[r],o=0;--r>=0;)i=n*s-o+t[r],o=s,s=i;return e+i*Math.sin(2*e)},Vt=function(t,e,i){for(var n,r,s=Math.sin(e),o=Math.cos(e),a=jt(i),h=function(t){var e=Math.exp(i);return(e+1/e)/2}(),l=2*o*h,u=-2*s*a,c=t.length-1,d=t[c],f=0,p=0,g=0;--c>=0;)n=p,r=f,d=l*(p=d)-n-u*(f=g)+t[c],g=u*p-r+l*f;return[(l=s*h)*d-(u=o*a)*g,l*g+u*d]},qt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(i*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(i*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(i*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(i*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),this.cgb[5]=(i*=e)*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(i*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(i*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(i*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),this.utg[5]=-.03233083094085698*(i*=e),this.gtu[5]=.6650675310896665*i;var n=Yt(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var i,n=2*Math.cos(e),r=t.length-1,s=t[r],o=0;--r>=0;)i=n*s-o+t[r],o=s,s=i;return Math.sin(e)*i}(this.gtu,2*n))},forward:function(t){var e=ut(t.x-this.long0),i=t.y;i=Yt(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),s=Math.sin(e),o=Math.cos(e);i=Math.atan2(n,o*r),e=Math.atan2(s*r,Ht(n,r*o)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(Ht(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,h,l=Vt(this.gtu,2*i,2*e);return i+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*i+this.Zb)+this.y0):(a=1/0,h=1/0),t.x=a,t.y=h,t},inverse:function(t){var e,i,n=1/this.a*(t.x-this.x0),r=1/this.a*(t.y-this.y0);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var s=Vt(this.utg,2*r,2*n);r+=s[0],n+=s[1],n=Math.atan(jt(n));var o=Math.sin(r),a=Math.cos(r),h=Math.sin(n),l=Math.cos(n);r=Math.atan2(o*l,Ht(h,l*a)),n=Math.atan2(h,l*a),e=ut(n+this.long0),i=Yt(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Wt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(ut(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Y,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qt.init.apply(this),this.forward=qt.forward,this.inverse=qt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Ut=function(t,e){return Math.pow((1-t)/(1+t),e)},Gt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+q)/(Math.pow(Math.tan(.5*this.lat0+q),this.C)*Ut(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+q),this.C)*Ut(this.e*Math.sin(i),this.ratexp))-R,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+q)/this.K,1/this.C),r=20;r>0&&(i=2*Math.atan(n*Ut(this.e*Math.sin(t.y),-.5*this.e))-R,!(Math.abs(i-t.y)<1e-14));--r)t.y=i;return r?(t.x=e,t.y=i,t):null},names:["gauss"]},Xt={init:function(){Gt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,n,r;return t.x=ut(t.x-this.long0),Gt.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),t.x=(r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n))*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,n,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),i=Math.cos(o),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/s),n=Math.atan2(t.x*e,s*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,Gt.inverse.apply(this,[t]),t.x=ut(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Kt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=H&&(this.k0=.5*(1+lt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=H&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=H&&(this.k0=.5*this.cons*ht(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ct(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ht(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-R,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,n,r,s,o,a=t.x,h=t.y,l=Math.sin(h),u=Math.cos(h),c=ut(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=H&&Math.abs(h+this.lat0)<=H?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*u*Math.cos(c)),t.x=this.a*e*u*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*u*Math.cos(c))+this.y0,t):(i=2*Math.atan(this.ssfn_(h,l,this.e))-R,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=H?(s=ct(this.e,h*this.con,this.con*l),t.x=this.x0+(o=2*this.a*this.k0*s/this.cons)*Math.sin(a-this.long0),t.y=this.y0-this.con*o*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<H?(e=2*this.a*this.k0/(1+r*Math.cos(c)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(c))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(c))+this.y0),t.x=e*r*Math.sin(c)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,i=this.lat0,s<=H?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/s),e=ut(Math.abs(this.coslat0)<H?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(o),s*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=H){if(s<=H)return i=this.lat0,t.x=e=this.long0,t.y=i,t;t.x*=this.con,t.y*=this.con,i=this.con*dt(this.e,s*this.cons/(2*this.a*this.k0)),e=this.con*ut(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else n=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=H?r=this.X0:(r=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/s),e=ut(this.long0+Math.atan2(t.x*Math.sin(n),s*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)))),i=-1*dt(this.e,Math.tan(.5*(R+r)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(R+t))*Math.pow((1-e)/(1+e),.5*i)}},Zt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),s=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+s*e)/(1-s*e));this.K=o-this.alpha*a+this.alpha*s/2*h},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=2*(Math.atan(Math.exp(-this.alpha*(e+i)+this.K))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(r))),o=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,i=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),r=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+r/this.alpha,o=0,a=n,h=-1e3,l=0;Math.abs(a-h)>1e-7;){if(++l>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(a))/2)),h=a,a=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=s,t.y=a,t},names:["somerc"]},Qt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n,r,s=ct(this.e,this.lat0,t),o=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(o*o<1&&(o=1),isNaN(this.longc)){var a=ct(this.e,this.lat1,Math.sin(this.lat1)),h=ct(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(o+Math.sqrt(o*o-1))*Math.pow(s,this.bl):(o-Math.sqrt(o*o-1))*Math.pow(s,this.bl);var l=Math.pow(a,this.bl),u=Math.pow(h,this.bl);r=.5*((n=this.el/l)-1/n);var c=(this.el*this.el-u*l)/(this.el*this.el+u*l),d=(u-l)/(u+l),f=ut(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*f)/d)/this.bl,this.long0=ut(this.long0);var p=ut(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/r),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else n=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=n*Math.pow(s,this.bl),r=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))},forward:function(t){var e,i,n,r=t.y,s=ut(t.x-this.long0);if(Math.abs(Math.abs(r)-R)<=H)n=r>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(q+n*this.gamma0*.5)),e=-1*n*R*this.al/this.bl;else{var o=ct(this.e,r,Math.sin(r)),a=this.el/Math.pow(o,this.bl),h=.5*(a-1/a),l=.5*(a+1/a),u=Math.sin(this.bl*s),c=(h*Math.sin(this.gamma0)-u*Math.cos(this.gamma0))/l;i=Math.abs(Math.abs(c)-1)<=H?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-c)/(1+c))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=H?this.al*this.bl*s:this.al*Math.atan2(h*Math.cos(this.gamma0)+u*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},inverse:function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),s=.5*(n+1/n),o=Math.sin(this.bl*e/this.al),a=(o*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/s,h=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<H?(t.x=this.long0,t.y=R):Math.abs(a+1)<H?(t.x=this.long0,t.y=-1*R):(t.y=dt(this.e,h),t.x=ut(this.long0-Math.atan2(r*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},$t={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<H)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=ht(this.e,e,i),r=ct(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=ht(this.e,s,o),h=ct(this.e,this.lat2,s),l=ct(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>H?Math.log(n/a)/Math.log(r/h):e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=H&&(i=lt(i)*(R-2*H));var n,r,s=Math.abs(Math.abs(i)-R);if(s>H)n=ct(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if((s=i*this.ns)<=0)return null;r=0}var o=this.ns*ut(e-this.long0);return t.x=this.k0*(r*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(o))+this.y0,t},inverse:function(t){var e,i,n,r,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),i=1):(e=-Math.sqrt(o*o+a*a),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*o,i*a)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=dt(this.e,n)))return null}else r=-R;return s=ut(h/this.ns+this.long0),t.x=s,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Jt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,n,r,s,o,a,h=t.y,l=ut(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),n=-l*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),s=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,n,r,s,o,a,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,o=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(a=1),o=t.y,l+=1}while(0===a&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},te=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)},ee=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ie=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ne=function(t){return.05859375*t*t*(1+.75*t)},re=function(t){return t*t*t*(35/3072)},se=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)},oe=function(t){return Math.abs(t)<R?t:t-lt(t)*Math.PI},ae=function(t,e,i,n,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(s+=o=(t-(e*s-i*Math.sin(2*s)+n*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*i*Math.cos(2*s)+4*n*Math.cos(4*s)-6*r*Math.cos(6*s)),Math.abs(o)<=1e-10)return s;return NaN},he={init:function(){this.sphere||(this.e0=ee(this.es),this.e1=ie(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,n=t.x,r=t.y;if(n=ut(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=se(this.a,this.e,s),h=Math.tan(r)*Math.tan(r),l=n*Math.cos(r),u=l*l,c=this.es*o*o/(1-this.es);e=a*l*(1-u*h*(1/6-(8-h+8*c)*u/120)),i=this.a*te(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*s/o*u*(.5+(5-h+6*c)*u/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var s=r+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(s))}else{var o=ae(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-R)<=H)return t.x=this.long0,t.y=R,r<0&&(t.y*=-1),t;var a=se(this.a,this.e,Math.sin(o)),h=a*a*a/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(o),2),u=n*this.a/a,c=u*u;e=o-a*Math.tan(o)/h*u*u*(.5-(1+3*l)*u*u/24),i=u*(1-c*(l/3+(1+3*l)*l*c/15))/Math.cos(o)}return t.x=ut(i+this.long0),t.y=oe(e),t},names:["Cassini","Cassini_Soldner","cass"]},le=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e},ue={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-R)<H?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<H?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=le(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=.3333333333333333*t,i[0]+=.17222222222222222*(e=t*t),i[1]=.06388888888888888*e,i[0]+=.10257936507936508*(e*=t),i[1]+=.0664021164021164*e,i[2]=.016415012942191543*e,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=le(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,n,r,s,o,a,h,l,u,c=t.x,d=t.y;if(c=ut(c-this.long0),this.sphere){if(s=Math.sin(d),u=Math.cos(d),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+u*n:1+this.sinph0*s+this.cosph0*u*n)<=H)return null;e=(i=Math.sqrt(2/i))*u*Math.sin(c),i*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*u*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(d+this.phi0)<H)return null;i=q-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(c),i*=n}}else{switch(a=0,h=0,l=0,n=Math.cos(c),r=Math.sin(c),s=Math.sin(d),o=le(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=o/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:l=1+this.sinb1*a+this.cosb1*h*n;break;case this.EQUIT:l=1+h*n;break;case this.N_POLE:l=R+d,o=this.qp-o;break;case this.S_POLE:l=d-R,o=this.qp+o}if(Math.abs(l)<H)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*a-this.sinb1*h*n):(l=Math.sqrt(2/(1+h*n)))*a*this.ymf,e=this.xmf*l*h*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(l=Math.sqrt(o))*r,i=n*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,s,o,a,h=t.x/this.a,l=t.y/this.a;if(this.sphere){var u,c=0,d=0;if((i=.5*(u=Math.sqrt(h*h+l*l)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(i),c=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(u)<=H?0:Math.asin(l*d/u),h*=d,l=c*u;break;case this.OBLIQ:i=Math.abs(u)<=H?this.phi0:Math.asin(c*this.sinph0+l*d*this.cosph0/u),h*=d*this.cosph0,l=(c-Math.sin(i)*this.sinph0)*u;break;case this.N_POLE:l=-l,i=R-i;break;case this.S_POLE:i-=R}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,l):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,l*=this.dd,(o=Math.sqrt(h*h+l*l))<H)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*o/this.rq),n=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(s=this.qp*(a=n*this.sinb1+l*r*this.cosb1/o),l=o*this.cosb1*n-l*this.sinb1*r):(s=this.qp*(a=l*r/o),l=o*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(s=h*h+l*l))return t.x=0,t.y=this.phi0,t;a=1-s/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,l),i=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}(Math.asin(a),this.apa)}return t.x=ut(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ce=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},de={init:function(){Math.abs(this.lat1+this.lat2)<H||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ht(this.e3,this.sin_po,this.cos_po),this.qs1=le(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ht(this.e3,this.sin_po,this.cos_po),this.qs2=le(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=le(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>H?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=le(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,s=this.ns0*ut(e-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t},inverse:function(t){var e,i,n,r,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),n=0,0!==e&&(n=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,s=this.sphere?Math.asin((this.c-i*i)/(2*this.ns0)):this.phi1z(this.e3,(this.c-i*i)/this.ns0),r=ut(n/this.ns0+this.long0),t.x=r,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,n,r,s,o=ce(.5*e);if(t<H)return o;for(var a=t*t,h=1;h<=25;h++)if(o+=s=.5*(r=1-(n=t*(i=Math.sin(o)))*n)*r/Math.cos(o)*(e/(1-a)-i/r+.5/t*Math.log((1-n)/(1+n))),Math.abs(s)<=1e-7)return o;return null}},fe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,n,r,s,o,a,h=t.y;return n=ut(t.x-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),(s=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(s)<=H?(o=this.x0+1*this.a*i*Math.sin(n)/s,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)/s):(o=this.x0+this.infinity_dist*i*Math.sin(n),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=o,t.y=a,t},inverse:function(t){var e,i,n,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),o=ce(n*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),s=ut(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t},names:["gnom"]},pe={init:function(){this.sphere||(this.k0=ht(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,n=t.y,r=ut(t.x-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var s=le(this.e,Math.sin(n));e=this.x0+this.a*this.k0*r,i=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=ut(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*R:R;for(var n,r,s,o,a=Math.asin(.5*e),h=0;h<30;h++)if(r=Math.sin(a),s=Math.cos(a),o=t*r,a+=n=Math.pow(1-o*o,2)/(2*s)*(e/(1-t*t)-r/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),Math.abs(n)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=ut(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},ge={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,i=ut(t.x-this.long0),n=oe(e-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*n,t},inverse:function(t){var e=t.y;return t.x=ut(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=oe(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},me={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=ie(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,n,r=t.y,s=ut(t.x-this.long0);if(n=s*Math.sin(r),this.sphere)Math.abs(r)<=H?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(r),i=this.a*(oe(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=H)e=this.a*s,i=-1*this.ml0;else{var o=se(this.a,this.e,Math.sin(r))/Math.tan(r);e=o*Math.sin(n),i=this.a*te(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+o*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,n,r,s,o,a,h,l;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=H)e=ut(n/this.a+this.long0),i=0;else{var u;for(a=n*n/this.a/this.a+(o=this.lat0+r/this.a)*o,h=o,s=20;s;--s)if(h+=l=-1*(o*(h*(u=Math.tan(h))+1)-h-.5*(h*h+a)*u)/((h-o)/u-1),Math.abs(l)<=H){i=h;break}e=ut(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=H)i=0,e=ut(this.long0+n/this.a);else{var c,d,f,p,g;for(a=n*n/this.a/this.a+(o=(this.ml0+r)/this.a)*o,h=o,s=20;s;--s)if(g=this.e*Math.sin(h),c=Math.sqrt(1-g*g)*Math.tan(h),d=this.a*te(this.e0,this.e1,this.e2,this.e3,h),f=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=l=(o*(c*(p=d/this.a)+1)-p-.5*c*(p*p+a))/(this.es*Math.sin(2*h)*(p*p+a-2*o*p)/(4*c)+(o-p)*(c*f-2/Math.sin(2*h))-f),Math.abs(l)<=H){i=h;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=ut(this.long0+Math.asin(n*c/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]},ve={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=(t.y-this.lat0)/F*1e-5,n=t.x-this.long0,r=1,s=0;for(e=1;e<=10;e++)s+=this.A[e]*(r*=i);var o,a=s,h=n,l=1,u=0,c=0,d=0;for(e=1;e<=6;e++)o=u*a+l*h,c=c+this.B_re[e]*(l=l*a-u*h)-this.B_im[e]*(u=o),d=d+this.B_im[e]*l+this.B_re[e]*u;return t.x=d*this.a+this.x0,t.y=c*this.a+this.y0,t},inverse:function(t){var e,i,n=(t.y-this.y0)/this.a,r=(t.x-this.x0)/this.a,s=1,o=0,a=0,h=0;for(e=1;e<=6;e++)i=o*n+s*r,a=a+this.C_re[e]*(s=s*n-o*r)-this.C_im[e]*(o=i),h=h+this.C_im[e]*s+this.C_re[e]*o;for(var l=0;l<this.iterations;l++){var u,c=a,d=h,f=n,p=r;for(e=2;e<=6;e++)u=d*a+c*h,f+=(e-1)*(this.B_re[e]*(c=c*a-d*h)-this.B_im[e]*(d=u)),p+=(e-1)*(this.B_im[e]*c+this.B_re[e]*d);c=1,d=0;var g=this.B_re[1],m=this.B_im[1];for(e=2;e<=6;e++)u=d*a+c*h,g+=e*(this.B_re[e]*(c=c*a-d*h)-this.B_im[e]*(d=u)),m+=e*(this.B_im[e]*c+this.B_re[e]*d);var v=g*g+m*m;a=(f*g+p*m)/v,h=(p*g-f*m)/v}var y=a,b=h,_=1,w=0;for(e=1;e<=9;e++)w+=this.D[e]*(_*=y);var x=this.lat0+w*F*1e5;return t.x=this.long0+b,t.y=x,t},names:["New_Zealand_Map_Grid","nzmg"]},ye={init:function(){},forward:function(t){var e=t.y,i=ut(t.x-this.long0),n=this.x0+this.a*i,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=n,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=ut(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},be={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ft(this.es)},forward:function(t){var e,i,n=t.x,r=t.y;if(n=ut(n-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(r),o=20;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<H)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var h=Math.sin(r),l=Math.cos(r);i=this.a*Rt(r,h,l,this.en),e=this.a*n*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=ce((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ce(Math.sin(e)/this.n)),n=ut(n+this.long0),e=oe(e)):(e=zt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<R?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=ut(i)):r-H<R&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},_e={init:function(){},forward:function(t){for(var e=t.y,i=ut(t.x-this.long0),n=e,r=Math.PI*Math.sin(e);;){var s=-(n+Math.sin(n)-r)/(1+Math.cos(n));if(n+=s,Math.abs(s)<H)break}n/=2,Math.PI/2-Math.abs(e)<H&&(i=0);var o=.900316316158*this.a*i*Math.cos(n)+this.x0,a=1.4142135623731*this.a*Math.sin(n)+this.y0;return t.x=o,t.y=a,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=ut(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t},names:["Mollweide","moll"]},we={init:function(){Math.abs(this.lat1+this.lat2)<H||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=ie(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ht(this.e,this.sinphi,this.cosphi),this.ml1=te(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<H?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ht(this.e,this.sinphi,this.cosphi),this.ml2=te(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=te(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=te(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var s=this.ns*ut(i-this.long0),o=this.x0+e*Math.sin(s),a=this.y0+this.rh-e*Math.cos(s);return t.x=o,t.y=a,t},inverse:function(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;return 0!==i&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=ut(this.long0+s/this.ns),n=oe(this.g-i/this.a),t.x=r,t.y=n,t):(n=ae(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),r=ut(this.long0+s/this.ns),t.x=r,t.y=n,t)},names:["Equidistant_Conic","eqdc"]},xe={init:function(){this.R=this.a},forward:function(t){var e,i,n=t.y,r=ut(t.x-this.long0);Math.abs(n)<=H&&(e=this.x0+this.R*r,i=this.y0);var s=ce(2*Math.abs(n/Math.PI));(Math.abs(r)<=H||Math.abs(Math.abs(n)-R)<=H)&&(e=this.x0,i=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/r-r/Math.PI),a=o*o,h=Math.sin(s),l=Math.cos(s),u=l/(h+l-1),c=u*(2/h-1),d=c*c,f=Math.PI*this.R*(o*(u-d)+Math.sqrt(a*(u-d)*(u-d)-(d+a)*(u*u-d)))/(d+a);r<0&&(f=-f),e=this.x0+f;var p=a+u;return f=Math.PI*this.R*(c*p-o*Math.sqrt((d+a)*(a+1)-p*p))/(d+a),i=n>=0?this.y0+f:this.y0-f,t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r,s,o,a,h,l,u,c,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,s=(n=t.x/c)*n+(r=t.y/c)*r,c=3*(r*r/(h=-2*(o=-Math.abs(r)*(1+s))+1+2*r*r+s*s)+(2*(a=o-2*r*r+n*n)*a*a/h/h/h-9*o*a/h/h)/27)/(l=(o-a*a/3/h)/h)/(u=2*Math.sqrt(-l/3)),Math.abs(c)>1&&(c=c>=0?1:-1),d=Math.acos(c)/3,i=t.y>=0?(-u*Math.cos(d+Math.PI/3)-a/3/h)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-a/3/h)*Math.PI,e=Math.abs(n)<H?this.long0:ut(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(n*n-r*r)+s*s))/2/n),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Se={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S=t.x,k=t.y,C=Math.sin(t.y),A=Math.cos(t.y),T=ut(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=H?(t.x=this.x0+this.a*(R-k)*Math.sin(T),t.y=this.y0-this.a*(R-k)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=H?(t.x=this.x0+this.a*(R+k)*Math.sin(T),t.y=this.y0+this.a*(R+k)*Math.cos(T),t):(y=this.sin_p12*C+this.cos_p12*A*Math.cos(T),v=(m=Math.acos(y))/Math.sin(m),t.x=this.x0+this.a*v*A*Math.sin(T),t.y=this.y0+this.a*v*(this.cos_p12*C-this.sin_p12*A*Math.cos(T)),t):(e=ee(this.es),i=ie(this.es),n=ne(this.es),r=re(this.es),Math.abs(this.sin_p12-1)<=H?(s=this.a*te(e,i,n,r,R),o=this.a*te(e,i,n,r,k),t.x=this.x0+(s-o)*Math.sin(T),t.y=this.y0-(s-o)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=H?(s=this.a*te(e,i,n,r,R),o=this.a*te(e,i,n,r,k),t.x=this.x0+(s+o)*Math.sin(T),t.y=this.y0+(s+o)*Math.cos(T),t):(a=C/A,h=se(this.a,this.e,this.sin_p12),l=se(this.a,this.e,C),u=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(l*A)),b=0===(c=Math.atan2(Math.sin(T),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(T)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(c)-Math.PI)<=H?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(T)*Math.cos(u)/Math.sin(c)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),t.x=this.x0+(m=h*b*(1-(_=b*b)*(g=f*f)*(1-g)/6+(w=_*b)/8*(p=d*f)*(1-2*g)+(x=w*b)/120*(g*(4-7*g)-3*d*d*(1-7*g))-x*b/48*p))*Math.sin(c),t.y=this.y0+m*Math.cos(c),t))},inverse:function(t){var e,i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*R*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),s=this.long0,Math.abs(e)<=H?o=this.lat0:(o=ce(r*this.sin_p12+t.y*n*this.cos_p12/e),a=Math.abs(this.lat0)-R,s=ut(Math.abs(a)<=H?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=s,t.y=o,t}return h=ee(this.es),l=ie(this.es),u=ne(this.es),c=re(this.es),Math.abs(this.sin_p12-1)<=H?(d=this.a*te(h,l,u,c,R),e=Math.sqrt(t.x*t.x+t.y*t.y),o=ae((d-e)/this.a,h,l,u,c),s=ut(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=H?(d=this.a*te(h,l,u,c,R),e=Math.sqrt(t.x*t.x+t.y*t.y),o=ae((e-d)/this.a,h,l,u,c),s=ut(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),f=se(this.a,this.e,this.sin_p12),m=Math.cos(g),b=3*this.es*(1-(y=-(v=this.e*this.cos_p12*m)*v/(1-this.es)))*this.sin_p12*this.cos_p12*m/(1-this.es),x=1-y*(w=(_=e/f)-y*(1+y)*Math.pow(_,3)/6-b*(1+3*y)*Math.pow(_,4)/24)*w/2-_*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*m),s=ut(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(p))),o=Math.atan((1-this.es*x*this.sin_p12/Math.sin(p))*Math.tan(p)/(1-this.es)),t.x=s,t.y=o,t)},names:["Azimuthal_Equidistant","aeqd"]},ke={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,s,o,a,h=t.y;return n=ut(t.x-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),((s=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(s)<=H)&&(o=1*this.a*i*Math.sin(n),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=o,t.y=a,t},inverse:function(t){var e,i,n,r,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=ce(e/this.a),n=Math.sin(i),r=Math.cos(i),o=this.long0,Math.abs(e)<=H?(a=this.lat0,t.x=o,t.y=a,t):(a=ce(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.abs(this.lat0)-R,Math.abs(s)<=H?(o=ut(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=ut(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=o,t.y=a,t))},names:["ortho"]},Ce={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Ae={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=R-q/2?5:this.lat0<=-(R-q/2)?6:Math.abs(this.long0)<=q?1:Math.abs(this.long0)<=R+q?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,n,r,s,o,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,5===this.face)r=R-e,i>=q&&i<=R+q?(h.value=Ce.AREA_0,n=i-R):i>R+q||i<=-(R+q)?(h.value=Ce.AREA_1,n=i>0?i-U:i+U):i>-(R+q)&&i<=-q?(h.value=Ce.AREA_2,n=i+R):(h.value=Ce.AREA_3,n=i);else if(6===this.face)r=R+e,i>=q&&i<=R+q?(h.value=Ce.AREA_0,n=-i+R):i<q&&i>=-q?(h.value=Ce.AREA_1,n=-i):i<-q&&i>=-(R+q)?(h.value=Ce.AREA_2,n=-i-R):(h.value=Ce.AREA_3,n=i>0?-i+U:-i-U);else{var l,u,c,d,f,p;2===this.face?i=P(i,+R):3===this.face?i=P(i,+U):4===this.face&&(i=P(i,-R)),d=Math.sin(e),f=Math.cos(e),p=Math.sin(i),l=f*Math.cos(i),u=f*p,c=d,1===this.face?n=D(r=Math.acos(l),c,u,h):2===this.face?n=D(r=Math.acos(u),c,-l,h):3===this.face?n=D(r=Math.acos(-l),c,-u,h):4===this.face?n=D(r=Math.acos(-u),c,l,h):(r=n=0,h.value=Ce.AREA_0)}return o=Math.atan(12/U*(n+Math.acos(Math.sin(n)*Math.cos(q))-R)),s=Math.sqrt((1-Math.cos(r))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(n))))),h.value===Ce.AREA_1?o+=R:h.value===Ce.AREA_2?o+=U:h.value===Ce.AREA_3&&(o+=1.5*U),a.x=s*Math.cos(o),a.y=s*Math.sin(o),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,i,n,r,s,o,a,h,l,u,c,d,f={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=Ce.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=Ce.AREA_1,e-=R):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Ce.AREA_2,e=e<0?e+U:e-U):(p.value=Ce.AREA_3,e+=R),l=U/12*Math.tan(e),s=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),o=Math.atan(s),(a=1-(n=Math.cos(e))*n*(r=Math.tan(i))*r*(1-Math.cos(Math.atan(1/Math.cos(o)))))<-1?a=-1:a>1&&(a=1),5===this.face)h=Math.acos(a),f.phi=R-h,f.lam=p.value===Ce.AREA_0?o+R:p.value===Ce.AREA_1?o<0?o+U:o-U:p.value===Ce.AREA_2?o-R:o;else if(6===this.face)h=Math.acos(a),f.phi=h-R,f.lam=p.value===Ce.AREA_0?-o+R:p.value===Ce.AREA_1?-o:p.value===Ce.AREA_2?-o-R:o<0?-o-U:-o+U;else{var g,m,v;l=(g=a)*g,m=(l+=(v=l>=1?0:Math.sqrt(1-l)*Math.sin(o))*v)>=1?0:Math.sqrt(1-l),p.value===Ce.AREA_1?(l=m,m=-v,v=l):p.value===Ce.AREA_2?(m=-m,v=-v):p.value===Ce.AREA_3&&(l=m,m=v,v=-l),2===this.face?(l=g,g=-m,m=l):3===this.face?(g=-g,m=-m):4===this.face&&(l=g,g=m,m=-l),f.phi=Math.acos(-v)-R,f.lam=Math.atan2(m,g),2===this.face?f.lam=P(f.lam,-R):3===this.face?f.lam=P(f.lam,-U):4===this.face&&(f.lam=P(f.lam,+R))}return 0!==this.es&&(u=f.phi<0?1:0,c=Math.tan(f.phi),d=this.b/Math.sqrt(c*c+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),u&&(f.phi=-f.phi)),f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Te=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Me=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ee=V/5,De=1/Ee,Pe=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Oe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=ut(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*Ee);n<0?n=0:n>=18&&(n=17);var r={x:Pe(Te[n],i=V*(i-De*n))*e,y:Pe(Me[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Te[18][0],e.y=t.y<0?-R:R;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(Me[i][0]>e.y)--i;else{if(!(Me[i+1][0]<=e.y))break;++i}var n=Me[i],r=5*(e.y-n[0])/(Me[i+1][0]-n[0]);r=function(t,e,i,n){for(var r=e;n;--n){var s=t(r);if(r-=s,Math.abs(s)<i)break}return r}(function(t){return(Pe(n,t)-e.y)/function(t,e){return n[1]+e*(2*n[2]+3*e*n[3])}(0,t)},r,H,100),e.x/=Pe(Te[i],r),e.y=(5*i+r)*Y,t.y<0&&(e.y=-e.y)}return e.x=ut(e.x+this.long0),e},names:["Robinson","robin"]};return b.defaultDatum="WGS84",b.Proj=f,b.WGS84=new b.Proj("WGS84"),b.Point=E,b.toPoint=xt,b.defs=a,b.transform=m,b.mgrs=Nt,b.version="2.5.0",(Lt=b).Proj.projections.add(Bt),Lt.Proj.projections.add(qt),Lt.Proj.projections.add(Wt),Lt.Proj.projections.add(Xt),Lt.Proj.projections.add(Kt),Lt.Proj.projections.add(Zt),Lt.Proj.projections.add(Qt),Lt.Proj.projections.add($t),Lt.Proj.projections.add(Jt),Lt.Proj.projections.add(he),Lt.Proj.projections.add(ue),Lt.Proj.projections.add(de),Lt.Proj.projections.add(fe),Lt.Proj.projections.add(pe),Lt.Proj.projections.add(ge),Lt.Proj.projections.add(me),Lt.Proj.projections.add(ve),Lt.Proj.projections.add(ye),Lt.Proj.projections.add(be),Lt.Proj.projections.add(_e),Lt.Proj.projections.add(we),Lt.Proj.projections.add(xe),Lt.Proj.projections.add(Se),Lt.Proj.projections.add(ke),Lt.Proj.projections.add(Ae),Lt.Proj.projections.add(Oe),b}),function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}!function(e){if("object"!==t(e.console)){e.console={};for(var i,n,r=e.console,s=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");i=o.pop();)r[i]||(r[i]={});for(;n=a.pop();)r[n]||(r[n]=s)}var h,l,u,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(t){var e,i,n,r,s,o=0,a=0,h="",l=[];if(!t)return t;for(;e=(s=t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<8|t.charCodeAt(o++))>>18&63,i=s>>12&63,n=s>>6&63,r=63&s,l[a++]=d.charAt(e)+d.charAt(i)+d.charAt(n)+d.charAt(r),o<t.length;);h=l.join("");var u=t.length%3;return(u?h.slice(0,u-3):h)+"===".slice(u||3)}),void 0===e.atob&&(e.atob=function(t){var e,i,n,r,s,o,a=0,h=0,l=[];if(!t)return t;for(t+="";e=(o=d.indexOf(t.charAt(a++))<<18|d.indexOf(t.charAt(a++))<<12|(r=d.indexOf(t.charAt(a++)))<<6|(s=d.indexOf(t.charAt(a++))))>>16&255,i=o>>8&255,n=255&o,l[h++]=64==r?String.fromCharCode(e):64==s?String.fromCharCode(e,i):String.fromCharCode(e,i,n),a<t.length;);return l.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,n=new Array(i),r=1<arguments.length?arguments[1]:void 0,s=0;s<i;s++)s in e&&(n[s]=t.call(r,e[s],s,e));return n}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var i=Object(this),n=i.length>>>0,r=0;r<n;r++)r in i&&t.call(e,i[r],r,i)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var s=e[r];if(t.call(n,s,r,e))return s;r++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(h=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),c=(u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==t(e)&&("function"!=typeof e||null===e))throw new TypeError;var i,n,r=[];for(i in e)h.call(e,i)&&r.push(i);if(l)for(n=0;n<c;n++)h.call(e,u[n])&&r.push(u[n]);return r})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var e,i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j,H,Y,V,q,W,U,G,X,K,Z,Q,$,J,tt,et,it,nt,rt,st,ot,at,ht=function(e){function i(i){if("object"!==t(i))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,e,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof e||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var r=Math.random().toString(35);return n[t][r]=[e,!!i],r},this.unsubscribe=function(t){for(var e in n)if(n[e][t])return delete n[e][t],0===Object.keys(n[e]).length&&delete n[e],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in n[t]){var a=n[t][o];try{a[0].apply(i,r)}catch(t){e.console&&console.error("jsPDF PubSub Error",t.message,t)}a[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function n(r,s,o,a){var h={},l=[],u=1;"object"===t(r)&&(r=(h=r).orientation,s=h.unit||s,o=h.format||o,a=h.compress||h.compressPdf||a,l=h.filters||(!0===a?["FlateEncode"]:l),u="number"==typeof h.userUnit?Math.abs(h.userUnit):1),s=s||"mm",r=(""+(r||"P")).toLowerCase();var c=h.putOnlyUsedFonts||!0,d={},f={internal:{},__private__:{}};f.__private__.PubSub=i;var p="1.3",g=f.__private__.getPdfVersion=function(){return p},m=(f.__private__.setPdfVersion=function(t){p=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),v=(f.__private__.getPageFormats=function(){return m},f.__private__.getPageFormat=function(t){return m[t]});"string"==typeof o&&(o=v(o)),o=o||v("a4");var y,b=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},_=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},w="00000000000000000000000000000000",x=f.__private__.getFileId=function(){return w},S=f.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w=t};f.setFileId=function(t){return S(t),this},f.getFileId=function(){return x()};var k=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),i=e<0?"+":"-",n=Math.floor(Math.abs(e/60)),r=Math.abs(e%60),s=[i,F(n),"'",F(r),"'"].join("");return["D:",t.getFullYear(),F(t.getMonth()+1),F(t.getDate()),F(t.getHours()),F(t.getMinutes()),F(t.getSeconds()),s].join("")},C=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),i=parseInt(t.substr(6,2),10)-1,n=parseInt(t.substr(8,2),10),r=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),o=parseInt(t.substr(14,2),10);return parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10),new Date(e,i,n,r,s,o,0)},A=f.__private__.setCreationDate=function(e){var i;if(void 0===e&&(e=new Date),"object"===t(e)&&"[object Date]"===Object.prototype.toString.call(e))i=k(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");i=e}return y=i},T=f.__private__.getCreationDate=function(t){var e=y;return"jsDate"===t&&(e=C(y)),e};f.setCreationDate=function(t){return A(t),this},f.getCreationDate=function(t){return T(t)};var M,E,D,P,O,N,L,I,F=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},R=!1,z=[],B=[],j=0,H=(f.__private__.setCustomOutputDestination=function(t){E=t},f.__private__.resetCustomOutputDestination=function(t){E=void 0},f.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===E?R?z[M]:B:E).push(t),R||(j+=t.length+1),e}),Y=f.__private__.write=function(t){return H(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},V=f.__private__.getArrayBuffer=function(t){for(var e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i);e--;)n[e]=t.charCodeAt(e);return i},q=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],W=(f.__private__.getStandardFonts=function(t){return q},h.fontSize||16),U=(f.__private__.setFontSize=f.setFontSize=function(t){return W=t,this},f.__private__.getFontSize=f.getFontSize=function(){return W}),G=h.R2L||!1,X=(f.__private__.setR2L=f.setR2L=function(t){return G=t,this},f.__private__.getR2L=f.getR2L=function(t){return G},f.__private__.setZoomMode=function(t){if(/^\d*\.?\d*\%$/.test(t))D=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');D=t}else D=parseInt(t,10)}),K=(f.__private__.getZoomMode=function(){return D},f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');P=t}),Z=(f.__private__.getPageMode=function(){return P},f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');O=t}),Q=(f.__private__.getLayoutMode=function(){return O},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,i){return X(t),Z(e),K(i),this},{title:"",subject:"",author:"",keywords:"",creator:""}),$=(f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(Q).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Q[t]},f.__private__.getDocumentProperties=function(t){return Q},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in Q)Q.hasOwnProperty(e)&&t[e]&&(Q[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(Q).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Q[t]=e},0),J=[],tt={},et={},it=0,nt=[],rt=[],st=new i(f),ot=h.hotfixes||[],at=f.__private__.newObject=function(){var t=ht();return lt(t,!0),t},ht=f.__private__.newObjectDeferred=function(){return J[++$]=function(){return j},$},lt=function(t,e){return e="boolean"==typeof e&&e,J[t]=j,e&&H(t+" 0 obj"),t},ut=f.__private__.newAdditionalObject=function(){var t={objId:ht(),content:""};return rt.push(t),t},ct=ht(),dt=ht(),ft=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var i=parseFloat(e[0]);e=[i,i,i,"r"]}for(var n="#",r=0;r<3;r++)n+=("0"+Math.floor(255*parseFloat(e[r])).toString(16)).slice(-2);return n},pt=f.__private__.encodeColorString=function(e){var i;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,s=e.ch3,o=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var h=new RGBColor(n);if(h.ok)n=h.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,s=255&l}if(void 0===r||void 0===o&&n===r&&r===s)if("string"==typeof n)i=n+" "+a[0];else switch(e.precision){case 2:i=b(n/255)+" "+a[0];break;case 3:default:i=_(n/255)+" "+a[0]}else if(void 0===o||"object"===t(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.000","1.000","1.000",a[1]].join(" ");if("string"==typeof n)i=[n,r,s,a[1]].join(" ");else switch(e.precision){case 2:i=[b(n/255),b(r/255),b(s/255),a[1]].join(" ");break;default:case 3:i=[_(n/255),_(r/255),_(s/255),a[1]].join(" ")}}else if("string"==typeof n)i=[n,r,s,o,a[2]].join(" ");else switch(e.precision){case 2:i=[b(n/255),b(r/255),b(s/255),b(o/255),a[2]].join(" ");break;case 3:default:i=[_(n/255),_(r/255),_(s/255),_(o/255),a[2]].join(" ")}return i},gt=f.__private__.getFilters=function(){return l},mt=f.__private__.putStream=function(t){var e,i=(t=t||{}).data||"",r=t.filters||gt(),s=t.alreadyAppliedFilters||[],o=t.addLength1||!1,a=i.length;!0===r&&(r=["FlateEncode"]);var h=t.additionalKeyValues||[],l=(e=void 0!==n.API.processDataByFilters?n.API.processDataByFilters(i,r):{data:i,reverseChain:[]}).reverseChain+(Array.isArray(s)?s.join(" "):s.toString());0!==e.data.length&&(h.push({key:"Length",value:e.data.length}),!0===o&&h.push({key:"Length1",value:a})),0!=l.length&&(l.split("/").length-1==1?h.push({key:"Filter",value:l}):h.push({key:"Filter",value:"["+l+"]"})),H("<<");for(var u=0;u<h.length;u++)H("/"+h[u].key+" "+h[u].value);H(">>"),0!==e.data.length&&(H("stream"),H(e.data),H("endstream"))},vt=f.__private__.putPage=function(t){var e=t.number,i=t.data,n=t.objId,r=t.contentsObjId;lt(n,!0),H("<</Type /Page"),H("/Parent "+t.rootDictionaryObjId+" 0 R"),H("/Resources "+t.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(b(t.mediaBox.bottomLeftX))+" "+parseFloat(b(t.mediaBox.bottomLeftY))+" "+b(t.mediaBox.topRightX)+" "+b(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&H("/CropBox ["+b(t.cropBox.bottomLeftX)+" "+b(t.cropBox.bottomLeftY)+" "+b(t.cropBox.topRightX)+" "+b(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&H("/BleedBox ["+b(t.bleedBox.bottomLeftX)+" "+b(t.bleedBox.bottomLeftY)+" "+b(t.bleedBox.topRightX)+" "+b(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&H("/TrimBox ["+b(t.trimBox.bottomLeftX)+" "+b(t.trimBox.bottomLeftY)+" "+b(t.trimBox.topRightX)+" "+b(t.trimBox.topRightY)+"]"),null!==t.artBox&&H("/ArtBox ["+b(t.artBox.bottomLeftX)+" "+b(t.artBox.bottomLeftY)+" "+b(t.artBox.topRightX)+" "+b(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&H("/UserUnit "+t.userUnit),st.publish("putPage",{objId:n,pageContext:nt[e],pageNumber:e,page:i}),H("/Contents "+r+" 0 R"),H(">>"),H("endobj");var s=i.join("\n");return lt(r,!0),mt({data:s,filters:gt()}),H("endobj"),n},yt=f.__private__.putPages=function(){var t,e,i=[];for(t=1;t<=it;t++)nt[t].objId=ht(),nt[t].contentsObjId=ht();for(t=1;t<=it;t++)i.push(vt({number:t,data:z[t],objId:nt[t].objId,contentsObjId:nt[t].contentsObjId,mediaBox:nt[t].mediaBox,cropBox:nt[t].cropBox,bleedBox:nt[t].bleedBox,trimBox:nt[t].trimBox,artBox:nt[t].artBox,userUnit:nt[t].userUnit,rootDictionaryObjId:ct,resourceDictionaryObjId:dt}));lt(ct,!0),H("<</Type /Pages");var n="/Kids [";for(e=0;e<it;e++)n+=i[e]+" 0 R ";H(n+"]"),H("/Count "+it),H(">>"),H("endobj"),st.publish("postPutPages")},bt=function(t,e,i){et.hasOwnProperty(e)||(et[e]={}),et[e][i]=t},_t=function(t,e,i,n,r){r=r||!1;var s="F"+(Object.keys(tt).length+1).toString(10),o={id:s,postScriptName:t,fontName:e,fontStyle:i,encoding:n,isStandardFont:r,metadata:{}};return st.publish("addFont",{font:o,instance:this}),void 0!==s&&(tt[s]=o,bt(s,e,i)),s},wt=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var i,n,r,s,o,a,h,l,u;if(r=(e=e||{}).sourceEncoding||"Unicode",o=e.outputEncoding,(e.autoencode||o)&&tt[N].metadata&&tt[N].metadata[r]&&tt[N].metadata[r].encoding&&(s=tt[N].metadata[r].encoding,!o&&tt[N].encoding&&(o=tt[N].encoding),!o&&s.codePages&&(o=s.codePages[0]),"string"==typeof o&&(o=s[o]),o)){for(h=!1,a=[],i=0,n=t.length;i<n;i++)(l=o[t.charCodeAt(i)])?a.push(String.fromCharCode(l)):a.push(t[i]),a[i].charCodeAt(0)>>8&&(h=!0);t=a.join("")}for(i=t.length;void 0===h&&0!==i;)t.charCodeAt(i-1)>>8&&(h=!0),i--;if(!h)return t;for(a=e.noBOM?[]:[254,255],i=0,n=t.length;i<n;i++){if((u=(l=t.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(u),a.push(l-(u<<8))}return String.fromCharCode.apply(void 0,a)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=f.__private__.beginPage=function(t,e){var i,n="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(i=v(t.toLowerCase()))&&(t=i[0],e=i[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=o[0],e=o[1]),n){switch(n.substr(0,1)){case"l":t<e&&(n="s");break;case"p":e<t&&(n="s")}"s"===n&&(i=t,t=e,e=i)}(14400<t||14400<e)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),o=[t,e],R=!0,z[++it]=[],nt[it]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},Ct(it)},St=function(){xt.apply(this,arguments),qt(Vt),H($t),0!==re&&H(re+" J"),0!==oe&&H(oe+" j"),st.publish("addPage",{pageNumber:it})},Ct=function(t){0<t&&t<=it&&(M=t)},At=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return z.length-1},Tt=function(t,e,i){var n,r=void 0;return i=i||{},e=void 0!==e?e:tt[N].fontStyle,n=(t=void 0!==t?t:tt[N].fontName).toLowerCase(),void 0!==et[n]&&void 0!==et[n][e]?r=et[n][e]:void 0!==et[t]&&void 0!==et[t][e]?r=et[t][e]:!1===i.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),r||i.noFallback||null==(r=et.times[e])&&(r=et.times.normal),r},Mt=f.__private__.putInfo=function(){for(var t in at(),H("<<"),H("/Producer (jsPDF "+n.version+")"),Q)Q.hasOwnProperty(t)&&Q[t]&&H("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+wt(Q[t])+")");H("/CreationDate ("+y+")"),H(">>"),H("endobj")},Et=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||ct;switch(at(),H("<<"),H("/Type /Catalog"),H("/Pages "+e+" 0 R"),D||(D="fullwidth"),D){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var i=""+D;"%"===i.substr(i.length-1)&&(D=parseInt(D)/100),"number"==typeof D&&H("/OpenAction [3 0 R /XYZ null null "+b(D)+"]")}switch(O||(O="continuous"),O){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}P&&H("/PageMode /"+P),st.publish("putCatalog"),H(">>"),H("endobj")},Dt=f.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+($+1)),H("/Root "+$+" 0 R"),H("/Info "+($-1)+" 0 R"),H("/ID [ <"+w+"> <"+w+"> ]"),H(">>")},Pt=f.__private__.putHeader=function(){H("%PDF-"+p),H("%")},Ot=f.__private__.putXRef=function(){var t=1,e="0000000000";for(H("xref"),H("0 "+($+1)),H("0000000000 65535 f "),t=1;t<=$;t++)H("function"==typeof J[t]?(e+J[t]()).slice(-10)+" 00000 n ":void 0!==J[t]?(e+J[t]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Nt=f.__private__.buildDocument=function(){R=!1,j=$=0,B=[],J=[],rt=[],ct=ht(),dt=ht(),st.publish("buildDocument"),Pt(),yt(),function(){st.publish("putAdditionalObjects");for(var t=0;t<rt.length;t++){var e=rt[t];lt(e.objId,!0),H(e.content),H("endobj")}st.publish("postPutAdditionalObjects")}(),function(){for(var t in tt)tt.hasOwnProperty(t)&&(!1===c||!0===c&&d.hasOwnProperty(t))&&(st.publish("putFont",{font:e=tt[t],out:H,newObject:at,putStream:mt}),!0!==e.isAlreadyPutted&&(e.objectNumber=at(),H("<<"),H("/Type /Font"),H("/BaseFont /"+e.postScriptName),H("/Subtype /Type1"),"string"==typeof e.encoding&&H("/Encoding /"+e.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj")));var e}(),st.publish("putResources"),lt(dt,!0),H("<<"),function(){for(var t in H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),H("/Font <<"),tt)tt.hasOwnProperty(t)&&(!1===c||!0===c&&d.hasOwnProperty(t))&&H("/"+t+" "+tt[t].objectNumber+" 0 R");H(">>"),H("/XObject <<"),st.publish("putXobjectDict"),H(">>")}(),H(">>"),H("endobj"),st.publish("postPutResources"),Mt(),Et();var t=j;return Ot(),Dt(),H("startxref"),H(""+t),H("%%EOF"),R=!0,B.join("\n")},Lt=f.__private__.getBlob=function(t){return new Blob([V(t)],{type:"application/pdf"})},It=f.output=f.__private__.output=((I=function(t,i){i=i||{};var n=Nt();switch("string"==typeof i?i={filename:i}:i.filename=i.filename||"generated.pdf",t){case void 0:return n;case"save":f.save(i.filename);break;case"arraybuffer":return V(n);case"blob":return Lt(n);case"bloburi":case"bloburl":if(void 0!==e.URL&&"function"==typeof e.URL.createObjectURL)return e.URL&&e.URL.createObjectURL(Lt(n))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+i.filename+";base64,"+btoa(n);case"dataurlnewwindow":var r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',s=e.open();if(null!==s&&s.document.write(r),s||"undefined"==typeof safari)return s;case"datauri":case"dataurl":return e.document.location.href="data:application/pdf;filename="+i.filename+";base64,"+btoa(n);default:return null}}).foo=function(){try{return I.apply(this,arguments)}catch(r){var t=r.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var i="Error in function "+t.split("\n")[0].split("<")[0]+": "+r.message;if(!e.console)throw new Error(i);e.console.error(i,r),e.alert&&alert(i)}},(I.foo.bar=I).foo),Ft=function(t){return!0===Array.isArray(ot)&&-1<ot.indexOf(t)};switch(s){case"pt":L=1;break;case"mm":L=72/25.4;break;case"cm":L=72/2.54;break;case"in":L=72;break;case"px":L=1==Ft("px_scaling")?.75:96/72;break;case"pc":case"em":L=12;break;case"ex":L=6;break;default:throw new Error("Invalid unit: "+s)}A(),S();var Rt=f.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[t].objId,pageNumber:t,pageContext:nt[t]}},zt=f.__private__.getPageInfoByObjId=function(t){for(var e in nt)if(nt[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Rt(e)},Bt=f.__private__.getCurrentPageInfo=function(){return{objId:nt[M].objId,pageNumber:M,pageContext:nt[M]}};f.addPage=function(){return St.apply(this,arguments),this},f.setPage=function(){return Ct.apply(this,arguments),this},f.insertPage=function(t){return this.addPage(),this.movePage(M,t),this},f.movePage=function(t,e){if(e<t){for(var i=z[t],n=nt[t],r=t;e<r;r--)z[r]=z[r-1],nt[r]=nt[r-1];z[e]=i,nt[e]=n,this.setPage(e)}else if(t<e){for(i=z[t],n=nt[t],r=t;r<e;r++)z[r]=z[r+1],nt[r]=nt[r+1];z[e]=i,nt[e]=n,this.setPage(e)}return this},f.deletePage=function(){return(function(t){0<t&&t<=it&&(z.splice(t,1),--it<M&&(M=it),this.setPage(M))}).apply(this,arguments),this},f.__private__.text=f.text=function(e,i,n,r){var s;"number"!=typeof e||"number"!=typeof i||"string"!=typeof n&&!Array.isArray(n)||(s=n,n=i,i=e,e=s);var o=arguments[3],a=arguments[4],h=arguments[5];if("object"===t(o)&&null!==o||("string"==typeof a&&(h=a,a=null),"string"==typeof o&&(h=o,o=null),"number"==typeof o&&(a=o,o=null),r={flags:o,angle:a,align:h}),(o=o||{}).noBOM=o.noBOM||!0,o.autoencode=o.autoencode||!0,isNaN(i)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var l,u="",c="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Yt,f=r.scope||this;function p(t){for(var e,i=t.concat(),n=[],r=i.length;r--;)"string"==typeof(e=i.shift())?n.push(e):Array.isArray(t)&&1===e.length?n.push(e[0]):n.push([e[0],e[1],e[2]]);return n}function g(t,e){var i;if("string"==typeof t)i=e(t)[0];else if(Array.isArray(t)){for(var n,r,s=t.concat(),o=[],a=s.length;a--;)"string"==typeof(n=s.shift())?o.push(e(n)[0]):Array.isArray(n)&&"string"===n[0]&&(r=e(n[0],n[1],n[2]),o.push([r[0],r[1],r[2]]));i=o}return i}var m=!1,v=!0;if("string"==typeof e)m=!0;else if(Array.isArray(e)){for(var y,w=e.concat(),x=[],S=w.length;S--;)("string"!=typeof(y=w.shift())||Array.isArray(y)&&"string"!=typeof y[0])&&(v=!1);m=v}if(!1===m)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');var k=tt[N].encoding;"WinAnsiEncoding"!==k&&"StandardEncoding"!==k||(e=g(e,function(t,e,i){return[(n=t,n=n.split("\t").join(Array(r.TabLen||9).join(" ")),wt(n,o)),e,i];var n})),"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var C=W/f.internal.scaleFactor,A=C*(Yt-1);switch(r.baseline){case"bottom":n-=A;break;case"top":n+=C-A;break;case"hanging":n+=C-2*A;break;case"middle":n+=C/2-A}0<(Y=r.maxWidth||0)&&("string"==typeof e?e=f.splitTextToSize(e,Y):"[object Array]"===Object.prototype.toString.call(e)&&(e=f.splitTextToSize(e.join(" "),Y)));var T={text:e,x:i,y:n,options:r,mutex:{pdfEscape:wt,activeFontKey:N,fonts:tt,activeFontSize:W}};st.publish("preProcessText",T),e=T.text,a=(r=T.options).angle;var M=f.internal.scaleFactor,E=[];if(a){a*=Math.PI/180;var D=Math.cos(a),P=Math.sin(a);E=[b(D),b(P),b(-1*P),b(D)]}void 0!==(j=r.charSpace)&&(u+=_(j*M)+" Tc\n");var O=-1,L=void 0!==r.renderingMode?r.renderingMode:r.stroke,I=f.internal.getCurrentPageInfo().pageContext;switch(L){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var F=void 0!==I.usedRenderingMode?I.usedRenderingMode:-1;-1!==O?u+=O+" Tr\n":-1!==F&&(u+="0 Tr\n"),-1!==O&&(I.usedRenderingMode=O),h=r.align||"left";var R=W*c,z=f.internal.pageSize.getWidth(),B=(M=f.internal.scaleFactor,tt[N]),j=r.charSpace||ie,Y=r.maxWidth||0,V=(o={},[]);if("[object Array]"===Object.prototype.toString.call(e)){var q,U;x=p(e),"left"!==h&&(U=x.map(function(t){return f.getStringUnitWidth(t,{font:B,charSpace:j,fontSize:W})*W/M})),Math.max.apply(Math,U);var X,K=0;if("right"===h){i-=U[0],e=[];var Z=0;for(S=x.length;Z<S;Z++)q=0===Z?(X=Xt(i),Kt(n)):(X=(K-U[Z])*M,-R),e.push([x[Z],X,q]),K=U[Z]}else if("center"===h)for(i-=U[0]/2,e=[],Z=0,S=x.length;Z<S;Z++)q=0===Z?(X=Xt(i),Kt(n)):(X=(K-U[Z])/2*M,-R),e.push([x[Z],X,q]),K=U[Z];else if("left"===h)for(e=[],Z=0,S=x.length;Z<S;Z++)q=0===Z?Kt(n):-R,X=0===Z?Xt(i):0,e.push(x[Z]);else{if("justify"!==h)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],Y=0!==Y?Y:z,Z=0,S=x.length;Z<S;Z++)q=0===Z?Kt(n):-R,X=0===Z?Xt(i):0,Z<S-1&&V.push(((Y-U[Z])/(x[Z].split(" ").length-1)*M).toFixed(2)),e.push([x[Z],X,q])}}!0===("boolean"==typeof r.R2L?r.R2L:G)&&(e=g(e,function(t,e,i){return[t.split("").reverse().join(""),e,i]})),st.publish("postProcessText",T={text:e,x:i,y:n,options:r,mutex:{pdfEscape:wt,activeFontKey:N,fonts:tt,activeFontSize:W}}),l=T.mutex.isHex,x=p(e=T.text),e=[];var Q,$,J,et=0,it=(S=x.length,"");for(Z=0;Z<S;Z++)it="",Array.isArray(x[Z])?(Q=parseFloat(x[Z][1]),$=parseFloat(x[Z][2]),J=(l?"<":"(")+x[Z][0]+(l?">":")"),et=1):(Q=Xt(i),$=Kt(n),J=(l?"<":"(")+x[Z]+(l?">":")")),void 0!==V&&void 0!==V[Z]&&(it=V[Z]+" Tw\n"),e.push(0!==E.length&&0===Z?it+E.join(" ")+" "+Q.toFixed(2)+" "+$.toFixed(2)+" Tm\n"+J:1===et||0===et&&0===Z?it+Q.toFixed(2)+" "+$.toFixed(2)+" Td\n"+J:it+J);e=e.join(0===et?" Tj\nT* ":" Tj\n"),e+=" Tj\n";var nt="BT\n/"+N+" "+W+" Tf\n"+(W*c).toFixed(2)+" TL\n"+te+"\n";return nt+=u,nt+=e,H(nt+="ET"),d[N]=!0,f},f.__private__.lstext=f.lstext=function(t,e,i,n){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,i,{charSpace:n})},f.__private__.clip=f.clip=function(t){H("evenodd"===t?"W*":"W"),H("n")},f.__private__.clip_fixed=f.clip_fixed=function(t){console.log("clip_fixed is deprecated"),f.clip(t)};var jt=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e},Ht=f.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e};f.__private__.line=f.line=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[i-t,n-e]],t,e)},f.__private__.lines=f.lines=function(t,e,i,n,r,s){var o,a,h,l,u,c,d,f,p,g,m,v;if("number"==typeof t&&(v=i,i=e,e=t,t=v),n=n||[1,1],s=s||!1,isNaN(e)||isNaN(i)||!Array.isArray(t)||!Array.isArray(n)||!jt(r)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(H(_(Xt(e))+" "+_(Kt(i))+" m "),o=n[0],a=n[1],l=t.length,g=e,m=i,h=0;h<l;h++)2===(u=t[h]).length?(m=u[1]*a+m,H(_(Xt(g=u[0]*o+g))+" "+_(Kt(m))+" l")):(c=u[0]*o+g,d=u[1]*a+m,f=u[2]*o+g,p=u[3]*a+m,g=u[4]*o+g,m=u[5]*a+m,H(_(Xt(c))+" "+_(Kt(d))+" "+_(Xt(f))+" "+_(Kt(p))+" "+_(Xt(g))+" "+_(Kt(m))+" c"));return s&&H(" h"),null!==r&&H(Ht(r)),this},f.__private__.rect=f.rect=function(t,e,i,n,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!jt(r))throw new Error("Invalid arguments passed to jsPDF.rect");return H([b(Xt(t)),b(Kt(e)),b(i*L),b(-n*L),"re"].join(" ")),null!==r&&H(Ht(r)),this},f.__private__.triangle=f.triangle=function(t,e,i,n,r,s,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(s)||!jt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[i-t,n-e],[r-i,s-n],[t-r,e-s]],t,e,[1,1],o,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,i,n,r,s,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(s)||!jt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,s-s*a,r,s],[0,n-2*s],[0,s*a,-r*a,s,-r,s],[2*r-i,0],[-r*a,0,-r,-s*a,-r,-s],[0,2*s-n],[0,-s*a,r*a,-s,r,-s]],t+r,e,[1,1],o),this},f.__private__.ellipse=f.ellipse=function(t,e,i,n,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||!jt(r))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*i,o=4/3*(Math.SQRT2-1)*n;return H([b(Xt(t+i)),b(Kt(e)),"m",b(Xt(t+i)),b(Kt(e-o)),b(Xt(t+s)),b(Kt(e-n)),b(Xt(t)),b(Kt(e-n)),"c"].join(" ")),H([b(Xt(t-s)),b(Kt(e-n)),b(Xt(t-i)),b(Kt(e-o)),b(Xt(t-i)),b(Kt(e)),"c"].join(" ")),H([b(Xt(t-i)),b(Kt(e+o)),b(Xt(t-s)),b(Kt(e+n)),b(Xt(t)),b(Kt(e+n)),"c"].join(" ")),H([b(Xt(t+s)),b(Kt(e+n)),b(Xt(t+i)),b(Kt(e+o)),b(Xt(t+i)),b(Kt(e)),"c"].join(" ")),null!==r&&H(Ht(r)),this},f.__private__.circle=f.circle=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||!jt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,i,i,n)},f.setFont=function(t,e){return N=Tt(t,e,{disableWarning:!1}),this},f.setFontStyle=f.setFontType=function(t){return N=Tt(void 0,t),this},f.__private__.getFontList=f.getFontList=function(){var t,e,i,n={};for(t in et)if(et.hasOwnProperty(t))for(e in n[t]=i=[],et[t])et[t].hasOwnProperty(e)&&i.push(e);return n},f.addFont=function(t,e,i,n){_t.call(this,t,e,i,n=n||"Identity-H")};var Yt,Vt=h.lineWidth||.200025,qt=f.__private__.setLineWidth=f.setLineWidth=function(t){return H((t*L).toFixed(2)+" w"),this},Wt=(f.__private__.setLineDash=n.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return(t*L).toFixed(3)}).join(" "),e=parseFloat((e*L).toFixed(3)),H("["+t+"] "+e+" d"),this},f.__private__.getLineHeight=f.getLineHeight=function(){return W*Yt}),Ut=(Wt=f.__private__.getLineHeight=f.getLineHeight=function(){return W*Yt},f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Yt=t),this}),Gt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Yt};Ut(h.lineHeight);var Xt=f.__private__.getHorizontalCoordinate=function(t){return t*L},Kt=f.__private__.getVerticalCoordinate=function(t){return nt[M].mediaBox.topRightY-nt[M].mediaBox.bottomLeftY-t*L},Zt=f.__private__.getHorizontalCoordinateString=function(t){return b(t*L)},Qt=f.__private__.getVerticalCoordinateString=function(t){return b(nt[M].mediaBox.topRightY-nt[M].mediaBox.bottomLeftY-t*L)},$t=h.strokeColor||"0 G",Jt=(f.__private__.getStrokeColor=f.getDrawColor=function(){return ft($t)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,i,n){return $t=pt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"draw",precision:2}),H($t),this},h.fillColor||"0 g"),te=(f.__private__.getFillColor=f.getFillColor=function(){return ft(Jt)},f.__private__.setFillColor=f.setFillColor=function(t,e,i,n){return Jt=pt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"fill",precision:2}),H(Jt),this},h.textColor||"0 g"),ee=f.__private__.getTextColor=f.getTextColor=function(){return ft(te)},ie=(f.__private__.setTextColor=f.setTextColor=function(t,e,i,n){return te=pt({ch1:t,ch2:e,ch3:i,ch4:n,pdfColorType:"text",precision:3}),this},h.charSpace||0),ne=f.__private__.getCharSpace=f.getCharSpace=function(){return ie},re=(f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ie=t,this},0);f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H((re=e)+" J"),this};var se,oe=0;for(var ae in f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H((oe=e)+" j"),this},f.__private__.setMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return se=parseFloat(b(t*L)),H(se+" M"),this},f.save=function(t,i){if(t=t||"generated.pdf",(i=i||{}).returnPromise=i.returnPromise||!1,!1!==i.returnPromise)return new Promise(function(i,n){try{var r=kt(Lt(Nt()),t);"function"==typeof kt.unload&&e.setTimeout&&setTimeout(kt.unload,911),i(r)}catch(i){n(i.message)}});kt(Lt(Nt()),t),"function"==typeof kt.unload&&e.setTimeout&&setTimeout(kt.unload,911)},n.API)n.API.hasOwnProperty(ae)&&("events"===ae&&n.API.events.length?function(t,e){var i,n;for(n=e.length-1;-1!==n;n--)t.subscribe.apply(t,[e[n][0]].concat("function"==typeof(i=e[n][1])?[i]:i))}(st,n.API.events):f[ae]=n.API[ae]);return f.internal={pdfEscape:wt,getStyle:Ht,getFont:function(){return tt[Tt.apply(f,arguments)]},getFontSize:U,getCharSpace:ne,getTextColor:ee,getLineHeight:Wt,getLineHeightFactor:Gt,write:Y,getHorizontalCoordinate:Xt,getVerticalCoordinate:Kt,getCoordinateString:Zt,getVerticalCoordinateString:Qt,collections:{},newObject:at,newAdditionalObject:ut,newObjectDeferred:ht,newObjectDeferredBegin:lt,getFilters:gt,putStream:mt,events:st,scaleFactor:L,pageSize:{getWidth:function(){return(nt[M].mediaBox.topRightX-nt[M].mediaBox.bottomLeftX)/L},setWidth:function(t){nt[M].mediaBox.topRightX=t*L+nt[M].mediaBox.bottomLeftX},getHeight:function(){return(nt[M].mediaBox.topRightY-nt[M].mediaBox.bottomLeftY)/L},setHeight:function(t){nt[M].mediaBox.topRightY=t*L+nt[M].mediaBox.bottomLeftY}},output:It,getNumberOfPages:At,pages:z,out:H,f2:b,f3:_,getPageInfo:Rt,getPageInfoByObjId:zt,getCurrentPageInfo:Bt,getPDFVersion:g,hasHotfix:Ft},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return(nt[M].mediaBox.topRightX-nt[M].mediaBox.bottomLeftX)/L},set:function(t){nt[M].mediaBox.topRightX=t*L+nt[M].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return(nt[M].mediaBox.topRightY-nt[M].mediaBox.bottomLeftY)/L},set:function(t){nt[M].mediaBox.topRightY=t*L+nt[M].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,i=q.length;e<i;e++){var n=_t(t[e][0],t[e][1],t[e][2],q[e][3],!0);d[n]=!0;var r=t[e][0].split("-");bt(n,r[0],r[1]||"")}st.publish("addFonts",{fonts:tt,dictionary:et})}(q),N="F1",St(o,r),st.publish("initialized"),f}return n.API={events:[]},n.version="1.5.3","function"==typeof define&&define.amd?define("jsPDF",function(){return n}):"undefined"!=typeof module&&module.exports?(module.exports=n,module.exports.jsPDF=n):e.jsPDF=n,n}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(e,i){var n,r=1,s=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},o=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},a=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},h=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};e.__acroform__={};var l=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},u=function(t){return t*r},c=function(t){return t/r},d=function(t){var e=new L,i=X.internal.getHeight(t)||0,n=X.internal.getWidth(t)||0;return e.BBox=[0,0,Number(a(n)),Number(a(i))],e},f=e.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},p=e.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},g=e.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},m=e.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g(t,e-1)},v=e.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return f(t,e-1)},y=e.__acroform__.clearBitForPdf=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return p(t,e-1)},b=e.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,n=t[0],r=t[1],s=t[2],o=t[3],h={};return h.lowerLeft_X=e(n)||0,h.lowerLeft_Y=i(r+o)||0,h.upperRight_X=e(n+s)||0,h.upperRight_Y=i(r)||0,[Number(a(h.lowerLeft_X)),Number(a(h.lowerLeft_Y)),Number(a(h.upperRight_X)),Number(a(h.upperRight_Y))]},_=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],i=w(t,t.V||t.DV),r=n.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.__private__.encodeColorString(t.color)),e.push("/"+r+" "+a(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=new d(t);return s.stream=e.join("\n"),s}},w=function(t,e){var i=t.maxFontSize||12,r={text:"",fontSize:""},o=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),h=(n.__private__.encodeColorString(t.color),i),l=X.internal.getHeight(t)||0;l=l<0?-l:l;var u=X.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(e,i,n){return e+1<o.length&&x(i+" "+o[e+1],t,n).width<=u-4};h++;t:for(;;){e="";var d=x("3",t,--h).height,f=t.multiline?l-h:(l-d)/2,p=-2,g=f+=2,m=0,v=0,y=0;if(h<=0){e="(...) Tj\n",e+="% Width of Text: "+x(e,t,h=12).width+", FieldWidth:"+u+"\n";break}y=x(o[0]+" ",t,h).width;var b="",_=0;for(var w in o)if(o.hasOwnProperty(w)){b=" "==(b+=o[w]+" ").substr(b.length-1)?b.substr(0,b.length-1):b;var S=parseInt(w);y=x(b+" ",t,h).width;var k=c(S,b,h),C=w>=o.length-1;if(k&&!C){b+=" ";continue}if(k||C){if(C)v=S;else if(t.multiline&&l<(d+2)*(_+2)+2)continue t}else{if(!t.multiline)continue t;if(l<(d+2)*(_+2)+2)continue t;v=S}for(var A="",T=m;T<=v;T++)A+=o[T]+" ";switch(A=" "==A.substr(A.length-1)?A.substr(0,A.length-1):A,y=x(A,t,h).width,t.textAlign){case"right":p=u-y-2;break;case"center":p=(u-y)/2;break;case"left":default:p=2}e+=a(p)+" "+a(g)+" Td\n",e+="("+s(A)+") Tj\n",e+=-a(p)+" 0 Td\n",g=-(h+2),y=0,m=v+1,_++,b=""}break}return r.text=e,r.fontSize=h,r},x=function(t,e,i){var r=n.internal.getFont(e.fontName,e.fontStyle),s=n.getStringUnitWidth(t,{font:r,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:n.getStringUnitWidth("3",{font:r,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:s}},S={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},k=function(){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];i.objId=void 0,i.hasAnnotation&&C.call(n,i)}},C=function(t){var e={type:"reference",object:t};void 0===n.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===e.type&&t.object===e.object})&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},A=function(){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},T=function(){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0},M=function(e){var i=!e;for(var r in e||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var s=e[r],o=[],a=s.Rect;if(s.Rect&&(s.Rect=b.call(this,s.Rect)),n.internal.newObjectDeferredBegin(s.objId,!0),s.DA=X.createDefaultAppearanceStream(s),"object"===t(s)&&"function"==typeof s.getKeyValueListForStream&&(o=s.getKeyValueListForStream()),s.Rect=a,s.hasAppearanceStream&&!s.appearanceStreamContent){var h=_.call(this,s);o.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(s.appearanceStreamContent){var l="";for(var u in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(u)){var c=s.appearanceStreamContent[u];if(l+="/"+u+" ",l+="<<",1<=Object.keys(c).length||Array.isArray(c))for(var r in c){var d;c.hasOwnProperty(r)&&("function"==typeof(d=c[r])&&(d=d.call(this,s)),l+="/"+r+" "+d+" ",0<=n.internal.acroformPlugin.xForms.indexOf(d)||n.internal.acroformPlugin.xForms.push(d))}else"function"==typeof(d=c)&&(d=d.call(this,s)),l+="/"+r+" "+d,0<=n.internal.acroformPlugin.xForms.indexOf(d)||n.internal.acroformPlugin.xForms.push(d);l+=">>"}o.push({key:"AP",value:"<<\n"+l+">>"})}n.internal.putStream({additionalKeyValues:o}),n.internal.out("endobj")}i&&E.call(this,n.internal.acroformPlugin.xForms)},E=function(e){for(var i in e)if(e.hasOwnProperty(i)){var r=i,s=e[i];n.internal.newObjectDeferredBegin(s&&s.objId,!0),"object"===t(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[r]}},D=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(n=this,F.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(S)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new I,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",T),n.internal.events.subscribe("buildDocument",k),n.internal.events.subscribe("putCatalog",A),n.internal.events.subscribe("postPutPages",M),n.internal.acroformPlugin.isInitialized=!0}},P=e.__acroform__.arrayToPdfArray=function(e){if(Array.isArray(e)){for(var i="[",n=0;n<e.length;n++)switch(0!==n&&(i+=" "),t(e[n])){case"boolean":case"number":case"object":i+=e[n].toString();break;case"string":"/"!==e[n].substr(0,1)?i+="("+s(e[n].toString())+")":i+=e[n].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},O=function(t){return(t=t||"").toString(),"("+s(t)+")"},N=function(){var t;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(t||(t=n.internal.newObjectDeferred()),!t)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return t},set:function(e){t=e}})};N.prototype.toString=function(){return this.objId+" 0 R"},N.prototype.putStream=function(){var t=this.getKeyValueListForStream();n.internal.putStream({data:this.stream,additionalKeyValues:t}),n.internal.out("endobj")},N.prototype.getKeyValueListForStream=function(){return function(t){var e=[],i=Object.getOwnPropertyNames(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var n in i)if(!1===Object.getOwnPropertyDescriptor(t,i[n]).configurable){var r=i[n],s=t[r];s&&(Array.isArray(s)?e.push({key:r,value:P(s)}):s instanceof N?e.push({key:r,value:s.objId+" 0 R"}):"function"!=typeof s&&e.push({key:r,value:s}))}return e}(this)};var L=function(){N.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};l(L,N);var I=function(){N.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<e.length?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t)return"("+t+")"},set:function(e){t=e}})};l(I,N);var F=function t(){N.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(e,3))},set:function(t){this.F=!0===Boolean(t)?v(e,3):y(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');i=t}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(t){n=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:c(n[0])},set:function(t){n[0]=u(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:c(n[1])},set:function(t){n[1]=u(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:c(n[2])},set:function(t){n[2]=u(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:c(n[3])},set:function(t){n[3]=u(t)}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof q)return;a="FieldObject"+t.FieldNum++}return"("+s(a)+")"},set:function(t){a=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(t){a=t}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(t){h=t}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c(d)},set:function(t){d=u(t)}});var f=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c(f)},set:function(t){f=u(t)}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(t){p=t}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof q||this instanceof U))return O(g)},set:function(t){t=t.toString(),g=t}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof H==0?O(b):b},set:function(t){t=t.toString(),b=this instanceof H==0?"("===t.substr(0,1)?o(t.substr(1,t.length-2)):o(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof H==1?o(b.substr(1,b.length-1)):b},set:function(t){t=t.toString(),b=this instanceof H==1?"/"+t:t}});var _=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof H==0?O(_):_},set:function(t){t=t.toString(),_=this instanceof H==0?"("===t.substr(0,1)?o(t.substr(1,t.length-2)):o(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof H==1?o(_.substr(1,_.length-1)):_},set:function(t){t=t.toString(),_=this instanceof H==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return x},set:function(t){t=Boolean(t),x=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(w)return w},set:function(t){w=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,1))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,1):y(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,2))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,2):y(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,3))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,3):y(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==S)return S},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');S=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(S){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};l(F,N);var R=function(){F.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P(e)},set:function(t){var i,n;n=[],"string"==typeof(i=t)&&(n=function(t,e,i){i||(i=1);for(var n,r=[];n=e.exec(t);)r.push(n[i]);return r}(i,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,18):y(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?v(this.Ff,19):y(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=v(this.Ff,20),e.sort()):this.Ff=y(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,22):y(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,27):y(this.Ff,27)}}),this.hasAppearanceStream=!1};l(R,F);var z=function(){R.call(this),this.fontName="helvetica",this.combo=!1};l(z,R);var B=function(){z.call(this),this.combo=!0};l(B,z);var j=function(){B.call(this),this.edit=!0};l(j,B);var H=function(){F.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,15):y(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,16):y(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,17):y(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,26):y(this.Ff,26)}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(i).length){var t,e=[];for(t in e.push("<<"),i)e.push("/"+t+" ("+i[t]+")");return e.push(">>"),e.join("\n")}},set:function(e){"object"===t(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};l(H,F);var Y=function(){H.call(this),this.pushButton=!0};l(Y,H);var V=function(){H.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};l(V,H);var q=function(){var e,i;F.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(t){i=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),r)e.push("/"+t+" ("+r[t]+")");return e.push(">>"),e.join("\n")},set:function(e){"object"===t(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=X.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};l(q,F),V.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},V.prototype.createOption=function(t){var e=new q;return e.Parent=this,e.optionName=t,this.Kids.push(e),K.call(this,e),e};var W=function(){H.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=X.CheckBox.createAppearanceStream()};l(W,H);var U=function(){F.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,13):y(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,21):y(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,24):y(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,25):y(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,26):y(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};l(U,F);var G=function(){U.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(m(this.Ff,14))},set:function(t){this.Ff=!0===Boolean(t)?v(this.Ff,14):y(this.Ff,14)}}),this.password=!0};l(G,U);var X={CheckBox:{createAppearanceStream:function(){return{N:{On:X.CheckBox.YesNormal},D:{On:X.CheckBox.YesPushDown,Off:X.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=d(t),i=[],r=n.internal.getFont(t.fontName,t.fontStyle).id,s=n.__private__.encodeColorString(t.color),o=w(t,t.caption);return i.push("0.749023 g"),i.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+r+" "+a(o.fontSize)+" Tf "+s),i.push("BT"),i.push(o.text),i.push("ET"),i.push("Q"),i.push("EMC"),e.stream=i.join("\n"),e},YesNormal:function(t){var e=d(t),i=n.internal.getFont(t.fontName,t.fontStyle).id,r=n.__private__.encodeColorString(t.color),s=[],o=X.internal.getHeight(t),h=X.internal.getWidth(t),l=w(t,t.caption);return s.push("1 g"),s.push("0 0 "+a(h)+" "+a(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+a(h-1)+" "+a(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+i+" "+a(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join("\n"),e},OffPushDown:function(t){var e=d(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:X.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=X.RadioButton.Circle.YesNormal,e.D[t]=X.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=d(t),i=[],n=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var r=Number((n*X.internal.Bezier_C).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),i.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),i.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),i.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=d(t),i=[],n=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4,r=(n=Number((.9*n).toFixed(5)),Number((2*n).toFixed(5))),s=Number((r*X.internal.Bezier_C).toFixed(5)),o=Number((n*X.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),i.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),i.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),i.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),i.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),i.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),i.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=d(t),i=[],n=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4,r=(n=Number((.9*n).toFixed(5)),Number((2*n).toFixed(5))),s=Number((r*X.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+h(X.internal.getWidth(t)/2)+" "+h(X.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),i.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),i.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),i.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:X.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=X.RadioButton.Cross.YesNormal,e.D[t]=X.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=d(t),i=[],n=X.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+a(X.internal.getWidth(t)-2)+" "+a(X.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(a(n.x1.x)+" "+a(n.x1.y)+" m"),i.push(a(n.x2.x)+" "+a(n.x2.y)+" l"),i.push(a(n.x4.x)+" "+a(n.x4.y)+" m"),i.push(a(n.x3.x)+" "+a(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=d(t),i=X.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+a(X.internal.getWidth(t)-2)+" "+a(X.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(a(i.x1.x)+" "+a(i.x1.y)+" m"),n.push(a(i.x2.x)+" "+a(i.x2.y)+" l"),n.push(a(i.x4.x)+" "+a(i.x4.y)+" m"),n.push(a(i.x3.x)+" "+a(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=d(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+a(X.internal.getWidth(t))+" "+a(X.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=n.internal.getFont(t.fontName,t.fontStyle).id,i=n.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+i}};X.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=X.internal.getWidth(t),i=X.internal.getHeight(t),n=Math.min(e,i);return{x1:{x:(e-n)/2,y:(i-n)/2+n},x2:{x:(e-n)/2+n,y:(i-n)/2},x3:{x:(e-n)/2,y:(i-n)/2},x4:{x:(e-n)/2+n,y:(i-n)/2+n}}}},X.internal.getWidth=function(e){var i=0;return"object"===t(e)&&(i=u(e.Rect[2])),i},X.internal.getHeight=function(e){var i=0;return"object"===t(e)&&(i=u(e.Rect[3])),i};var K=e.addField=function(t){if(D.call(this),!(t instanceof F))throw new Error("Invalid argument passed to jsPDF.addField.");return(function(t){n.internal.acroformPlugin.printedOut&&(n.internal.acroformPlugin.printedOut=!1,n.internal.acroformPlugin.acroFormDictionaryRoot=null),n.internal.acroformPlugin.acroFormDictionaryRoot||D.call(n),n.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}).call(this,t),t.page=n.internal.getCurrentPageInfo().pageNumber,this};e.addButton=function(t){if(t instanceof H==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return K.call(this,t)},e.addTextField=function(t){if(t instanceof U==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return K.call(this,t)},e.addChoiceField=function(t){if(t instanceof R==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return K.call(this,t)},"object"==t(i)&&void 0===i.ChoiceField&&void 0===i.ListBox&&void 0===i.ComboBox&&void 0===i.EditBox&&void 0===i.Button&&void 0===i.PushButton&&void 0===i.RadioButton&&void 0===i.CheckBox&&void 0===i.TextField&&void 0===i.PasswordField?(i.ChoiceField=R,i.ListBox=z,i.ComboBox=B,i.EditBox=j,i.Button=H,i.PushButton=Y,i.RadioButton=V,i.CheckBox=W,i.TextField=U,i.PasswordField=G,i.AcroForm={Appearance:X}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),e.AcroFormChoiceField=R,e.AcroFormListBox=z,e.AcroFormComboBox=B,e.AcroFormEditBox=j,e.AcroFormButton=H,e.AcroFormPushButton=Y,e.AcroFormRadioButton=V,e.AcroFormCheckBox=W,e.AcroFormTextField=U,e.AcroFormPasswordField=G,e.AcroFormAppearance=X,e.AcroForm={ChoiceField:R,ListBox:z,ComboBox:B,EditBox:j,Button:H,PushButton:Y,RadioButton:V,CheckBox:W,TextField:U,PasswordField:G,Appearance:X}})((window.tmp=ht).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(e){var i="addImage_",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.getImageFileTypeByImageData=function(t,i){var r,s;i=i||"UNKNOWN";var o,a,h,l="UNKNOWN";for(h in e.isArrayBufferView(t)&&(t=e.arrayBufferToBinaryString(t)),n)for(o=n[h],r=0;r<o.length;r+=1){for(a=!0,s=0;s<o[r].length;s+=1)if(void 0!==o[r][s]&&o[r][s]!==t.charCodeAt(s)){a=!1;break}if(!0===a){l=h;break}}return"UNKNOWN"===l&&"UNKNOWN"!==i&&(console.warn('FileType of Image not recognized. Processing image as "'+i+'".'),l=i),l},s=function t(e){for(var i=this.internal.newObject(),n=this.internal.write,r=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);e.n=i;var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:e.w}),o.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?i+2:i+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&o.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var a="",h=0,l=e.trns.length;h<l;h++)a+=e.trns[h]+" "+e.trns[h]+" ";o.push({key:"Mask",value:"["+a+"]"})}if("smask"in e&&o.push({key:"SMask",value:i+1+" 0 R"}),r({data:e.data,additionalKeyValues:o,alreadyAppliedFilters:void 0!==e.f?["/"+e.f]:void 0}),n("endobj"),"smask"in e){var u={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:"/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,data:e.smask};"f"in e&&(u.f=e.f),t.call(this,u)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),n("endobj"))},o=function(){var t=this.internal.collections[i+"images"];for(var e in t)s.call(this,t[e])},a=function(){var t,e=this.internal.collections[i+"images"],n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).i,t.n,"0","R")},h=function(t){return"function"==typeof e["process"+t.toUpperCase()]},l=function(e){return"object"===t(e)&&1===e.nodeType},u=function(t,i){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return unescape(n);var r=e.loadFile(n);if(void 0!==r)return btoa(r)}if("CANVAS"===t.nodeName){var s=t;return t.toDataURL("image/jpeg",1)}(s=document.createElement("canvas")).width=t.clientWidth||t.width,s.height=t.clientHeight||t.height;var o=s.getContext("2d");if(!o)throw"addImage requires canvas to be supported by browser.";return o.drawImage(t,0,0,s.width,s.height),s.toDataURL("png"==(""+i).toLowerCase()?"image/png":"image/jpeg")},c=function(t,e){var i;if(e)for(var n in e)if(t===e[n].alias){i=e[n];break}return i};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(t){var e,i=0;if(0===(t=t||"").length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},e.isString=function(t){return"string"==typeof t},e.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},e.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},e.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),i=null;if(2===e.length){var n=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(n)&&(i={mimeType:n[1],charset:n[2],data:e[1]})}return i},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},e.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},e.binaryStringToUint8Array=function(t){for(var e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i},e.arrayBufferToBinaryString=function(t){if("function"==typeof atob)return atob(this.arrayBufferToBase64(t))},e.arrayBufferToBase64=function(t){for(var e,i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(t),s=r.byteLength,o=s%3,a=s-o,h=0;h<a;h+=3)i+=n[(16515072&(e=r[h]<<16|r[h+1]<<8|r[h+2]))>>18]+n[(258048&e)>>12]+n[(4032&e)>>6]+n[63&e];return 1==o?i+=n[(252&(e=r[a]))>>2]+n[(3&e)<<4]+"==":2==o&&(i+=n[(64512&(e=r[a]<<8|r[a+1]))>>10]+n[(1008&e)>>4]+n[(15&e)<<2]+"="),i},e.createImageInfo=function(t,e,i,n,r,s,o,a,h,l,u,c,d){var f={alias:a,w:e,h:i,cs:n,bpc:r,i:o,data:t};return s&&(f.f=s),h&&(f.dp=h),l&&(f.trns=l),u&&(f.pal=u),c&&(f.smask=c),d&&(f.p=d),f},e.addImage=function(n,r,s,d,f,p,g,m,v){var y="";if("string"!=typeof r){var b=p;p=f,f=d,d=s,s=r,r=b}if("object"===t(n)&&!l(n)&&"imageData"in n){var _=n;n=_.imageData,r=_.format||r||"UNKNOWN",s=_.x||s||0,d=_.y||d||0,f=_.w||f,p=_.h||p,g=_.alias||g,m=_.compression||m,v=_.rotation||_.angle||v}var w=this.internal.getFilters();if(void 0===m&&-1!==w.indexOf("FlateEncode")&&(m="SLOW"),"string"==typeof n&&(n=unescape(n)),isNaN(s)||isNaN(d))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var x,S,k,C,A,T,M,E=(function(){var t=this.internal.collections[i+"images"];return t||(this.internal.collections[i+"images"]=t={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a)),t}).call(this);if(!((x=c(n,E))||(l(n)&&(n=u(n,r)),(null==(M=g)||0===M.length)&&(g="string"==typeof(T=n)?e.sHashCode(T):e.isArrayBufferView(T)?e.sHashCode(e.arrayBufferToBinaryString(T)):null),x=c(g,E)))){if(this.isString(n)&&(""!==(y=this.convertStringToImageData(n))?n=y:void 0!==(y=e.loadFile(n))&&(n=y)),r=this.getImageFileTypeByImageData(n,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(n instanceof Uint8Array||(S=n,n=this.binaryStringToUint8Array(n))),!(x=this["process"+r.toUpperCase()](n,(A=0,(C=E)&&(A=Object.keys?Object.keys(C).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(C)),A),g,((k=m)&&"string"==typeof k&&(k=k.toUpperCase()),k in e.image_compression?k:e.image_compression.NONE),S)))throw new Error("An unknown error occurred whilst processing the image")}return(function(t,e,i,n,r,s,o,a){var h=(function(t,e,i){return t||e||(e=t=-96),t<0&&(t=-1*i.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*i.h*72/e/this.internal.scaleFactor),0===t&&(t=e*i.w/i.h),0===e&&(e=t*i.h/i.w),[t,e]}).call(this,i,n,r),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(i=h[0],n=h[1],o[s]=r,a){a*=Math.PI/180;var c=Math.cos(a),d=Math.sin(a),f=function(t){return t.toFixed(4)},p=[f(c),f(d),f(-1*d),f(c),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,l(t),u(e+n),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([l(i),"0","0",l(n),"0","0","cm"].join(" "))):this.internal.write([l(i),"0","0",l(n),l(t),u(e+n),"cm"].join(" ")),this.internal.write("/I"+r.i+" Do"),this.internal.write("Q")}).call(this,s,d,f,p,x,x.i,E,v),this},e.convertStringToImageData=function(t){var i,n="";if(this.isString(t)){var r;i=null!==(r=this.extractImageFromDataUrl(t))?r.data:t;try{n=atob(i)}catch(t){throw e.validateStringAsBase64(i)?new Error("atob-Error in jsPDF.convertStringToImageData "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return n};var d=function(t,e){return t.subarray(e,e+5)};e.processJPEG=function(t,e,i,n,s,o){var a,h=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(a=function(t){var e;if("JPEG"!==r(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),n=4,s=t.length;n<s;){if(255!==t.charCodeAt(n+=i))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(n+1)||193===t.charCodeAt(n+1)||194===t.charCodeAt(n+1)||195===t.charCodeAt(n+1)||196===t.charCodeAt(n+1)||197===t.charCodeAt(n+1)||198===t.charCodeAt(n+1)||199===t.charCodeAt(n+1))return e=256*t.charCodeAt(n+5)+t.charCodeAt(n+6),[256*t.charCodeAt(n+7)+t.charCodeAt(n+8),e,t.charCodeAt(n+9)];i=256*t.charCodeAt(n+=2)+t.charCodeAt(n+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(a=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,i=t.length,n=(t[4]<<8)+t[5],r=4;r<i;){if(n=((e=d(t,r+=n))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<n)return{width:((e=d(t,r+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};r+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=s||this.arrayBufferToBinaryString(t)),void 0===o)switch(a.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;default:case 3:o=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,a.width,a.height,o,8,h,e,i)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)},e.getImageProperties=function(t){var i,n,r="";if(l(t)&&(t=u(t)),this.isString(t)&&(""!==(r=this.convertStringToImageData(t))?t=r:void 0!==(r=e.loadFile(t))&&(t=r)),n=this.getImageFileTypeByImageData(t),!h(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(i=this["process"+n.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:n,width:i.w,height:i.h,colorSpace:i.cs,compressionMode:i.f,bitsPerComponent:i.bpc}}}(ht.API),e=ht.API,ht.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),i=t.pageContext.annotations,n=function(t){if(void 0!==t&&""!=t)return!0},r=!1,s=0;s<i.length&&!r;s++)switch((h=i[s]).type){case"link":if(n(h.options.url)||n(h.options.pageNumber)){r=!0;break}case"reference":case"text":case"freetext":r=!0}if(0!=r){this.internal.write("/Annots [");var o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;for(s=0;s<i.length;s++){var h;switch((h=i[s]).type){case"reference":this.internal.write(" "+h.object.objId+" 0 R ");break;case"text":var l=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),c=h.title||"Note";g="<</Type /Annot /Subtype /Text "+(f="/Rect ["+o(h.bounds.x)+" "+a(h.bounds.y+h.bounds.h)+" "+o(h.bounds.x+h.bounds.w)+" "+a(h.bounds.y)+"] ")+"/Contents ("+h.contents+")",g+=" /Popup "+u.objId+" 0 R",g+=" /P "+e.objId+" 0 R",l.content=g+=" /T ("+c+") >>";var d=l.objId+" 0 R";g="<</Type /Annot /Subtype /Popup "+(f="/Rect ["+o(h.bounds.x+30)+" "+a(h.bounds.y+h.bounds.h)+" "+o(h.bounds.x+h.bounds.w+30)+" "+a(h.bounds.y)+"] ")+" /Parent "+d,h.open&&(g+=" /Open true"),u.content=g+=" >>",this.internal.write(l.objId,"0 R",u.objId,"0 R");break;case"freetext":var f="/Rect ["+o(h.bounds.x)+" "+a(h.bounds.y)+" "+o(h.bounds.x+h.bounds.w)+" "+a(h.bounds.y+h.bounds.h)+"] ";g="<</Type /Annot /Subtype /FreeText "+f+"/Contents ("+h.contents+")",g+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(h.color||"#000000")+")",g+=" /Border [0 0 0]",this.internal.write(g+=" >>");break;case"link":if(h.options.name){var p=this.annotations._nameMap[h.options.name];h.options.pageNumber=p.page,h.options.top=p.y}else h.options.top||(h.options.top=0);f="/Rect ["+o(h.x)+" "+a(h.y)+" "+o(h.x+h.w)+" "+a(h.y+h.h)+"] ";var g="";if(h.options.url)g="<</Type /Annot /Subtype /Link "+f+"/Border [0 0 0] /A <</S /URI /URI ("+h.options.url+") >>";else if(h.options.pageNumber)switch(g="<</Type /Annot /Subtype /Link "+f+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(h.options.pageNumber).objId+" 0 R",h.options.magFactor=h.options.magFactor||"XYZ",h.options.magFactor){case"Fit":g+=" /Fit]";break;case"FitH":g+=" /FitH "+h.options.top+"]";break;case"FitV":h.options.left=h.options.left||0,g+=" /FitV "+h.options.left+"]";break;case"XYZ":default:var m=a(h.options.top);h.options.left=h.options.left||0,void 0===h.options.zoom&&(h.options.zoom=0),g+=" /XYZ "+h.options.left+" "+m+" "+h.options.zoom+"]"}""!=g&&this.internal.write(g+=" >>")}}this.internal.write("]")}}]),e.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},e.link=function(t,e,i,n,r){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:i,h:n,options:r,type:"link"})},e.textWithLink=function(t,e,i,n){var r=this.getTextWidth(t),s=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,i),this.link(e,(i+=.2*s)-s,r,s,n),r},e.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},o=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},a=t.__arabicParser__.isArabicEndLetter=function(t){return o(t)&&s(t)&&e[t.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(t){return o(t)&&0<=r.indexOf(t.charCodeAt(0))},l=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return o(t)&&s(t)&&1<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return o(t)&&s(t)&&2<=e[t.charCodeAt(0)].length}),u=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return o(t)&&s(t)&&3<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return o(t)&&s(t)&&4==e[t.charCodeAt(0)].length}),c=t.__arabicParser__.resolveLigatures=function(t){var e=0,n=i,r=0,s="",o=0;for(e=0;e<t.length;e+=1)void 0!==n[t.charCodeAt(e)]?(o++,"number"==typeof(n=n[t.charCodeAt(e)])&&(r=-1!==(r=d(t.charAt(e),t.charAt(e-o),t.charAt(e+1)))?r:0,s+=String.fromCharCode(n),n=i,o=0),e===t.length-1&&(n=i,s+=t.charAt(e-(o-1)),e-=o-1,o=0)):(n=i,s+=t.charAt(e-o),e-=o,o=0);return s},d=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==n[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,i){return o(t)?!1===s(t)?-1:!l(t)||!o(e)&&!o(i)||!o(i)&&a(e)||a(t)&&!o(e)||a(t)&&h(e)||a(t)&&a(e)?0:u(t)&&o(e)&&!a(e)&&o(i)&&l(i)?3:a(t)||!o(i)?1:2:-1}),f=t.__arabicParser__.processArabic=t.processArabic=function(t){var i=0,n=0,r=0,s="",a="",h="",l=(t=t||"").split("\\s+"),u=[];for(i=0;i<l.length;i+=1){for(u.push(""),n=0;n<l[i].length;n+=1)a=l[i][n-1],h=l[i][n+1],o(s=l[i][n])?(r=d(s,a,h),u[i]+=-1!==r?String.fromCharCode(e[s.charCodeAt(0)][r]):s):u[i]+=s;u[i]=c(u[i])}return u.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,i=[];if("[object Array]"===Object.prototype.toString.call(e)){var n=0;for(i=[],n=0;n<e.length;n+=1)"[object Array]"===Object.prototype.toString.call(e[n])?i.push([f(e[n][0]),e[n][1],e[n][2]]):i.push([f(e[n])]);t.text=i}else t.text=f(e)}])}(ht.API),ht.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},i=ht.API,(n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(t){i=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(t){n=t}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(t,e){var i;if("2d"!==(t=t||"2d"))return null;for(i in e)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=e[i]);return(this.pdf.context2d._canvas=this).pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}]),o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,h=function(t,e,i,n,r){o={x:t,y:e,w:i,h:n,ln:r}},l=function(){return o},u={left:0,top:0,bottom:0},(r=ht.API).setHeaderFunction=function(t){s=t},r.getTextDimensions=function(t,e){var i=this.table_font_size||this.internal.getFontSize(),n=(this.internal.getFont(),(e=e||{}).scaleFactor||this.internal.scaleFactor),r=0,s=0,o=0;if("string"==typeof t)0!=(r=this.getStringUnitWidth(t)*i)&&(s=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var a=0;a<t.length;a++)r<(o=this.getStringUnitWidth(t[a])*i)&&(r=o);0!==r&&(s=t.length)}return{w:r/=n,h:Math.max((s*i*this.getLineHeightFactor()-i*(this.getLineHeightFactor()-1))/n,0)}},r.cellAddPage=function(){var t=this.margins||u;this.addPage(),h(t.left,t.top,void 0,void 0),a+=1},r.cellInitialize=function(){o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1},r.cell=function(t,e,i,n,r,s,o){var a=l(),c=!1;if(void 0!==a.ln)if(a.ln===s)t=a.x+a.w,e=a.y;else{var d=this.margins||u;a.y+a.h+n+13>=this.internal.pageSize.getHeight()-d.bottom&&(this.cellAddPage(),c=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(s,!0)),e=l().y+l().h,c&&(e=23)}if(void 0!==r[0])if(this.printingHeaderRow?this.rect(t,e,i,n,"FD"):this.rect(t,e,i,n),"right"===o){r instanceof Array||(r=[r]);for(var f=0;f<r.length;f++){var p=r[f],g=this.getStringUnitWidth(p)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(p,t+i-g-3,e+this.internal.getLineHeight()*(f+1))}}else this.text(r,t+3,e+this.internal.getLineHeight());return h(t,e,i,n,s),this},r.arrayMax=function(t,e){var i,n,r,s=t[0];for(i=0,n=t.length;i<n;i+=1)r=t[i],e?-1===e(s,r)&&(s=r):s<r&&(s=r);return s},r.table=function(t,e,i,n,s){if(!i)throw"No data for PDF table";var h,l,c,d,f,p,g,m,v,y=[],b=[],_={},w={},x=[],S=[],k=!1,C=!0,A=12,T=u;if(T.width=this.internal.pageSize.getWidth(),s&&(!0===s.autoSize&&(k=!0),!1===s.printHeaders&&(C=!1),s.fontSize&&(A=s.fontSize),s.css&&void 0!==s.css["font-size"]&&(A=16*s.css["font-size"]),s.margins&&(T=s.margins)),this.lnMod=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,this.printHeaders=C,this.margins=T,this.setFontSize(A),this.table_font_size=A,null==n)y=Object.keys(i[0]);else if(n[0]&&"string"!=typeof n[0])for(l=0,c=n.length;l<c;l+=1)y.push((h=n[l]).name),b.push(h.prompt),w[h.name]=h.width*(19.049976/25.4);else y=n;if(k)for(v=function(t){return t[h]},l=0,c=y.length;l<c;l+=1){for(_[h=y[l]]=i.map(v),x.push(this.getTextDimensions(b[l]||h,{scaleFactor:1}).w),p=0,d=(f=_[h]).length;p<d;p+=1)x.push(this.getTextDimensions(f[p],{scaleFactor:1}).w);w[h]=r.arrayMax(x),x=[]}if(C){var M=this.calculateLineHeight(y,w,b.length?b:y);for(l=0,c=y.length;l<c;l+=1)S.push([t,e,w[h=y[l]],M,String(b.length?b[l]:h)]);this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}for(l=0,c=i.length;l<c;l+=1)for(M=this.calculateLineHeight(y,w,g=i[l]),p=0,m=y.length;p<m;p+=1)this.cell(t,e,w[h=y[p]],M,g[h],l+2,h.align);return this.lastCellPos=o,this.table_x=t,this.table_y=e,this},r.calculateLineHeight=function(t,e,i){for(var n,r=0,s=0;s<t.length;s++){i[n=t[s]]=this.splitTextToSize(String(i[n]),e[n]-3);var o=this.internal.getLineHeight()*i[n].length+3;r<o&&(r=o)}return r},r.setTableHeaderRow=function(t){this.tableHeaderRow=t},r.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var i,n,r,o;if(this.printingHeaderRow=!0,void 0!==s){var l=s(this,a);h(l[0],l[1],l[2],l[3],-1)}this.setFontStyle("bold");var u=[];for(r=0,o=this.tableHeaderRow.length;r<o;r+=1)this.setFillColor(200,200,200),i=this.tableHeaderRow[r],e&&(this.margins.top=13,i[1]=this.margins&&this.margins.top||0,u.push(i)),n=[].concat(i),this.cell.apply(this,n.concat(t));0<u.length&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(e,i){var n,r,s,o,a,h=function(t){return this.isStrokeTransparent=(t=t||{}).isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new I,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new N,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new N,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new l(this),n=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate}]);var l=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(t){i=Boolean(t)}});var n=0;Object.defineProperty(this,"posX",{get:function(){return n},set:function(t){isNaN(t)||(n=t)}});var r=0;Object.defineProperty(this,"posY",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(t){s=Boolean(t)}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(t){o=t}});var a=[];Object.defineProperty(this,"pageBreaks",{get:function(){return a},set:function(t){a=t}});var l=new h;Object.defineProperty(this,"ctx",{get:function(){return l},set:function(t){t instanceof h&&(l=t)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(t){l.path=t}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=u(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=u(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(e.r,e.g,e.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var i=e[1],n=e[3],r=e[4],s=e[5],o=e[6];r="px"===s?Math.floor(parseFloat(r)):"em"===s?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)),this.pdf.setFontSize(r);var a="";("bold"===n||700<=parseInt(n,10)||"bold"===i)&&(a="bold"),"italic"===i&&(a+="italic"),0===a.length&&(a="normal");for(var h="",l=o.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),u={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},c=0;c<l.length;c++){if(void 0!==this.pdf.internal.getFont(l[c],a,{noFallback:!0,disableWarning:!0})){h=l[c];break}if("bolditalic"===a&&void 0!==this.pdf.internal.getFont(l[c],"bold",{noFallback:!0,disableWarning:!0}))h=l[c],a="bold";else if(void 0!==this.pdf.internal.getFont(l[c],"normal",{noFallback:!0,disableWarning:!0})){h=l[c],a="normal";break}}if(""===h)for(c=0;c<l.length;c++)if(u[l[c]]){h=u[l[c]];break}this.pdf.setFont(h=""===h?"Times":h,a)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};l.prototype.fill=function(){m.call(this,"fill",!1)},l.prototype.stroke=function(){m.call(this,"stroke",!1)},l.prototype.beginPath=function(){this.path=[{type:"begin"}]},l.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var i=this.ctx.transform.applyToPoint(new N(t,e));this.path.push({type:"mt",x:i.x,y:i.y}),this.ctx.lastPoint=new N(t,e)},l.prototype.closePath=function(){var e=new N(0,0),i=0;for(i=this.path.length-1;-1!==i;i--)if("begin"===this.path[i].type&&"object"===t(this.path[i+1])&&"number"==typeof this.path[i+1].x){e=new N(this.path[i+1].x,this.path[i+1].y),this.path.push({type:"lt",x:e.x,y:e.y});break}"object"===t(this.path[i+2])&&"number"==typeof this.path[i+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[i+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new N(e.x,e.y)},l.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var i=this.ctx.transform.applyToPoint(new N(t,e));this.path.push({type:"lt",x:i.x,y:i.y}),this.ctx.lastPoint=new N(i.x,i.y)},l.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),m.call(this,null,!0)},l.prototype.quadraticCurveTo=function(t,e,i,n){if(isNaN(i)||isNaN(n)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var r=this.ctx.transform.applyToPoint(new N(i,n)),s=this.ctx.transform.applyToPoint(new N(t,e));this.path.push({type:"qct",x1:s.x,y1:s.y,x:r.x,y:r.y}),this.ctx.lastPoint=new N(r.x,r.y)},l.prototype.bezierCurveTo=function(t,e,i,n,r,s){if(isNaN(r)||isNaN(s)||isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new N(r,s)),a=this.ctx.transform.applyToPoint(new N(t,e)),h=this.ctx.transform.applyToPoint(new N(i,n));this.path.push({type:"bct",x1:a.x,y1:a.y,x2:h.x,y2:h.y,x:o.x,y:o.y}),this.ctx.lastPoint=new N(o.x,o.y)},l.prototype.arc=function(t,e,i,n,r,s){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new N(t,e));t=o.x,e=o.y;var a=this.ctx.transform.applyToPoint(new N(0,i)),h=this.ctx.transform.applyToPoint(new N(0,0));i=Math.sqrt(Math.pow(a.x-h.x,2)+Math.pow(a.y-h.y,2))}Math.abs(r-n)>=2*Math.PI&&(n=0,r=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:i,startAngle:n,endAngle:r,counterclockwise:s})},l.prototype.arcTo=function(t,e,i,n,r){throw new Error("arcTo not implemented.")},l.prototype.rect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.lineTo(t+i,e),this.lineTo(t,e)},l.prototype.fillRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!c.call(this)){var r={};"butt"!==this.lineCap&&(r.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(r.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,i,n),this.fill(),r.hasOwnProperty("lineCap")&&(this.lineCap=r.lineCap),r.hasOwnProperty("lineJoin")&&(this.lineJoin=r.lineJoin)}},l.prototype.strokeRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(t,e,i,n),this.stroke())},l.prototype.clearRect=function(t,e,i,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,i,n))},l.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},l.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},l.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(t){var e,i,n,r;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))r=n=i=e=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==s)e=parseInt(s[1]),i=parseInt(s[2]),n=parseInt(s[3]),r=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(s[1]),i=parseInt(s[2]),n=parseInt(s[3]),r=parseFloat(s[4]);else{if(r=1,"string"==typeof t&&"#"!==t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,i=t.substring(2,3),i+=i,n=t.substring(3,4),n+=n):(e=t.substring(1,3),i=t.substring(3,5),n=t.substring(5,7)),e=parseInt(e,16),i=parseInt(i,16),n=parseInt(n,16)}}return{r:e,g:i,b:n,a:r,style:t}},c=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},d=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};l.prototype.fillText=function(t,e,i,n){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!c.call(this)){i=y.call(this,i);var r=E(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;S.call(this,{text:t,x:e,y:i,scale:s,angle:r,align:this.textAlign,maxWidth:n})}},l.prototype.strokeText=function(t,e,i,n){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){n=isNaN(n)?void 0:n,i=y.call(this,i);var r=E(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;S.call(this,{text:t,x:e,y:i,scale:s,renderingMode:"stroke",angle:r,align:this.textAlign,maxWidth:n})}},l.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,i=this.pdf.internal.scaleFactor,n=e.internal.getFontSize(),r=e.getStringUnitWidth(t)*n/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:r*=Math.round(96*i/72*1e4)/1e4})},l.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var i=new I(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(i)},l.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new I(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},l.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var i=new I(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(i)},l.prototype.transform=function(t,e,i,n,r,s){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(s))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new I(t,e,i,n,r,s);this.ctx.transform=this.ctx.transform.multiply(o)},l.prototype.setTransform=function(t,e,i,n,r,s){t=isNaN(t)?1:t,e=isNaN(e)?0:e,i=isNaN(i)?0:i,n=isNaN(n)?1:n,r=isNaN(r)?0:r,s=isNaN(s)?0:s,this.ctx.transform=new I(t,e,i,n,r,s)},l.prototype.drawImage=function(t,e,i,n,r,s,o,a,h){var l=this.pdf.getImageProperties(t),u=1,c=1,d=1,p=1;void 0!==n&&void 0!==a&&(d=a/n,p=h/r,u=l.width/n*a/n,c=l.height/r*h/r),void 0===s&&(s=e,o=i,i=e=0),void 0!==n&&void 0===a&&(a=n,h=r),void 0===n&&void 0===a&&(a=l.width,h=l.height);for(var m,y=this.ctx.transform.decompose(),b=E(y.rotate.shx),_=new I,w=((_=(_=(_=_.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToPoint(new N(a,h)),_.applyToRectangle(new L(s-e*d,o-i*p,n*u,r*c))),x=f.call(this,w),S=[],k=0;k<x.length;k+=1)-1===S.indexOf(x[k])&&S.push(x[k]);if(S.sort(),this.autoPaging)for(var C=S[S.length-1],A=S[0];A<C+1;A++){if(this.pdf.setPage(A),0!==this.ctx.clip_path.length){var T=this.path;m=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(m,this.posX,-1*this.pdf.internal.pageSize.height*(A-1)+this.posY),v.call(this,"fill",!0),this.path=T}var M=JSON.parse(JSON.stringify(w));M=g([M],this.posX,-1*this.pdf.internal.pageSize.height*(A-1)+this.posY)[0],this.pdf.addImage(t,"jpg",M.x,M.y,M.w,M.h,null,null,b)}else this.pdf.addImage(t,"jpg",w.x,w.y,w.w,w.h,null,null,b)};var f=function(t,e,i){var n=[];switch(e=e||this.pdf.internal.pageSize.width,i=i||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":n.push(Math.floor((t.y+this.posY)/i)+1);break;case"arc":n.push(Math.floor((t.y+this.posY-t.radius)/i)+1),n.push(Math.floor((t.y+this.posY+t.radius)/i)+1);break;case"qct":var r=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);n.push(Math.floor(r.y/i)+1),n.push(Math.floor((r.y+r.h)/i)+1);break;case"bct":var s=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);n.push(Math.floor(s.y/i)+1),n.push(Math.floor((s.y+s.h)/i)+1);break;case"rect":n.push(Math.floor((t.y+this.posY)/i)+1),n.push(Math.floor((t.y+t.h+this.posY)/i)+1)}for(var o=0;o<n.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<n[o];)p.call(this);return n},p=function(){var t=this.fillStyle,e=this.strokeStyle,i=this.font,n=this.lineCap,r=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=i,this.lineCap=n,this.lineWidth=r,this.lineJoin=s},g=function(t,e,i){for(var n=0;n<t.length;n++)switch(t[n].type){case"bct":t[n].x2+=e,t[n].y2+=i;case"qct":t[n].x1+=e,t[n].y1+=i;case"mt":case"lt":case"arc":default:t[n].x+=e,t[n].y+=i}return t},m=function(t,e){for(var i,n,r=this.fillStyle,s=this.strokeStyle,o=this.lineCap,a=this.lineWidth,h=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),c=[],d=0;d<u.length;d++)if(void 0!==u[d].x)for(var m=f.call(this,u[d]),y=0;y<m.length;y+=1)-1===c.indexOf(m[y])&&c.push(m[y]);for(d=0;d<c.length;d++)for(;this.pdf.internal.getNumberOfPages()<c[d];)p.call(this);if(c.sort(),this.autoPaging){var b=c[c.length-1];for(d=c[0];d<b+1;d++){if(this.pdf.setPage(d),this.fillStyle=r,this.strokeStyle=s,this.lineCap=o,this.lineWidth=a,this.lineJoin=h,0!==this.ctx.clip_path.length){var _=this.path;i=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(i,this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY),v.call(this,t,!0),this.path=_}n=JSON.parse(JSON.stringify(l)),this.path=g(n,this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY),!1!==e&&0!==d||v.call(this,t,e)}}else v.call(this,t,e);this.path=l},v=function(t,e){if(("stroke"!==t||e||!d.call(this))&&("stroke"===t||e||!c.call(this))){for(var i,n=[],r=this.path,s=0;s<r.length;s++){var o=r[s];switch(o.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:o,deltas:[],abs:[]});break;case"lt":var a=n.length;if(!isNaN(r[s-1].x)){var h=[o.x-r[s-1].x,o.y-r[s-1].y];if(0<a)for(;0<=a;a--)if(!0!==n[a-1].close&&!0!==n[a-1].begin){n[a-1].deltas.push(h),n[a-1].abs.push(o);break}}break;case"bct":n[n.length-1].deltas.push(h=[o.x1-r[s-1].x,o.y1-r[s-1].y,o.x2-r[s-1].x,o.y2-r[s-1].y,o.x-r[s-1].x,o.y-r[s-1].y]);break;case"qct":n[n.length-1].deltas.push(h=[r[s-1].x+2/3*(o.x1-r[s-1].x)-r[s-1].x,r[s-1].y+2/3*(o.y1-r[s-1].y)-r[s-1].y,o.x+2/3*(o.x1-o.x)-r[s-1].x,o.y+2/3*(o.y1-o.y)-r[s-1].y,o.x-r[s-1].x,o.y-r[s-1].y]);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(o)}}for(i=e?null:"stroke"===t?"stroke":"fill",s=0;s<n.length;s++){if(n[s].arc)for(var l=n[s].abs,u=0;u<l.length;u++){var f=l[u];if(void 0!==f.startAngle){var p=E(f.startAngle),g=E(f.endAngle),m=f.x,v=f.y;b.call(this,m,v,f.radius,p,g,f.counterclockwise,i,e)}else k.call(this,f.x,f.y)}n[s].arc||!0===n[s].close||!0===n[s].begin||C.call(this,n[s].deltas,m=n[s].start.x,v=n[s].start.y,null,null)}i&&_.call(this,i),e&&w.call(this)}},y=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,i=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-i;case"top":return t+e-i;case"hanging":return t+e-2*i;case"middle":return t+e/2-i;case"ideographic":return t;case"alphabetic":default:return t}};l.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},l.prototype.createPattern=function(){return this.createLinearGradient()},l.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(t,e,i,n,r,s,o,a){for(var h=D(n),l=D(r),u=T.call(this,i,h,l,s),c=0;c<u.length;c++){var d=u[c];0===c&&x.call(this,d.x1+t,d.y1+e),A.call(this,t,e,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}a?w.call(this):_.call(this,o)},_=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},w=function(){this.pdf.clip()},x=function(t,e){this.pdf.internal.out(r(t)+" "+s(e)+" m")},S=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var i=this.ctx.transform.applyToPoint(new N(t.x,t.y)),n=this.ctx.transform.decompose(),r=new I;r=(r=(r=r.multiply(n.translate)).multiply(n.skew)).multiply(n.scale);for(var s,o=this.pdf.getTextDimensions(t.text),a=this.ctx.transform.applyToRectangle(new L(t.x,t.y,o.w,o.h)),h=r.applyToRectangle(new L(t.x,t.y-o.h,o.w,o.h)),l=f.call(this,h),u=[],c=0;c<l.length;c+=1)-1===u.indexOf(l[c])&&u.push(l[c]);if(u.sort(),!0===this.autoPaging)for(var d=u[u.length-1],p=u[0];p<d+1;p++){if(this.pdf.setPage(p),0!==this.ctx.clip_path.length){var m=this.path;s=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(s,this.posX,-1*this.pdf.internal.pageSize.height*(p-1)+this.posY),v.call(this,"fill",!0),this.path=m}var y=JSON.parse(JSON.stringify(a));if(y=g([y],this.posX,-1*this.pdf.internal.pageSize.height*(p-1)+this.posY)[0],.01<=t.scale){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,y.x,y.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)}else.01<=t.scale&&(b=this.pdf.internal.getFontSize(),this.pdf.setFontSize(b*t.scale)),this.pdf.text(t.text,i.x+this.posX,i.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)},k=function(t,e,i,n){n=n||0,this.pdf.internal.out(r(t+(i=i||0))+" "+s(e+n)+" l")},C=function(t,e,i){return this.pdf.lines(t,e,i,null,null)},A=function(t,e,i,r,s,h,l,u){this.pdf.internal.out([n(o(i+t)),n(a(r+e)),n(o(s+t)),n(a(h+e)),n(o(l+t)),n(a(u+e)),"c"].join(" "))},T=function(t,e,i,n){var r=2*Math.PI,s=e;(s<r||r<s)&&(s%=r);var o=i;(o<r||r<o)&&(o%=r);for(var a=[],h=Math.PI/2,l=n?-1:1,u=e,c=Math.min(r,Math.abs(o-s));1e-5<c;){var d=u+l*Math.min(c,h);a.push(M.call(this,t,u,d)),c-=Math.abs(d-u),u=d}return a},M=function(t,e,i){var n=(i-e)/2,r=t*Math.cos(n),s=t*Math.sin(n),o=r,a=-s,h=o*o+a*a,l=h+o*r+a*s,u=4/3*(Math.sqrt(2*h*l)-l)/(o*s-a*r),c=o-u*a,d=a+u*o,f=c,p=-d,g=n+e,m=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:c*m-d*v,y2:c*v+d*m,x3:f*m-p*v,y3:f*v+p*m,x4:t*Math.cos(i),y4:t*Math.sin(i)}},E=function(t){return 180*t/Math.PI},D=function(t){return t*Math.PI/180},P=function(t,e,i,n,r,s){var o=t+.5*(i-t),a=e+.5*(n-e),h=r+.5*(i-r),l=s+.5*(n-s),u=Math.min(t,r,o,h),c=Math.max(t,r,o,h),d=Math.min(e,s,a,l),f=Math.max(e,s,a,l);return new L(u,d,c-u,f-d)},O=function(t,e,i,n,r,s,o,a){for(var h,l,u,c,d,f,p,g,m,v,y,b,_,w=i-t,x=n-e,S=r-i,k=s-n,C=o-r,A=a-s,T=0;T<41;T++)g=(f=(l=t+(h=T/40)*w)+h*((c=i+h*S)-l))+h*(c+h*(r+h*C-c)-f),m=(p=(u=e+h*x)+h*((d=n+h*k)-u))+h*(d+h*(s+h*A-d)-p),_=0==T?(b=v=g,y=m):(v=Math.min(v,g),y=Math.min(y,m),b=Math.max(b,g),Math.max(_,m));return new L(Math.round(v),Math.round(y),Math.round(b-v),Math.round(_-y))},N=function(t,e){var i=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var n=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return r},set:function(t){r=t.toString()}}),this},L=function(t,e,i,n){N.call(this,t,e),this.type="rect";var r=i||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var s=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(t){isNaN(t)||(s=parseFloat(t))}}),this},I=function(t,e,i,n,r,s){var o=[];return Object.defineProperty(this,"sx",{get:function(){return o[0]},set:function(t){o[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return o[1]},set:function(t){o[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return o[2]},set:function(t){o[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return o[3]},set:function(t){o[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return o[4]},set:function(t){o[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return o[5]},set:function(t){o[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(i)?0:i,this.sy=isNaN(n)?1:n,this.tx=isNaN(r)?0:r,this.ty=isNaN(s)?0:s,this};I.prototype.multiply=function(t){return new I(t.sx*this.sx+t.shy*this.shx,t.sx*this.shy+t.shy*this.sy,t.shx*this.sx+t.sy*this.shx,t.shx*this.shy+t.sy*this.sy,t.tx*this.sx+t.ty*this.shx+this.tx,t.tx*this.shy+t.ty*this.sy+this.ty)},I.prototype.decompose=function(){var t=this.sx,e=this.shy,i=this.shx,n=this.sy,r=this.tx,s=this.ty,o=Math.sqrt(t*t+e*e),a=(t/=o)*i+(e/=o)*n;i-=t*a,n-=e*a;var h=Math.sqrt(i*i+n*n);return a/=h,t*(n/=h)<e*(i/=h)&&(t=-t,e=-e,a=-a,o=-o),{scale:new I(o,0,0,h,0,0),translate:new I(1,0,0,1,r,s),rotate:new I(t,e,-e,t,0,0),skew:new I(1,0,a,1,0,0)}},I.prototype.applyToPoint=function(t){return new N(t.x*this.sx+t.y*this.shx+this.tx,t.x*this.shy+t.y*this.sy+this.ty)},I.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),i=this.applyToPoint(new N(t.x+t.w,t.y+t.h));return new L(e.x,e.y,i.x-e.x,i.y-e.y)},I.prototype.clone=function(){return new I(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(ht.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),d=function(t){var e,i,n,r,s,o,a,h,l,u;for(/[^\x00-\xFF]/.test(t),i=[],n=0,r=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;n<r;n+=4)0!==(s=(t.charCodeAt(n)<<24)+(t.charCodeAt(n+1)<<16)+(t.charCodeAt(n+2)<<8)+t.charCodeAt(n+3))?(o=(s=((s=((s=((s=(s-(u=s%85))/85)-(l=s%85))/85)-(h=s%85))/85)-(a=s%85))/85)%85,i.push(o+33,a+33,h+33,l+33,u+33)):i.push(122);return function(t,i){for(var n=e.length;0<n;n--)t.pop()}(i),String.fromCharCode.apply(String,i)+"~>"},f=function(t){var e,i,n,r,s,o=String,a="length",h="charCodeAt",l="slice",u="replace";for(t[l](-2),t=t[l](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),n=[],r=0,s=(t+=e="uuuuu"[l](t[a]%5||5))[a];r<s;r+=5)i=52200625*(t[h](r)-33)+614125*(t[h](r+1)-33)+7225*(t[h](r+2)-33)+85*(t[h](r+3)-33)+(t[h](r+4)-33),n.push(255&i>>24,255&i>>16,255&i>>8,255&i);return function(t,i){for(var n=e[a];0<n;n--)t.pop()}(n),o.fromCharCode.apply(o,n)},p=function(t){for(var e="",i=0;i<t.length;i+=1)e+=("0"+t.charCodeAt(i).toString(16)).slice(-2);return e+">"},g=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var i="",n=0;n<t.length;n+=2)i+=String.fromCharCode("0x"+(t[n]+t[n+1]));return i},m=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var i,n,r=[],s=t.length;s--;)r[s]=t.charCodeAt(s);return i=c.adler32cs.from(t),(n=new Deflater(6)).append(new Uint8Array(r)),t=n.flush(),(r=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),r.set(t,2),r.set(new Uint8Array([255&i,i>>8&255,i>>16&255,i>>24&255]),t.length+2),String.fromCharCode.apply(null,r)},(c=ht.API).processDataByFilters=function(t,e){var i=0,n=t||"",r=[];for("string"==typeof(e=e||[])&&(e=[e]),i=0;i<e.length;i+=1)switch(e[i]){case"ASCII85Decode":case"/ASCII85Decode":n=f(n),r.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":n=d(n),r.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":n=g(n),r.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":n=p(n),r.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":n=m(n),r.push("/FlateDecode");break;default:throw'The filter: "'+e[i]+'" is not implemented'}return{data:n,reverseChain:r.reverse().join(" ")}},(v=ht.API).loadFile=function(t,e,i){var n;e=e||!0,i=i||function(){};try{n=function(t,e,i){var n=new XMLHttpRequest,r=[],s=0,o=function(t){var e=t.length,i=String.fromCharCode;for(s=0;s<e;s+=1)r.push(i(255&t.charCodeAt(s)));return r.join("")};if(n.open("GET",t,!e),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(n.onload=function(){return o(this.responseText)}),n.send(null),200===n.status)return e?o(n.responseText):void 0;console.warn('Unable to load file "'+t+'"')}(t,e)}catch(t){n=void 0}return n},v.loadImageFile=v.loadFile,y=ht.API,b="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,_=function(e){var i=t(e);return"undefined"===i?"undefined":"string"===i||e instanceof String?"string":"number"===i||e instanceof Number?"number":"function"===i||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===i?"object":"unknown"},w=function(t,e){var i=document.createElement(t);if(e.className&&(i.className=e.className),e.innerHTML){i.innerHTML=e.innerHTML;for(var n=i.getElementsByTagName("script"),r=n.length;0<r--;null)n[r].parentNode.removeChild(n[r])}for(var s in e.style)i.style[s]=e.style[s];return i},(((x=function t(e){var i=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),n=t.convert(Promise.resolve(),i);return(n=n.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=x).convert=function(t,e){return t.__proto__=e||x.prototype,t},x.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},x.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(_(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:w("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},x.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},x.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,i){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),r=e.firstChild;r;r=r.nextSibling)!0!==i&&1===r.nodeType&&"SCRIPT"===r.nodeName||n.appendChild(t(r,i));return 1===e.nodeType&&("CANVAS"===e.nodeName?(n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value),n.addEventListener("load",function(){n.scrollTop=e.scrollTop,n.scrollLeft=e.scrollLeft},!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=w("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=w("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(w("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},x.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},x.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},x.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},x.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},x.prototype.output=function(t,e,i){return"img"===(i=i||"pdf").toLowerCase()||"image"===i.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},x.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},x.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},x.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==b.html2canvas;return t||console.error("html2canvas not loaded."),t},x.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},x.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},x.prototype.set=function(t){if("object"!==_(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in x.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},x.prototype.get=function(t,e){return this.then(function(){var i=t in x.template.prop?this.prop[t]:this.opt[t];return e?e(i):i})},x.prototype.setMargin=function(t){return this.then(function(){switch(_(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},x.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},x.prototype.setProgress=function(t,e,i,n){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=i&&(this.progress.n=i),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},x.prototype.updateProgress=function(t,e,i,n){return this.setProgress(t?this.progress.val+t:null,e||null,i?this.progress.n+i:null,n?this.progress.stack.concat(n):null)},x.prototype.then=function(t,e){var i=this;return this.thenCore(t,e,function(t,e){return i.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return i.updateProgress(null,t),e}).then(t,e).then(function(t){return i.updateProgress(1),t})})},x.prototype.thenCore=function(t,e,i){i=i||Promise.prototype.then;var n=this;t&&(t=t.bind(n)),e&&(e=e.bind(n));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?n:x.convert(Object.assign({},n),Promise.prototype),s=i.call(r,t,e);return x.convert(s,n.__proto__)},x.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},x.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},x.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return x.convert(e,this)},x.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},x.prototype.error=function(t){return this.then(function(){throw new Error(t)})},x.prototype.using=x.prototype.set,x.prototype.saveAs=x.prototype.save,x.prototype.export=x.prototype.output,x.prototype.run=x.prototype.then,ht.getPageSize=function(e,i,n){if("object"===t(e)){var r=e;e=r.orientation,i=r.unit||i,n=r.format||n}i=i||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var s=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(i){case"pt":var a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+i}if(o.hasOwnProperty(s))var h=o[s][1]/a,l=o[s][0]/a;else try{h=n[1],l=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e){if(e="p",h<l){var u=l;l=h,h=u}}else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l<h&&(u=l,l=h,h=u)}return{width:l,height:h,unit:i,k:a}},y.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this;var i=new x(e);return e.worker?i:i.from(t).doCallback()},ht.API.addJS=function(t){return C=t,this.internal.events.subscribe("postPutResources",function(t){S=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(S+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),k=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==S&&void 0!==k&&this.internal.out("/Names <</JavaScript "+S+" 0 R>>")}),this},(A=ht.API).events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var i=t.outline.render().split(/\r\n/),n=0;n<i.length;n++){var r=i[n],s=e.exec(r);null!=s&&t.internal.newObjectDeferredBegin(s[1],!1),t.internal.write(r)}if(this.outline.createNamedDestinations){var o=this.internal.pages.length,a=[];for(n=0;n<o;n++){var h=t.internal.newObject();a.push(h);var l=t.internal.getPageInfo(n+1);t.internal.write("<< /D["+l.objId+" 0 R /XYZ null null null]>> endobj")}var u=t.internal.newObject();for(t.internal.write("<< /Names [ "),n=0;n<a.length;n++)t.internal.write("(page_"+(n+1)+")"+a[n]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+u+" 0 R"),t.internal.write(">>","endobj")}}]),A.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),A.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,i){var n={title:e,options:i,children:[]};return null==t&&(t=this.root),t.children.push(n),n},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var i=0;i<e.children.length;i++)this.genIds_r(e.children[i])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),0<t.children.length&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<e.children.length;n++){var r=e.children[n];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(e)),0<n&&this.line("/Prev "+this.makeRef(e.children[n-1])),n<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[n+1])),0<r.children.length&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var s=this.count=this.count_r({count:0},r);if(0<s&&this.line("/Count "+s),r.options&&r.options.pageNumber){var o=t.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(n=0;n<e.children.length;n++)this.renderItems(r=e.children[n])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var i=0;i<e.children.length;i++)t.count++,this.count_r(t,e.children[i]);return t.count}}]),M=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},E=function(t,e,i,n){var r=5,s=I;switch(n){case T.image_compression.FAST:r=3,s=L;break;case T.image_compression.MEDIUM:r=6,s=F;break;case T.image_compression.SLOW:r=9,s=R}t=O(t,e,i,s);var o=new Uint8Array(D(r)),a=P(t),h=new Deflater(r),l=h.append(t),u=h.flush(),c=o.length+l.length+u.length,d=new Uint8Array(c+4);return d.set(o),d.set(l,o.length),d.set(u,o.length+l.length),d[c++]=a>>>24&255,d[c++]=a>>>16&255,d[c++]=a>>>8&255,d[c++]=255&a,T.arrayBufferToBinaryString(d)},D=function(t,e){var i=Math.LOG2E*Math.log(32768)-8<<4|8,n=i<<8;return n|=Math.min(3,(e-1&255)>>1)<<6,n|=0,[i,255&(n+=31-n%31)]},P=function(t,e){for(var i,n=1,r=0,s=t.length,o=0;0<s;){for(s-=i=e<s?e:s;r+=n+=t[o++],--i;);n%=65521,r%=65521}return(r<<16|n)>>>0},O=function(t,e,i,n){for(var r,s,o,a=t.length/e,h=new Uint8Array(t.length+a),l=B(),u=0;u<a;u++){if(r=t.subarray(o=u*e,o+e),n)h.set(n(r,i,s),o+u);else{for(var c=0,d=l.length,f=[];c<d;c++)f[c]=l[c](r,i,s);var p=j(f.concat());h.set(f[p],o+u)}s=r}return h},N=function(t,e,i){var n=Array.apply([],t);return n.unshift(0),n},L=function(t,e,i){var n=[],r=0,s=t.length;for(n[0]=1;r<s;r++)n[r+1]=t[r]-(t[r-e]||0)+256&255;return n},I=function(t,e,i){var n=[],r=0,s=t.length;for(n[0]=2;r<s;r++)n[r+1]=t[r]-(i&&i[r]||0)+256&255;return n},F=function(t,e,i){var n=[],r=0,s=t.length;for(n[0]=3;r<s;r++)n[r+1]=t[r]+256-((t[r-e]||0)+(i&&i[r]||0)>>>1)&255;return n},R=function(t,e,i){var n,r=[],s=0,o=t.length;for(r[0]=4;s<o;s++)n=z(t[s-e]||0,i&&i[s]||0,i&&i[s-e]||0),r[s+1]=t[s]-n+256&255;return r},z=function(t,e,i){var n=t+e-i,r=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-i);return r<=s&&r<=o?t:s<=o?e:i},B=function(){return[N,L,I,F,R]},j=function(t){for(var e,i,n,r=0,s=t.length;r<s;)((e=H(t[r].slice(1)))<i||!i)&&(i=e,n=r),r++;return n},H=function(t){for(var e=0,i=t.length,n=0;e<i;)n+=Math.abs(t[e++]);return n},(T=ht.API).processPNG=function(t,e,i,n,r){var s,o,a,h,l,u,c=this.color_spaces.DEVICE_RGB,d=this.decode.FLATE_DECODE,f=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof Dt)throw new Error("PNG support requires png.js and zlib.js");if(t=(s=new PNG(t)).imgData,f=s.bits,c=s.colorSpace,h=s.colors,-1!==[4,6].indexOf(s.colorType)){if(8===s.bits)for(var p,g=(A=32==s.pixelBitlength?new Uint32Array(s.decodePixels().buffer):16==s.pixelBitlength?new Uint16Array(s.decodePixels().buffer):new Uint8Array(s.decodePixels().buffer)).length,m=new Uint8Array(g*s.colors),v=new Uint8Array(g),y=s.pixelBitlength-s.bits,b=0,_=0;b<g;b++){for(w=A[b],p=0;p<y;)m[_++]=w>>>p&255,p+=s.bits;v[b]=w>>>p&255}if(16===s.bits){g=(A=new Uint32Array(s.decodePixels().buffer)).length,m=new Uint8Array(g*(32/s.pixelBitlength)*s.colors),v=new Uint8Array(g*(32/s.pixelBitlength));for(var w,x=1<s.colors,S=_=b=0;b<g;)w=A[b++],m[_++]=w>>>0&255,x&&(m[_++]=w>>>16&255,w=A[b++],m[_++]=w>>>0&255),v[S++]=w>>>16&255;f=8}n!==T.image_compression.NONE&&M()?(t=E(m,s.width*s.colors,s.colors,n),u=E(v,s.width,1,n)):(t=m,u=v,d=null)}if(3===s.colorType&&(c=this.color_spaces.INDEXED,l=s.palette,s.transparency.indexed)){var k=s.transparency.indexed,C=0;for(b=0,g=k.length;b<g;++b)C+=k[b];if((C/=255)==g-1&&-1!==k.indexOf(0))a=[k.indexOf(0)];else if(C!==g){var A=s.decodePixels();for(v=new Uint8Array(A.length),b=0,g=A.length;b<g;b++)v[b]=k[A[b]];u=E(v,s.width,1)}}var D=function(t){var e;switch(n){case T.image_compression.FAST:e=11;break;case T.image_compression.MEDIUM:e=13;break;case T.image_compression.SLOW:e=14;break;default:e=12}return e}();return o=d===this.decode.FLATE_DECODE?"/Predictor "+D+" /Colors "+h+" /BitsPerComponent "+f+" /Columns "+s.width:"/Colors "+h+" /BitsPerComponent "+f+" /Columns "+s.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))&&(u=this.arrayBufferToBinaryString(u)),this.createImageInfo(t,s.width,s.height,c,f,d,e,i,o,a,l,u,D)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(Y=ht.API).processGIF89A=function(t,e,i,n,r){var s=new Ct(t),o=s.width,a=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var l={data:h,width:o,height:a},u=new Tt(100).encode(l,100);return Y.processJPEG.call(this,u,e,i,n)},Y.processGIF87A=Y.processGIF89A,(V=ht.API).processBMP=function(t,e,i,n,r){var s=new Mt(t,!1),o=s.width,a=s.height,h={data:s.getData(),width:o,height:a},l=new Tt(100).encode(h,100);return V.processJPEG.call(this,l,e,i,n)},ht.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},W=(q=ht.API).getCharWidthsArray=function(t,e){var i,n,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,l=h.fof?h.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=0,f=h[0]||l,p=[];for(i=0,n=t.length;i<n;i++)r=t.charCodeAt(i),p.push("function"==typeof s.metadata.widthOfString?(s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3:(h[r]||f)/l+(u[r]&&u[r][d]||0)/c),d=r;return p},U=q.getArraySum=function(t){for(var e=t.length,i=0;e;)i+=t[--e];return i},G=q.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(t,i,r)/i:U(W.apply(this,arguments))},X=function(t,e,i,n){for(var r=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<i;)a+=e[s],s++;r.push(t.slice(0,s));var h=s;for(a=0;s!==o;)a+e[s]>n&&(r.push(t.slice(h,s)),a=0,h=s),a+=e[s],s++;return h!==s&&r.push(t.slice(h,s)),r},K=function(t,e,i){i||(i={});var n,r,s,o,a,h,l=[],u=[l],c=i.textIndent||0,d=0,f=0,p=t.split(" "),g=W.apply(this,[" ",i])[0];if(h=-1===i.lineIndent?p[0].length+2:i.lineIndent||0){var m=Array(h).join(" "),v=[];p.map(function(t){1<(t=t.split(/\s*\n/)).length?v=v.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):v.push(t[0])}),p=v,h=G.apply(this,[m,i])}for(s=0,o=p.length;s<o;s++){var y=0;if(n=p[s],h&&"\n"==n[0]&&(n=n.substr(1),y=1),r=W.apply(this,[n,i]),e<c+d+(f=U(r))||y){if(e<f){for(a=X.apply(this,[n,r,e-(c+d),e]),l.push(a.shift()),l=[a.pop()];a.length;)u.push([a.shift()]);f=U(r.slice(n.length-(l[0]?l[0].length:0)))}else l=[n];u.push(l),c=f+h,d=g}else l.push(n),c+=d+f,d=g}if(h)var b=function(t,e){return(e?m:"")+t.join(" ")};else b=function(t){return t.join(" ")};return u.map(b)},q.splitTextToSize=function(t,e,i){var n,r=(i=i||{}).fontSize||this.internal.getFontSize(),s=(function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),i="Unicode";return e.metadata[i]?{widths:e.metadata[i].widths||{0:1},kerning:e.metadata[i].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,i);n=Array.isArray(t)?t:t.split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=i.lineIndent;var a,h,l=[];for(a=0,h=n.length;a<h;a++)l=l.concat(K.apply(this,[n[a],o,s]));return l},Z=ht.API,$={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(Q=function(t){for(var e="klmnopqrstuvwxyz",i={},n=0;n<e.length;n++)i[e[n]]="0123456789abcdef"[n];var r,s,o,a,h,l={},u=1,c=l,d=[],f="",p="",g=t.length-1;for(n=1;n!=g;)h=t[n],n+=1,"'"==h?s=s?(a=s.join(""),r):[]:s?s.push(h):"{"==h?(d.push([c,a]),c={},a=r):"}"==h?((o=d.pop())[0][o[1]]=c,a=r,c=o[0]):"-"==h?u=-1:a===r?i.hasOwnProperty(h)?(f+=i[h],a=parseInt(f,16)*u,u=1,f=""):f+=h:i.hasOwnProperty(h)?(p+=i[h],c[a]=parseInt(p,16)*u,u=1,a=r,p=""):p+=h;return l})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},J={Unicode:{Courier:$,"Courier-Bold":$,"Courier-BoldOblique":$,"Courier-Oblique":$,Helvetica:$,"Helvetica-Bold":$,"Helvetica-BoldOblique":$,"Helvetica-Oblique":$,"Times-Roman":$,"Times-Bold":$,"Times-BoldItalic":$,"Times-Italic":$}},tt={Unicode:{"Courier-Oblique":Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Q("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Q("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Q("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Q("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Q("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Q("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Q("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Q("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Q("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Q("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Q("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},Z.events.push(["addFont",function(t){var e,i,n,r=t.font,s="Unicode";(e=tt[s][r.postScriptName])&&((i=r.metadata[s]?r.metadata[s]:r.metadata[s]={}).widths=e.widths,i.kerning=e.kerning),(n=J[s][r.postScriptName])&&((i=r.metadata[s]?r.metadata[s]:r.metadata[s]={}).encoding=n).codePages&&n.codePages.length&&(r.encoding=n.codePages[0])}]),et=ht,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),et.API.events.push(["addFont",function(t){var e=t.font,i=t.instance;if(void 0!==i&&i.existsFileInVFS(e.postScriptName)){var n=i.getFileFromVFS(e.postScriptName);if("string"!=typeof n)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').");e.metadata=et.API.TTFFont.open(e.postScriptName,e.fontName,n,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').")}]),(it=ht.API).addSvg=function(t,e,i,n,r){if(void 0===e||void 0===i)throw new Error("addSVG needs values for 'x' and 'y'");function s(t){for(var e=parseFloat(t[1]),i=parseFloat(t[2]),n=[],r=3,s=t.length;r<s;)"c"===t[r]?(n.push([parseFloat(t[r+1]),parseFloat(t[r+2]),parseFloat(t[r+3]),parseFloat(t[r+4]),parseFloat(t[r+5]),parseFloat(t[r+6])]),r+=7):"l"===t[r]?(n.push([parseFloat(t[r+1]),parseFloat(t[r+2])]),r+=3):r+=1;return[e,i,n]}var o,a,h,l,u,c,d,f=((a=((d=(h=document).createElement("iframe"),l=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(c=(u=h).createElement("style")).type="text/css",c.styleSheet?c.styleSheet.cssText=l:c.appendChild(u.createTextNode(l)),u.getElementsByTagName("head")[0].appendChild(c),d.name="childframe",d.setAttribute("width",0),d.setAttribute("height",0),d.setAttribute("frameborder","0"),d.setAttribute("scrolling","no"),d.setAttribute("seamless","seamless"),d.setAttribute("class","jsPDF_sillysvg_iframe"),h.body.appendChild(d),o=d).contentWindow||o.contentDocument).document).write(t),a.close(),a.getElementsByTagName("svg")[0]),p=[1,1],g=parseFloat(f.getAttribute("width")),m=parseFloat(f.getAttribute("height"));g&&m&&(n&&r?p=[n/g,r/m]:n?p=[n/g,n/g]:r&&(p=[r/m,r/m]));var v,y,b,_,w=f.childNodes;for(v=0,y=w.length;v<y;v++)(b=w[v]).tagName&&"PATH"===b.tagName.toUpperCase()&&((_=s(b.getAttribute("d").split(" ")))[0]=_[0]*p[0]+e,_[1]=_[1]*p[1]+i,this.lines.call(this,_[2],_[0],_[1],p));return this},it.addSVG=it.addSvg,it.addSvgAsImage=function(t,e,i,n,r,s,o,a){if(isNaN(e)||isNaN(i))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=r;var l=h.getContext("2d");return l.fillStyle="#fff",l.fillRect(0,0,h.width,h.height),canvg(h,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(h.toDataURL("image/jpeg",1),e,i,n,r,o,a),this},ht.API.putTotalPages=function(t){var e,i;i=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,i);return this},ht.API.viewerPreferences=function(e,i){var n;e=e||{},i=i||!1;var r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),h=[],l=0,u=0,c=0,d=!0;function f(t,e){var i,n=!1;for(i=0;i<t.length;i+=1)t[i]===e&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===i){var p=a.length;for(c=0;c<p;c+=1)n[a[c]].value=n[a[c]].defaultValue,n[a[c]].explicitSet=!1}if("object"===t(e))for(r in e)if(s=e[r],f(a,r)&&void 0!==s){if("boolean"===n[r].type&&"boolean"==typeof s)n[r].value=s;else if("name"===n[r].type&&f(n[r].valueSet,s))n[r].value=s;else if("integer"===n[r].type&&Number.isInteger(s))n[r].value=s;else if("array"===n[r].type){for(l=0;l<s.length;l+=1)if(d=!0,1===s[l].length&&"number"==typeof s[l][0])h.push(String(s[l]-1));else if(1<s[l].length){for(u=0;u<s[l].length;u+=1)"number"!=typeof s[l][u]&&(d=!1);!0===d&&h.push([s[l][0]-1,s[l][1]-1].join(" "))}n[r].value="["+h.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&e.push("name"===n[t].type?"/"+t+" /"+n[t].value:"/"+t+" "+n[t].value);0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},st=rt=nt="",ht.API.addMetadata=function(t,e){return rt=e||"http://jspdf.default.namespaceuri/",nt=t,this.internal.events.subscribe("postPutResources",function(){if(nt){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+rt+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(t)),n=unescape(encodeURIComponent(nt)),r=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),o=i.length+n.length+r.length+e.length+s.length;st=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(e+i+n+r+s),this.internal.write("endstream"),this.internal.write("endobj")}else st=""}),this.internal.events.subscribe("putCatalog",function(){st&&this.internal.write("/Metadata "+st+" 0 R")}),this},function(t,e){var i=t.API,n=i.pdfEscape16=function(t,e){for(var i,n=e.metadata.Unicode.widths,r=["","0","00","000","0000"],s=[""],o=0,a=t.length;o<a;++o){if(i=e.metadata.characterToGlyph(t.charCodeAt(o)),e.metadata.glyIdsUsed.push(i),e.metadata.toUnicode[i]=t.charCodeAt(o),-1==n.indexOf(i)&&(n.push(i),n.push([parseInt(e.metadata.widthOfGlyph(i),10)])),"0"==i)return s.join("");i=i.toString(16),s.push(r[4-i.length],i)}return s.join("")},r=function(t){var e,i,n,r,s,o,a;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],o=0,a=(i=Object.keys(t).sort(function(t,e){return t-e})).length;o<a;o++)e=i[o],100<=n.length&&(s+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),r=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),n.push("<"+e+"><"+r+">");return n.length&&(s+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(e){!function(e,i,n,s){if(e.metadata instanceof t.API.TTFFont&&"Identity-H"===e.encoding){for(var o=e.metadata.Unicode.widths,a=e.metadata.subset.encode(e.metadata.glyIdsUsed,1),h="",l=0;l<a.length;l++)h+=String.fromCharCode(a[l]);var u=n();s({data:h,addLength1:!0}),i("endobj");var c=n();s({data:r(e.metadata.toUnicode),addLength1:!0}),i("endobj");var d=n();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+e.fontName),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),i("/Flags "+e.metadata.flags),i("/StemV "+e.metadata.stemV),i("/ItalicAngle "+e.metadata.italicAngle),i("/Ascent "+e.metadata.ascender),i("/Descent "+e.metadata.decender),i("/CapHeight "+e.metadata.capHeight),i(">>"),i("endobj");var f=n();i("<<"),i("/Type /Font"),i("/BaseFont /"+e.fontName),i("/FontDescriptor "+d+" 0 R"),i("/W "+t.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+e.encoding+")"),i(">>"),i(">>"),i("endobj"),e.objectNumber=n(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+c+" 0 R"),i("/BaseFont /"+e.fontName),i("/Encoding /"+e.encoding),i("/DescendantFonts ["+f+" 0 R]"),i(">>"),i("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]),i.events.push(["putFont",function(e){!function(e,i,n,s){if(e.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===e.encoding){for(var o=e.metadata.rawData,a="",h=0;h<o.length;h++)a+=String.fromCharCode(o[h]);var l=n();s({data:a,addLength1:!0}),i("endobj");var u=n();s({data:r(e.metadata.toUnicode),addLength1:!0}),i("endobj");var c=n();for(i("<<"),i("/Descent "+e.metadata.decender),i("/CapHeight "+e.metadata.capHeight),i("/StemV "+e.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),i("/FontName /"+e.fontName),i("/ItalicAngle "+e.metadata.italicAngle),i("/Ascent "+e.metadata.ascender),i(">>"),i("endobj"),e.objectNumber=n(),h=0;h<e.metadata.hmtx.widths.length;h++)e.metadata.hmtx.widths[h]=parseInt(e.metadata.hmtx.widths[h]*(1e3/e.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+e.fontName+"/FontDescriptor "+c+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(e.metadata.hmtx.widths)+">>"),i("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]);var s=function(t){var e,i,r=t.text||"",s=t.x,o=t.y,a=t.options||{},h=t.mutex||{},l=h.pdfEscape,u=h.activeFontKey,c=h.fonts,d="",f=0,p="",g=c[i=u].encoding;if("Identity-H"!==c[i].encoding)return{text:r,x:s,y:o,options:a,mutex:h};for(p=r,i=u,"[object Array]"===Object.prototype.toString.call(r)&&(p=r[0]),f=0;f<p.length;f+=1)c[i].metadata.hasOwnProperty("cmap")&&(e=c[i].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e?d+=p[f]:p[f].charCodeAt(0)<256&&c[i].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var m="";return parseInt(i.slice(1))<14||"WinAnsiEncoding"===g?m=function(t){for(var e="",i=0;i<t.length;i++)e+=""+t.charCodeAt(i).toString(16);return e}(l(d,i)):"Identity-H"===g&&(m=n(d,c[i])),h.isHex=!0,{text:m,x:s,y:o,options:a,mutex:h}};i.events.push(["postProcessText",function(t){var e=t.text||"",i=[],n={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if("[object Array]"===Object.prototype.toString.call(e)){var r=0;for(r=0;r<e.length;r+=1)"[object Array]"===Object.prototype.toString.call(e[r])&&3===e[r].length?i.push([s(Object.assign({},n,{text:e[r][0]})).text,e[r][1],e[r][2]]):i.push(s(Object.assign({},n,{text:e[r]})).text);t.text=i}else t.text=s(Object.assign({},n,{text:e})).text}])}(ht,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),at=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},(ot=ht.API).existsFileInVFS=function(t){return!!at(this.internal)&&void 0!==this.internal.vFS[t]},ot.addFileToVFS=function(t,e){return at(this.internal),this.internal.vFS[t]=e,this},ot.getFileFromVFS=function(t){return at(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},ht.API.addHTML=function(t,e,i,n,r){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(n=e,r=i),"function"==typeof n&&(r=n,n=null),"function"!=typeof r&&(r=function(){});var s=this.internal,o=s.scaleFactor,a=s.pageSize.getWidth(),h=s.pageSize.getHeight();if((n=n||{}).onrendered=(function(t){e=parseInt(e)||0,i=parseInt(i)||0;var s=n.dim||{},l=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},n.margin),u=s.h||Math.min(h,t.height/o),c=s.w||Math.min(a,t.width/o)-e,d=n.format||"JPEG",f=n.imageCompression||"SLOW";if(t.height>h-l.top-l.bottom&&n.pagesplit){var p=function(t,e,i,r,s){var o=document.createElement("canvas");o.height=s,o.width=r;var a=o.getContext("2d");return a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.fillStyle=n.backgroundColor||"#ffffff",a.fillRect(0,0,r,s),a.drawImage(t,e,i,r,s,0,0,r,s),o},g=(function(){for(var n,s,u=0,g=0,m={},v=!1;;){var y;if(g=0,m.top=0!==u?l.top:i,m.left=0!==u?l.left:e,v=(a-l.left-l.right)*o<t.width,"content"===l.useFor?0===u?(n=Math.min((a-l.left)*o,t.width),s=Math.min((h-l.top)*o,t.height-u)):(n=Math.min(a*o,t.width),s=Math.min(h*o,t.height-u),m.top=0):(n=Math.min((a-l.left-l.right)*o,t.width),s=Math.min((h-l.bottom-l.top)*o,t.height-u)),v)for(;;){"content"===l.useFor&&(0===g?n=Math.min((a-l.left)*o,t.width):(n=Math.min(a*o,t.width-g),m.left=0));var b=[y=p(t,g,u,n,s),m.left,m.top,y.width/o,y.height/o,d,null,f];if(this.addImage.apply(this,b),(g+=n)>=t.width)break;this.addPage()}else b=[y=p(t,0,u,n,s),m.left,m.top,y.width/o,y.height/o,d,null,f],this.addImage.apply(this,b);if((u+=s)>=t.height)break;this.addPage()}r(c,u,null,b)}).bind(this);if("CANVAS"===t.nodeName){var m=new Image;m.onload=g,m.src=t.toDataURL("image/png"),t=m}else g()}else{var v=Math.random().toString(35),y=[t,e,i,c,u,d,v,f];this.addImage.apply(this,y),r(c,u,v,y)}}).bind(this),"undefined"!=typeof html2canvas&&!n.rstz)return html2canvas(t,n);if("undefined"==typeof rasterizeHTML)return null;var l="drawDocument";return"string"==typeof t&&(l=/^http/.test(t)?"drawURL":"drawHTML"),n.width=n.width||a*o,rasterizeHTML[l](t,void 0,n).then(function(t){n.onrendered(t.image)},function(t){r(null,t)})},function(e){var i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w;i=function(){return function(e){return t.prototype=e,new t};function t(){}}(),c=function(t){var e,i,n,r,s,o,a;for(i=0,n=t.length,e=void 0,o=r=!1;!r&&i!==n;)(e=t[i]=t[i].trimLeft())&&(r=!0),i++;for(i=n-1;n&&!o&&-1!==i;)(e=t[i]=t[i].trimRight())&&(o=!0),i--;for(s=/\s+$/g,a=!0,i=0;i!==n;)"\u2028"!=t[i]&&(e=t[i].replace(/\s+/g," "),a&&(e=e.trimLeft()),e&&(a=s.test(e)),t[i]=e),i++;return t},f=function(t){var e,i,n;for(e=void 0,i=(n=t.split(",")).shift();!e&&i;)e=r[i.trim().toLowerCase()],i=n.shift();return e},p=function(t){var e;return-1<(t="auto"===t?"0px":t).indexOf("em")&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),-1<t.indexOf("pt")&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])?g[t]=e/16:(e=parseFloat(t))?g[t]=e/16:(e=t.match(/([\d\.]+)(px)/),g[t]=Array.isArray(e)&&3===e.length?parseFloat(e[1])/16:1)},u=function(t){var e,i,n,r,u;return u=t,r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(u,null):u.currentStyle?u.currentStyle:u.style,i=void 0,(e={})["font-family"]=f((n=function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),r[t]})("font-family"))||"times",e["font-style"]=s[n("font-style")]||"normal",e["text-align"]=o[n("text-align")]||"left","bold"===(i=a[n("font-weight")]||"normal")&&(e["font-style"]="normal"===e["font-style"]?i:i+e["font-style"]),e["font-size"]=p(n("font-size"))||1,e["line-height"]=p(n("line-height"))||1,e.display="inline"===n("display")?"inline":"block",e["margin-top"]=(i="block"===e.display)&&p(n("margin-top"))||0,e["margin-bottom"]=i&&p(n("margin-bottom"))||0,e["padding-top"]=i&&p(n("padding-top"))||0,e["padding-bottom"]=i&&p(n("padding-bottom"))||0,e["margin-left"]=i&&p(n("margin-left"))||0,e["margin-right"]=i&&p(n("margin-right"))||0,e["padding-left"]=i&&p(n("padding-left"))||0,e["padding-right"]=i&&p(n("padding-right"))||0,e["page-break-before"]=n("page-break-before")||"auto",e.float=h[n("cssFloat")]||"none",e.clear=l[n("clear")]||"none",e.color=n("color"),e},m=function(t,e,i){var n,r,s,o,a;if(s=!1,o=r=void 0,n=i["#"+t.id])if("function"==typeof n)s=n(t,e);else for(r=0,o=n.length;!s&&r!==o;)s=n[r](t,e),r++;if(n=i[t.nodeName],!s&&n)if("function"==typeof n)s=n(t,e);else for(r=0,o=n.length;!s&&r!==o;)s=n[r](t,e),r++;for(a="string"==typeof t.className?t.className.split(" "):[],r=0;r<a.length;r++)if(n=i["."+a[r]],!s&&n)if("function"==typeof n)s=n(t,e);else for(r=0,o=n.length;!s&&r!==o;)s=n[r](t,e),r++;return s},w=function(t,e){var i,n,r,s,o,a,h,l,u;for(i=[],n=[],r=0,u=t.rows[0].cells.length,h=t.clientWidth;r<u;)n[r]={name:(l=t.rows[0].cells[r]).textContent.toLowerCase().replace(/\s+/g,""),prompt:l.textContent.replace(/\r?\n/g,""),width:l.clientWidth/h*e.pdf.internal.pageSize.getWidth()},r++;for(r=1;r<t.rows.length;){for(a=t.rows[r],o={},s=0;s<a.cells.length;)o[n[s].name]=a.cells[s].textContent.replace(/\r?\n/g,""),s++;i.push(o),r++}return{rows:i,headers:n}};var x={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},S=1;n=function(e,r,s){var o,a,h,l,c,d,f,p;for(a=e.childNodes,o=void 0,(c="block"===(h=u(e)).display)&&(r.setBlockBoundary(),r.setBlockStyle(h)),l=0,d=a.length;l<d;){if("object"===t(o=a[l])){if(r.executeWatchFunctions(o),1===o.nodeType&&"HEADER"===o.nodeName){var g=o,y=r.pdf.margins_doc.top;r.pdf.internal.events.subscribe("addPage",function(t){r.y=y,n(g,r,s),r.pdf.margins_doc.top=r.y+10,r.y+=10},!1)}if(8===o.nodeType&&"#comment"===o.nodeName)~o.textContent.indexOf("ADD_PAGE")&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top);else if(1!==o.nodeType||x[o.nodeName])if(3===o.nodeType){var b=o.nodeValue;if(o.nodeValue&&"LI"===o.parentNode.nodeName)if("OL"===o.parentNode.parentNode.nodeName)b=S+++". "+b;else{var _=h["font-size"],k=(3-.75*_)*r.pdf.internal.scaleFactor,C=.75*_*r.pdf.internal.scaleFactor,A=1.74*_/r.pdf.internal.scaleFactor;p=function(t,e){this.pdf.circle(t+k,e+C,A,"FD")}}16&o.ownerDocument.body.compareDocumentPosition(o)&&r.addText(b,h)}else"string"==typeof o&&r.addText(o,h);else{var T;if("IMG"===o.nodeName){var M=o.getAttribute("src");T=v[r.pdf.sHashCode(M)||M]}if(T){r.pdf.internal.pageSize.getHeight()-r.pdf.margins_doc.bottom<r.y+o.height&&r.y>r.pdf.margins_doc.top&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top,r.executeWatchFunctions(o));var E=u(o),D=r.x,P=12/r.pdf.internal.scaleFactor,O=(E["margin-left"]+E["padding-left"])*P,N=(E["margin-right"]+E["padding-right"])*P,L=(E["margin-top"]+E["padding-top"])*P,I=(E["margin-bottom"]+E["padding-bottom"])*P;r.pdf.addImage(T,D+=void 0!==E.float&&"right"===E.float?r.settings.width-o.width-N:O,r.y+L,o.width,o.height),T=void 0,"right"===E.float||"left"===E.float?(r.watchFunctions.push((function(t,e,i,n){return r.y>=e?(r.x+=t,r.settings.width+=i,!0):!!(n&&1===n.nodeType&&!x[n.nodeName]&&r.x+n.width>r.pdf.margins_doc.left+r.pdf.margins_doc.width)&&(r.x+=t,r.y=e,r.settings.width+=i,!0)}).bind(this,"left"===E.float?-o.width-O-N:0,r.y+o.height+L+I,o.width)),r.watchFunctions.push((function(t,e,i){return!(r.y<t&&e===r.pdf.internal.getNumberOfPages())||1===i.nodeType&&"both"===u(i).clear&&(r.y=t,!0)}).bind(this,r.y+o.height,r.pdf.internal.getNumberOfPages())),r.settings.width-=o.width+O+N,"left"===E.float&&(r.x+=o.width+O+N)):r.y+=o.height+L+I}else if("TABLE"===o.nodeName)f=w(o,r),r.y+=10,r.pdf.table(r.x,r.y,f.rows,f.headers,{autoSize:!1,printHeaders:s.printHeaders,margins:r.pdf.margins_doc,css:u(o)}),r.y=r.pdf.lastCellPos.y+r.pdf.lastCellPos.h+20;else if("OL"===o.nodeName||"UL"===o.nodeName)S=1,m(o,r,s)||n(o,r,s),r.y+=10;else if("LI"===o.nodeName){var F=r.x;r.x+=20/r.pdf.internal.scaleFactor,r.y+=3,m(o,r,s)||n(o,r,s),r.x=F}else"BR"===o.nodeName?(r.y+=h["font-size"]*r.pdf.internal.scaleFactor,r.addText("\u2028",i(h))):m(o,r,s)||n(o,r,s)}}l++}if(s.outY=r.y,c)return r.setBlockBoundary(p)},v={},y=function(t,e,i,n){var r,s=t.getElementsByTagName("img"),o=s.length,a=0;function h(){e.pdf.internal.events.publish("imagesLoaded"),n(r)}function l(t,i,n){if(t){var s=new Image;r=++a,s.crossOrigin="",s.onerror=s.onload=function(){if(s.complete&&(0===s.src.indexOf("data:image/")&&(s.width=i||s.width||0,s.height=n||s.height||0),s.width+s.height)){var r=e.pdf.sHashCode(t)||t;v[r]=v[r]||s}--a||h()},s.src=t}}for(;o--;)l(s[o].getAttribute("src"),s[o].width,s[o].height);return a||h()},b=function(t,e,i){var r=t.getElementsByTagName("footer");if(0<r.length){r=r[0];var s=e.pdf.internal.write,o=e.y;e.pdf.internal.write=function(){},n(r,e,i);var a=Math.ceil(e.y-o)+5;e.y=o,e.pdf.internal.write=s,e.pdf.margins_doc.bottom+=a;for(var h=function(t){var s=void 0!==t?t.pageNumber:1,o=e.y;e.y=e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=a;for(var h=r.getElementsByTagName("span"),l=0;l<h.length;++l)-1<(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(h[l].innerHTML=s),-1<(" "+h[l].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(h[l].innerHTML="###jsPDFVarTotalPages###");n(r,e,i),e.pdf.margins_doc.bottom+=a,e.y=o},l=r.getElementsByTagName("span"),u=0;u<l.length;++u)-1<(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",h,!1),h(),x.FOOTER=1}},_=function(t,e,i,r,s,o){if(!e)return!1;var a,h,l,u;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(a=e.replace(/<\/?script[^>]*?>/gi,""),u="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(l=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",l.innerHTML='<iframe style="height:1px;width:1px" name="'+u+'" />',document.body.appendChild(l),(h=window.frames[u]).document.open(),h.document.writeln(a),h.document.close(),e=h.document.body);var c,f=new d(t,i,r,s);return y.call(this,e,f,s.elementHandlers,function(t){b(e,f,s.elementHandlers),n(e,f,s.elementHandlers),f.pdf.internal.events.publish("htmlRenderingFinished"),c=f.dispose(),"function"==typeof o?o(c):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),c||{x:f.x,y:f.y}},(d=function(t,e,i,n){return this.pdf=t,this.x=e,this.y=i,this.settings=n,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},d.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},d.prototype.executeWatchFunctions=function(t){var e=!1,i=[];if(0<this.watchFunctions.length){for(var n=0;n<this.watchFunctions.length;++n)!0===this.watchFunctions[n](t)?e=!0:i.push(this.watchFunctions[n]);this.watchFunctions=i}return e},d.prototype.splitFragmentsIntoLines=function(t,e){var n,r,s,o,a,h,l,u,c,d,f,p,g,m;for(d=this.pdf.internal.scaleFactor,o={},h=l=u=m=a=s=c=r=void 0,p=[f=[]],n=0,g=this.settings.width;t.length;)if(a=t.shift(),m=e.shift(),a)if((s=o[(r=m["font-family"])+(c=m["font-style"])])||(s=this.pdf.internal.getFont(r,c).metadata.Unicode,o[r+c]=s),l=this.pdf.getStringUnitWidth(a,u={widths:s.widths,kerning:s.kerning,fontSize:12*m["font-size"],textIndent:n})*u.fontSize/d,"\u2028"==a)p.push(f=[]);else if(g<n+l){for(h=this.pdf.splitTextToSize(a,g,u),f.push([h.shift(),m]);h.length;)f=[[h.shift(),m]],p.push(f);n=this.pdf.getStringUnitWidth(f[0][0],u)*u.fontSize/d}else f.push([a,m]),n+=l;if(void 0!==m["text-align"]&&("center"===m["text-align"]||"right"===m["text-align"]||"justify"===m["text-align"]))for(var v=0;v<p.length;++v){var y=this.pdf.getStringUnitWidth(p[v][0][0],u)*u.fontSize/d;0<v&&(p[v][0][1]=i(p[v][0][1]));var b=g-y;if("right"===m["text-align"])p[v][0][1]["margin-left"]=b;else if("center"===m["text-align"])p[v][0][1]["margin-left"]=b/2;else if("justify"===m["text-align"]){var _=p[v][0][0].split(" ").length-1;p[v][0][1]["word-spacing"]=b/_,v===p.length-1&&(p[v][0][1]["word-spacing"]=0)}}return p},d.prototype.RenderTextFragment=function(t,e){var i,n;n=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),n=Math.max(n,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*n).toFixed(2),"Td")),i=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var r=this.getPdfColor(e.color);r!==this.lastTextColor&&(this.pdf.internal.write(r),this.lastTextColor=r),void 0!==e["word-spacing"]&&0<e["word-spacing"]&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+i.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},d.prototype.getPdfColor=function(t){var e,i,n,r=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=r)e=parseInt(r[1]),i=parseInt(r[2]),n=parseInt(r[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var s=new RGBColor(t);t=s.ok?s.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),i=t.substring(3,5),i=parseInt(i,16),n=t.substring(5,7),n=parseInt(n,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var o=parseInt(e.substr(1),16);e=o>>16&255,i=o>>8&255,n=255&o}var a=this.f3;return 0===e&&0===i&&0===n||void 0===i?a(e/255)+" g":[a(e/255),a(i/255),a(n/255),"rg"].join(" ")},d.prototype.f3=function(t){return t.toFixed(3)},d.prototype.renderParagraph=function(t){var e,i,n,r,s,o,a,h,l,u,d,f,p;if(n=c(this.paragraph.text),f=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e=this.paragraph.blockstyle},n.join("").trim()){a=this.splitFragmentsIntoLines(n,f),h=o=void 0,i=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,d=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*i,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*i,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,d=((e["margin-top"]||0)+(e["padding-top"]||0))*i),l=this.pdf.internal.write,s=r=void 0,this.y+=d,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var g=0;a.length;){for(r=h=0,s=(o=a.shift()).length;r!==s;)o[r][0].trim()&&(h=Math.max(h,o[r][1]["line-height"],o[r][1]["font-size"]),p=7*o[r][1]["font-size"]),r++;var m=0,v=0;for(void 0!==o[0][1]["margin-left"]&&0<o[0][1]["margin-left"]&&(m=(v=this.pdf.internal.getCoordinateString(o[0][1]["margin-left"]))-g,g=v),l(m+Math.max(e["margin-left"]||0,0)*i,(-12*h).toFixed(2),"Td"),r=0,s=o.length;r!==s;)o[r][0]&&this.RenderTextFragment(o[r][0],o[r][1]),r++;if(this.y+=h*i,this.executeWatchFunctions(o[0][1])&&0<a.length){var y=[],b=[];a.forEach(function(t){for(var e=0,i=t.length;e!==i;)t[e][0]&&(y.push(t[e][0]+" "),b.push(t[e][1])),++e}),a=this.splitFragmentsIntoLines(c(y),b),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-p/2),l("ET","Q"),this.y+=u}},d.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},d.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},d.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},a={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},s={normal:"normal",italic:"italic",oblique:"italic"},o={left:"left",right:"right",center:"center",justify:"justify"},h={none:"none",right:"right",left:"left"},l={none:"none",both:"both"},g={normal:1},e.fromHTML=function(t,e,i,n,r,s){return this.margins_doc=s||{top:0,bottom:0},n||(n={}),n.elementHandlers||(n.elementHandlers={}),_(this,t,isNaN(e)?4:e,isNaN(i)?4:i,n,r)}}(ht.API),("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(t,e,i){var n=e.canvas;if(n){var r,s;if((n.pdf=e).annotations={_nameMap:[],createAnnotation:function(t,i){var n,r=e.context2d._wrapX(i.left),s=e.context2d._wrapY(i.top),o=(e.context2d._page(i.top),t.indexOf("#"));n=0<=o?{name:t.substring(o+1)}:{url:t},e.link(r,s,i.right-i.left,i.bottom-i.top,n)},setName:function(t,i){var n=e.context2d._wrapX(i.left),r=e.context2d._wrapY(i.top),s=e.context2d._page(i.top);this._nameMap[t]={page:s,x:n,y:r}}},n.annotations=e.annotations,e.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},e.context2d._gotoPage=function(t){for(;e.internal.getNumberOfPages()<t;)e.addPage();e.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var o,a,h=document.createElement("iframe");document.body.appendChild(h),null!=(o=h.contentDocument)&&null!=o||(o=h.contentWindow.document),o.open(),o.write(t),o.close(),r=o.body,a=o.body||{},t=o.documentElement||{},s=Math.max(a.scrollHeight,a.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else a=(r=t).body||{},s=Math.max(a.scrollHeight,a.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var l={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:n,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:s=e.internal.pageSize.getHeight(),scrollY:s};e.context2d.pageWrapYEnabled=!0,e.context2d.pageWrapY=e.internal.pageSize.getHeight(),html2canvas(r,l).then(function(t){i&&(h&&h.parentElement.removeChild(h),i(e))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(t){var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder;t.URL=t.URL||t.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var i=t.Blob,n=URL.createObjectURL,r=URL.revokeObjectURL,s=t.Symbol&&t.Symbol.toStringTag,o=!1,a=!1,h=!!t.ArrayBuffer,l=e&&e.prototype.append&&e.prototype.getBlob;try{o=2===new Blob([""]).size,a=2===new Blob([new Uint8Array([1,2])]).size}catch(o){}function u(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t})}function c(t,i){i=i||{};var n=new e;return u(t).forEach(function(t){n.append(t)}),i.type?n.getBlob(i.type):n.getBlob()}function d(t,e){return new i(u(t),e||{})}if(t.Blob&&(c.prototype=Blob.prototype,d.prototype=Blob.prototype),s)try{File.prototype[s]="File",Blob.prototype[s]="Blob",FileReader.prototype[s]="FileReader"}catch(o){}function f(){var e=!!t.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,i=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;e&&i&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),i.call(this,t)});try{new File([],"")}catch(e){try{var n=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();t.File=n}catch(e){t.File=n=function(t,e,i){var n=new Blob(t,i),r=i&&void 0!==i.lastModified?new Date(i.lastModified):new Date;return n.name=e,n.lastModifiedDate=r,n.lastModified=+r,n.toString=function(){return"[object File]"},s&&(n[s]="File"),n}}}}o?(f(),t.Blob=a?t.Blob:d):l?(f(),t.Blob=c):function(){function e(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||57344<=n?e.push(224|n>>12,128|n>>6&63,128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++i)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}function i(t){var e,i,n,r,s,o;for(e="",n=t.length,i=0;i<n;)switch((r=t[i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(r);break;case 12:case 13:s=t[i++],e+=String.fromCharCode((31&r)<<6|63&s);break;case 14:s=t[i++],o=t[i++],e+=String.fromCharCode((15&r)<<12|(63&s)<<6|(63&o)<<0)}return e}function s(t){for(var e=new Array(t.byteLength),i=new Uint8Array(t),n=e.length;n--;)e[n]=i[n];return e}function o(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=[],n=0;n<t.length;n+=3){var r=t[n],s=n+1<t.length,o=s?t[n+1]:0,a=n+2<t.length,h=a?t[n+2]:0,l=(15&o)<<2|h>>6,u=63&h;a||(u=64,s||(l=64)),i.push(e[r>>2],e[(3&r)<<4|o>>4],e[l],e[u])}return i.join("")}var a=Object.create||function(t){function e(){}return e.prototype=t,new e};if(h)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&-1<l.indexOf(Object.prototype.toString.call(t))};function c(t,i){for(var n=0,r=(t=t||[]).length;n<r;n++){var o=t[n];t[n]=o instanceof c?o._buffer:"string"==typeof o?e(o):h&&(ArrayBuffer.prototype.isPrototypeOf(o)||u(o))?s(o):h&&(a=o)&&DataView.prototype.isPrototypeOf(a)?s(o.buffer):e(String(o))}var a;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=i&&i.type||""}function d(t,e,i){var n=c.call(this,t,i=i||{})||this;return n.name=e,n.lastModifiedDate=i.lastModified?new Date(i.lastModified):new Date,n.lastModified=+n.lastModifiedDate,n}if(c.prototype.slice=function(t,e,i){return new c([this._buffer.slice(t||0,e||this._buffer.length)],{type:i})},c.prototype.toString=function(){return"[object Blob]"},(d.prototype=a(c.prototype)).constructor=d,Object.setPrototypeOf)Object.setPrototypeOf(d,c);else try{d.__proto__=c}catch(a){}function f(){if(!(this instanceof f))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var t=document.createDocumentFragment();this.addEventListener=t.addEventListener,this.dispatchEvent=function(e){var i=this["on"+e.type];"function"==typeof i&&i(e),t.dispatchEvent(e)},this.removeEventListener=t.removeEventListener}function p(t,e,i){if(!(e instanceof c))throw new TypeError("Failed to execute '"+i+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout(function(){this.readyState=f.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})}d.prototype.toString=function(){return"[object File]"},f.EMPTY=0,f.LOADING=1,f.DONE=2,f.prototype.error=null,f.prototype.onabort=null,f.prototype.onerror=null,f.prototype.onload=null,f.prototype.onloadend=null,f.prototype.onloadstart=null,f.prototype.onprogress=null,f.prototype.readAsDataURL=function(t){p(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+o(t._buffer)},f.prototype.readAsText=function(t){p(this,t,"readAsText"),this.result=i(t._buffer)},f.prototype.readAsArrayBuffer=function(t){p(this,t,"readAsText"),this.result=t._buffer.slice()},f.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof c?"data:"+t.type+";base64,"+o(t._buffer):n.call(URL,t)},URL.revokeObjectURL=function(t){r&&r.call(URL,t)};var g=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;g&&(XMLHttpRequest.prototype.send=function(t){t instanceof c?(this.setRequestHeader("Content-Type",t.type),g.call(this,i(t._buffer))):g.call(this,t)}),t.FileReader=f,t.File=d,t.Blob=c}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var lt,ut,ct,dt,ft,pt,gt,mt,vt,yt,bt,_t,wt,xt,St,kt=kt||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in i,r=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=t.setImmediate||t.setTimeout,a=function(t){o(function(){throw t},0)},h=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},u=function(u,c,d){d||(u=l(u));var f,p=this,g="application/octet-stream"===u.type,m=function(){!function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,t)}catch(t){a(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return f=e().createObjectURL(u),void o(function(){var t,e;i.href=f,i.download=c,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),m(),h(f),p.readyState=p.DONE},0);!function(){if((s||g&&r)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,m()},i.readAsDataURL(u),p.readyState=p.INIT}f||(f=e().createObjectURL(u)),g?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),p.readyState=p.DONE,m(),h(f)}()},c=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(t,e,i){return new u(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Ct(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw"Invalid GIF 87a/89a header.";var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,r=t[e++];e++,e++;var s=null;r>>7&&(s=e,e+=3*(1<<1+(7&r)));var o=!0,a=[],h=0,l=null,u=0,c=null;for(this.width=i,this.height=n;o&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,c=t[e++]|t[e++]<<8,e++;else for(e+=12;0!==(x=t[e++]);)e+=x;break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var d=t[e++];h=t[e++]|t[e++]<<8,l=t[e++],0==(1&d)&&(l=null),u=d>>2&7,e++;break;case 254:for(;0!==(x=t[e++]);)e+=x;break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var f=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++],y=v>>6&1,b=s,_=!1;v>>7&&(_=!0,b=e,e+=3*(1<<1+(7&v)));var w=e;for(e++;;){var x;if(0===(x=t[e++]))break;e+=x}a.push({x:f,y:p,width:g,height:m,has_local_palette:_,palette_offset:b,data_offset:w,data_length:e-w,transparent_index:l,interlaced:!!y,delay:h,disposal:u});break;case 59:o=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return a.length},this.loopCount=function(){return c},this.frameInfo=function(t){if(t<0||t>=a.length)throw"Frame index out of range.";return a[t]},this.decodeAndBlitFrameBGRA=function(e,n){var r=this.frameInfo(e),s=r.width*r.height,o=new Uint8Array(s);At(t,r.data_offset,o,s);var a=r.palette_offset,h=r.transparent_index;null===h&&(h=256);var l=r.width,u=i-l,c=l,d=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),p=d,g=4*u;!0===r.interlaced&&(g+=4*(l+u)*7);for(var m=8,v=0,y=o.length;v<y;++v){var b=o[v];if(0===c&&(c=l,f<=(p+=g)&&(g=u+4*(l+u)*(m-1),p=d+(l+u)*(m<<1),m>>=1)),b===h)p+=4;else{var _=t[a+3*b],w=t[a+3*b+1];n[p++]=t[a+3*b+2],n[p++]=w,n[p++]=_,n[p++]=255}--c}},this.decodeAndBlitFrameRGBA=function(e,n){var r=this.frameInfo(e),s=r.width*r.height,o=new Uint8Array(s);At(t,r.data_offset,o,s);var a=r.palette_offset,h=r.transparent_index;null===h&&(h=256);var l=r.width,u=i-l,c=l,d=4*(r.y*i+r.x),f=4*((r.y+r.height)*i+r.x),p=d,g=4*u;!0===r.interlaced&&(g+=4*(l+u)*7);for(var m=8,v=0,y=o.length;v<y;++v){var b=o[v];if(0===c&&(c=l,f<=(p+=g)&&(g=u+4*(l+u)*(m-1),p=d+(l+u)*(m<<1),m>>=1)),b===h)p+=4;else{var _=t[a+3*b+1],w=t[a+3*b+2];n[p++]=t[a+3*b],n[p++]=_,n[p++]=w,n[p++]=255}--c}}}function At(t,e,i,n){for(var r=t[e++],s=1<<r,o=s+1,a=o+1,h=r+1,l=(1<<h)-1,u=0,c=0,d=0,f=t[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==f;)c|=t[e++]<<u,u+=8,1===f?f=t[e++]:--f;if(u<h)break;var m=c&l;if(c>>=h,u-=h,m!==s){if(m===o)break;for(var v=m<a?m:g,y=0,b=v;s<b;)b=p[b]>>8,++y;var _=b;if(n<d+y+(v!==m?1:0))return void console.log("Warning, gif stream longer than expected.");i[d++]=_;var w=d+=y;for(v!==m&&(i[d++]=_),b=v;y--;)i[--w]=255&(b=p[b]),b>>=8;null!==g&&a<4096&&(p[a++]=g<<8|_,l+1<=a&&h<12&&(++h,l=l<<1|1)),g=m}else a=o+1,l=(1<<(h=r+1))-1,g=null}return d!==n&&console.log("Warning, gif stream shorter than expected."),i}try{exports.GifWriter=function(t,e,i,n){var r=0,s=void 0===(n=void 0===n?{}:n).loop?null:n.loop,o=void 0===n.palette?null:n.palette;if(e<=0||i<=0||65535<e||65535<i)throw"Width/Height invalid.";function a(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;var h=0,l=0;if(null!==o){for(var u=a(o);u>>=1;)++h;if(u=1<<h,--h,void 0!==n.background){if(u<=(l=n.background))throw"Background index out of range.";if(0===l)throw"Background index explicitly passed as 0."}}if(t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=(null!==o?128:0)|h,t[r++]=l,t[r++]=0,null!==o)for(var c=0,d=o.length;c<d;++c){var f=o[c];t[r++]=f>>16&255,t[r++]=f>>8&255,t[r++]=255&f}if(null!==s){if(s<0||65535<s)throw"Loop count invalid.";t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=255&s,t[r++]=s>>8&255,t[r++]=0}var p=!1;this.addFrame=function(e,i,n,s,h,l){if(!0===p&&(--r,p=!1),e<0||i<0||65535<e||65535<i)throw"x/y invalid.";if(n<=0||s<=0||65535<n||65535<s)throw"Width/Height invalid.";if(h.length<n*s)throw"Not enough pixels for the frame size.";var u=!0,c=(l=void 0===l?{}:l).palette;if(null==c&&(u=!1,c=o),null==c)throw"Must supply either a local or global palette.";for(var d=a(c),f=0;d>>=1;)++f;d=1<<f;var g=void 0===l.delay?0:l.delay,m=void 0===l.disposal?0:l.disposal;if(m<0||3<m)throw"Disposal out of range.";var v=!1,y=0;if(null!=l.transparent&&(v=!0,(y=l.transparent)<0||d<=y))throw"Transparent color index.";if((0!==m||v||0!==g)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=m<<2|(!0===v?1:0),t[r++]=255&g,t[r++]=g>>8&255,t[r++]=y,t[r++]=0),t[r++]=44,t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=255&s,t[r++]=s>>8&255,t[r++]=!0===u?128|f-1:0,!0===u)for(var b=0,_=c.length;b<_;++b){var w=c[b];t[r++]=w>>16&255,t[r++]=w>>8&255,t[r++]=255&w}r=function(t,e,i,n){t[e++]=i;var r=e++,s=1<<i,o=s-1,a=s+1,h=a+1,l=i+1,u=0,c=0;function d(i){for(;i<=u;)t[e++]=255&c,c>>=8,u-=8,e===r+256&&(t[r]=255,r=e++)}function f(t){c|=t<<u,u+=l,d(8)}var p=n[0]&o,g={};f(s);for(var m=1,v=n.length;m<v;++m){var y=n[m]&o,b=p<<8|y,_=g[b];if(void 0===_){for(c|=p<<u,u+=l;8<=u;)t[e++]=255&c,c>>=8,u-=8,e===r+256&&(t[r]=255,r=e++);4096===h?(f(s),h=a+1,l=i+1,g={}):(1<<l<=h&&++l,g[b]=h++),p=y}else p=_}return f(p),f(a),d(1),r+1===e?t[r]=0:(t[r]=e-r-1,t[e++]=0),e}(t,r,f<2?2:f,h)},this.end=function(){return!1===p&&(t[r++]=59,p=!0),r}},exports.GifReader=Ct}catch(e){}function Tt(t){var e,i,n,r,s,o=Math.floor,a=new Array(64),h=new Array(64),l=new Array(64),u=new Array(64),c=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),_=new Array(64),w=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(t,e){for(var i=0,n=0,r=new Array,s=1;s<=16;s++){for(var o=1;o<=t[s];o++)r[e[n]]=[],r[e[n]][0]=i,r[e[n]][1]=s,n++,i++;i*=2}return r}function N(t){for(var e=t[0],i=t[1]-1;0<=i;)e&1<<i&&(m|=1<<v),i--,--v<0&&(255==m?(L(255),L(0)):L(m),v=7,m=0)}function L(t){g.push(t)}function I(t){L(t>>8&255),L(255&t)}function F(t,e,i,n,r){for(var s,o=r[0],a=r[240],h=function(t,e){var i,n,r,s,o,a,h,l,u,c,d=0;for(u=0;u<8;++u){var p=(i=t[d])+(l=t[d+7]),g=i-l,m=(n=t[d+1])+(h=t[d+6]),v=n-h,y=(r=t[d+2])+(a=t[d+5]),b=r-a,_=(s=t[d+3])+(o=t[d+4]),w=s-o,x=p+_,S=p-_,k=m+y,C=m-y;t[d]=x+k,t[d+4]=x-k;var A=.707106781*(C+S);t[d+2]=S+A,t[d+6]=S-A;var T=.382683433*((x=w+b)-(C=v+g)),M=.5411961*x+T,E=1.306562965*C+T,D=.707106781*(k=b+v),P=g+D,O=g-D;t[d+5]=O+M,t[d+3]=O-M,t[d+1]=P+E,t[d+7]=P-E,d+=8}for(u=d=0;u<8;++u){var N=(i=t[d])+(l=t[d+56]),L=i-l,I=(n=t[d+8])+(h=t[d+48]),F=n-h,R=(r=t[d+16])+(a=t[d+40]),z=r-a,B=(s=t[d+24])+(o=t[d+32]),j=s-o,H=N+B,Y=N-B,V=I+R,q=I-R;t[d]=H+V,t[d+32]=H-V;var W=.707106781*(q+Y);t[d+16]=Y+W,t[d+48]=Y-W;var U=.382683433*((H=j+z)-(q=F+L)),G=.5411961*H+U,X=1.306562965*q+U,K=.707106781*(V=z+F),Z=L+K,Q=L-K;t[d+40]=Q+G,t[d+24]=Q-G,t[d+8]=Z+X,t[d+56]=Z-X,d++}for(u=0;u<64;++u)f[u]=0<(c=t[u]*e[u])?c+.5|0:c-.5|0;return f}(t,e),l=0;l<64;++l)p[S[l]]=h[l];var u=p[0]-i;i=p[0],0==u?N(n[0]):(N(n[d[s=32767+u]]),N(c[s]));for(var g=63;0<g&&0==p[g];g--);if(0==g)return N(o),i;for(var m,v=1;v<=g;){for(var y=v;0==p[v]&&v<=g;++v);var b=v-y;if(16<=b){m=b>>4;for(var _=1;_<=m;++_)N(a);b&=15}N(r[(b<<4)+d[s=32767+p[v]]]),N(c[s]),v++}return 63!=g&&N(o),i}function R(t){t<=0&&(t=1),100<t&&(t=100),s!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var n=o((e[i]*t+50)/100);n<1?n=1:255<n&&(n=255),a[S[i]]=n}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var c=o((r[s]*t+50)/100);c<1?c=1:255<c&&(c=255),h[S[s]]=c}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)l[f]=1/(a[S[f]]*d[p]*d[g]*8),u[f]=1/(h[S[f]]*d[p]*d[g]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t)}this.encode=function(t,s){var o,c;(new Date).getTime(),s&&R(s),g=new Array,m=0,v=7,I(65496),I(65504),I(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),I(1),I(1),L(0),L(0),function(){I(65499),I(132),L(0);for(var t=0;t<64;t++)L(a[t]);L(1);for(var e=0;e<64;e++)L(h[e])}(),o=t.width,c=t.height,I(65472),I(17),L(8),I(c),I(o),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1),function(){I(65476),I(418),L(0);for(var t=0;t<16;t++)L(k[t+1]);for(var e=0;e<=11;e++)L(C[e]);L(16);for(var i=0;i<16;i++)L(A[i+1]);for(var n=0;n<=161;n++)L(T[n]);L(1);for(var r=0;r<16;r++)L(M[r+1]);for(var s=0;s<=11;s++)L(E[s]);L(17);for(var o=0;o<16;o++)L(D[o+1]);for(var a=0;a<=161;a++)L(P[a])}(),I(65498),I(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var d=0,f=0,p=0;m=0,v=7,this.encode.displayName="_encode_";for(var w,S,O,z,B,j,H,Y,V,q=t.data,W=t.height,U=4*t.width,G=0;G<W;){for(w=0;w<U;){for(j=B=U*G+w,H=-1,V=Y=0;V<64;V++)j=B+(Y=V>>3)*U+(H=4*(7&V)),W<=G+Y&&(j-=U*(G+1+Y-W)),U<=w+H&&(j-=w+H-U+4),S=q[j++],O=q[j++],z=q[j++],y[V]=(x[S]+x[O+256>>0]+x[z+512>>0]>>16)-128,b[V]=(x[S+768>>0]+x[O+1024>>0]+x[z+1280>>0]>>16)-128,_[V]=(x[S+1280>>0]+x[O+1536>>0]+x[z+1792>>0]>>16)-128;d=F(y,l,d,e,n),f=F(b,u,f,i,r),p=F(_,u,p,i,r),w+=32}G+=8}if(0<=v){var X=[];X[1]=v+1,X[0]=(1<<v+1)-1,N(X)}return I(65497),new Uint8Array(g)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=O(k,C),i=O(M,E),n=O(A,T),r=O(D,P),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var n=t;n<e;n++)d[32767+n]=i,c[32767+n]=[],c[32767+n][1]=i,c[32767+n][0]=n;for(var r=-(e-1);r<=-t;r++)d[32767+r]=i,c[32767+r]=[],c[32767+r][1]=i,c[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),R(t),(new Date).getTime()}function Mt(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Ct,ht.API.adler32cs=(pt="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,gt=null,mt=function(){if(!pt)return function(){return!1};try{var t={};"function"==typeof t.Buffer&&(gt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==gt&&t instanceof gt}}(),vt=null!==gt?function(t){return new gt(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},yt=function(t,e){for(var i=65535&t,n=t>>>16,r=0,s=e.length;r<s;r++)n=(n+(i=(i+(255&e.charCodeAt(r)))%65521))%65521;return(n<<16|i)>>>0},bt=function(t,e){for(var i=65535&t,n=t>>>16,r=0,s=e.length;r<s;r++)n=(n+(i=(i+e[r])%65521))%65521;return(n<<16|i)>>>0},wt=(_t={}).Adler32=(((ft=(dt=function(t){if(!(this instanceof dt))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=dt).from=((lt=function(t){if(!(this instanceof dt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=yt(1,t.toString())}).prototype=ft,lt),dt.fromUtf8=((ut=function(t){if(!(this instanceof dt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var e=vt(t.toString());this.checksum=yt(1,e)}).prototype=ft,ut),pt&&(dt.fromBuffer=((ct=function(t){if(!(this instanceof dt))throw new TypeError("Constructor cannot called be as a function.");if(!mt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=bt(1,e)}).prototype=ft,ct)),ft.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=yt(this.checksum,t)},ft.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=vt(t.toString());return this.checksum=yt(this.checksum,e)},pt&&(ft.updateBuffer=function(t){if(!mt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=bt(this.checksum,e)}),ft.clone=function(){return new wt(this.checksum)},dt),_t.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return yt(1,t.toString())},_t.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=vt(t.toString());return yt(1,e)},pt&&(_t.fromBuffer=function(t){if(!mt(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return bt(1,e)}),_t),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var i,n,r,s,o,a,h,l=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),i=e>>8,n=f[i];return void 0!==n?l[256*n+(255&e)]:252===i||253===i?"AL":g.test(i)?"L":8===i?"R":"N"},b=function(t){for(var e,i=0;i<t.length;i++){if("L"===(e=y(t.charAt(i))))return!1;if("R"===e)return!0}return!1},_=function(t,e,o,a){var h,l,u,c,d=e[a];switch(d){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(d="AN");break;case"AL":m=!0,d="R";break;case"WS":d="N";break;case"CS":a<1||a+1>=e.length||"EN"!==(h=o[a-1])&&"AN"!==h||"EN"!==(l=e[a+1])&&"AN"!==l?d="N":m&&(l="AN"),d=l===h?l:"N";break;case"ES":d="EN"===(h=0<a?o[a-1]:"B")&&a+1<e.length&&"EN"===e[a+1]?"EN":"N";break;case"ET":if(0<a&&"EN"===o[a-1]){d="EN";break}if(m){d="N";break}for(u=a+1,c=e.length;u<c&&"ET"===e[u];)u++;d=u<c&&"EN"===e[u]?"EN":"N";break;case"NSM":if(r&&!s){for(c=e.length,u=a+1;u<c&&"NSM"===e[u];)u++;if(u<c){var f=t[a];if(h=e[u],(1425<=f&&f<=2303||64286===f)&&("R"===h||"AL"===h)){d="R";break}}}d=a<1||"B"===(h=e[a-1])?"N":o[a-1];break;case"B":i=!(m=!1),d=v;break;case"S":n=!0,d="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":d="N"}return d},w=function(t,e,i){var n=t.split("");return i&&x(n,i,{hiLevel:v}),n.reverse(),e&&e.reverse(),n.join("")},x=function(t,e,r){var s,o,a,h,l,f=-1,p=t.length,g=0,b=[],w=v?c:u,x=[];for(n=i=m=!1,o=0;o<p;o++)x[o]=y(t[o]);for(a=0;a<p;a++){if(l=g,b[a]=_(t,x,b,a),s=240&(g=w[l][d[b[a]]]),e[a]=h=w[g&=15][5],0<s)if(16===s){for(o=f;o<a;o++)e[o]=1;f=-1}else f=-1;if(w[g][6])-1===f&&(f=a);else if(-1<f){for(o=f;o<a;o++)e[o]=h;f=-1}"B"===x[a]&&(e[a]=0),r.hiLevel|=h}n&&function(t,e,i){for(var n=0;n<i;n++)if("S"===t[n]){e[n]=v;for(var r=n-1;0<=r&&"WS"===t[r];r--)e[r]=v}}(x,e,p)},S=function(t,e,n,r,s){if(!(s.hiLevel<t)){if(1===t&&1===v&&!i)return e.reverse(),void(n&&n.reverse());for(var o,a,h,l,u=e.length,c=0;c<u;){if(r[c]>=t){for(h=c+1;h<u&&r[h]>=t;)h++;for(l=c,a=h-1;l<a;l++,a--)o=e[l],e[l]=e[a],e[a]=o,n&&(o=n[l],n[l]=n[a],n[a]=o);c=h}c++}}},k=function(t,e,i){var n=t.split(""),r={hiLevel:v};return i||(i=[]),x(n,i,r),function(t,e,i){if(0!==i.hiLevel&&h)for(var n,r=0;r<t.length;r++)1===e[r]&&0<=(n=p.indexOf(t[r]))&&(t[r]=p[n+1])}(n,i,r),S(2,n,e,i,r),S(1,n,e,i,r),n.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,i){if(function(t,e){if(e)for(var i=0;i<t.length;i++)e[i]=i;void 0===s&&(s=b(t)),void 0===a&&(a=b(t))}(t,e),r||!o||a)if(r&&o&&s^a)v=s?1:0,t=w(t,e,i);else if(!r&&o&&a)v=s?1:0,t=k(t,e,i),t=w(t,e);else if(!r||s||o||a){if(r&&!o&&s^a)t=w(t,e),t=s?(v=0,k(t,e,i)):(v=1,t=k(t,e,i),w(t,e));else if(r&&s&&!o&&a)v=1,t=k(t,e,i),t=w(t,e);else if(!r&&!o&&s^a){var n=h;s?(v=1,t=k(t,e,i),v=0,h=!1,t=k(t,e,i),h=n):(v=0,t=k(t,e,i),t=w(t,e),h=!(v=1),t=k(t,e,i),h=n,t=w(t,e))}}else v=0,t=k(t,e,i);else v=s?1:0,t=k(t,e,i);return t},this.__bidiEngine__.setOptions=function(t){t&&(r=t.isInputVisual,o=t.isOutputVisual,s=t.isInputRtl,a=t.isOutputRtl,h=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,n=[];if("[object Array]"===Object.prototype.toString.call(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)"[object Array]"===Object.prototype.toString.call(e[r])?n.push([i.doBidiReorder(e[r][0]),e[r][1],e[r][2]]):n.push([i.doBidiReorder(e[r])]);t.text=n}else t.text=i.doBidiReorder(e)}])}(ht),window.tmp=Tt,Mt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:i,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mt.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(t){console.log("bit decode error:"+t)}},Mt.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,i=0<=this.height?this.height-1:-this.height;for(i=this.height-1;0<=i;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var h=this.palette[s>>7-a&1];this.data[o+4*a]=h.blue,this.data[o+4*a+1]=h.green,this.data[o+4*a+2]=h.red,this.data[o+4*a+3]=255}0!=e&&(this.pos+=4-e)}},Mt.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;0<=i;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*r*4,a=15&s,h=this.palette[s>>4];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*r+1>=this.width)break;this.data[o+4]=(h=this.palette[a]).blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}0!=e&&(this.pos+=4-e)}},Mt.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+4*n;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!=t&&(this.pos+=4-t)}},Mt.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;0<=i;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,h=s>>15?255:0,l=n*this.width*4+4*r;this.data[l]=(s>>10&e)/e*255|0,this.data[l+1]=a,this.data[l+2]=o,this.data[l+3]=h}this.pos+=t}},Mt.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,h=(o>>5&i)/i*255|0,l=r*this.width*4+4*s;this.data[l]=(o>>11)/e*255|0,this.data[l+1]=h,this.data[l+2]=a,this.data[l+3]=255}this.pos+=t}},Mt.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Mt.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=o}},Mt.prototype.getData=function(){return this.data},window.tmp=Mt,function(t){var e=15,i=573,n=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function r(){var t=this;function n(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}t.build_tree=function(r){var s,o,a,h=t.dyn_tree,l=t.stat_desc.static_tree,u=t.stat_desc.elems,c=-1;for(r.heap_len=0,r.heap_max=i,s=0;s<u;s++)0!==h[2*s]?(r.heap[++r.heap_len]=c=s,r.depth[s]=0):h[2*s+1]=0;for(;r.heap_len<2;)h[2*(a=r.heap[++r.heap_len]=c<2?++c:0)]=1,r.depth[a]=0,r.opt_len--,l&&(r.static_len-=l[2*a+1]);for(t.max_code=c,s=Math.floor(r.heap_len/2);1<=s;s--)r.pqdownheap(h,s);for(a=u;s=r.heap[1],r.heap[1]=r.heap[r.heap_len--],r.pqdownheap(h,1),o=r.heap[1],r.heap[--r.heap_max]=s,r.heap[--r.heap_max]=o,h[2*a]=h[2*s]+h[2*o],r.depth[a]=Math.max(r.depth[s],r.depth[o])+1,h[2*s+1]=h[2*o+1]=a,r.heap[1]=a++,r.pqdownheap(h,1),2<=r.heap_len;);r.heap[--r.heap_max]=r.heap[1],function(n){var r,s,o,a,h,l,u=t.dyn_tree,c=t.stat_desc.static_tree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=e;a++)n.bl_count[a]=0;for(u[2*n.heap[n.heap_max]+1]=0,r=n.heap_max+1;r<i;r++)p<(a=u[2*u[2*(s=n.heap[r])+1]+1]+1)&&(a=p,g++),u[2*s+1]=a,s>t.max_code||(n.bl_count[a]++,h=0,f<=s&&(h=d[s-f]),n.opt_len+=(l=u[2*s])*(a+h),c&&(n.static_len+=l*(c[2*s+1]+h)));if(0!==g){do{for(a=p-1;0===n.bl_count[a];)a--;n.bl_count[a]--,n.bl_count[a+1]+=2,n.bl_count[p]--,g-=2}while(0<g);for(a=p;0!==a;a--)for(s=n.bl_count[a];0!==s;)(o=n.heap[--r])>t.max_code||(u[2*o+1]!=a&&(n.opt_len+=(a-u[2*o+1])*u[2*o],u[2*o+1]=a),s--)}}(r),function(t,i,r){var s,o,a,h=[],l=0;for(s=1;s<=e;s++)h[s]=l=l+r[s-1]<<1;for(o=0;o<=i;o++)0!==(a=t[2*o+1])&&(t[2*o]=n(h[a]++,a))}(h,t.max_code,r.bl_count)}}function s(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r}function o(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}r._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],r.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],r.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],r.d_code=function(t){return t<256?n[t]:n[256+(t>>>7)]},r.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],r.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],r.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],r.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],s.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],s.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],s.static_l_desc=new s(s.static_ltree,r.extra_lbits,257,286,e),s.static_d_desc=new s(s.static_dtree,r.extra_dbits,0,30,e),s.static_bl_desc=new s(null,r.extra_blbits,0,19,7);var a=[new o(0,0,0,0,0),new o(4,4,8,4,1),new o(4,5,16,8,1),new o(4,6,32,32,1),new o(4,4,16,16,2),new o(8,16,32,32,2),new o(8,16,128,128,2),new o(8,32,128,256,2),new o(32,128,258,1024,2),new o(32,258,258,4096,2)],h=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function l(t,e,i,n){var r=t[2*e],s=t[2*i];return r<s||r==s&&n[e]<=n[i]}function u(){var t,e,i,n,o,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j,H,Y,V,q,W,U=this,G=new r,X=new r,K=new r;function Z(){var t;for(t=0;t<286;t++)I[2*t]=0;for(t=0;t<30;t++)F[2*t]=0;for(t=0;t<19;t++)R[2*t]=0;I[512]=1,U.opt_len=U.static_len=0,j=Y=0}function Q(t,e){var i,n,r=-1,s=t[1],o=0,a=7,h=4;for(0===s&&(a=138,h=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)n=s,s=t[2*(i+1)+1],++o<a&&n==s||(o<h?R[2*n]+=o:0!==n?(n!=r&&R[2*n]++,R[32]++):o<=10?R[34]++:R[36]++,r=n,h=(o=0)===s?(a=138,3):n==s?(a=6,3):(a=7,4))}function $(t){U.pending_buf[U.pending++]=t}function J(t){$(255&t),$(t>>>8&255)}function tt(t,e){var i,n=e;16-n<W?(J(q|=(i=t)<<W&65535),q=i>>>16-W,W+=n-16):(q|=t<<W&65535,W+=n)}function et(t,e){var i=2*t;tt(65535&e[i],65535&e[i+1])}function it(t,e){var i,n,r=-1,s=t[1],o=0,a=7,h=4;for(0===s&&(a=138,h=3),i=0;i<=e;i++)if(n=s,s=t[2*(i+1)+1],!(++o<a&&n==s)){if(o<h)for(;et(n,R),0!=--o;);else 0!==n?(n!=r&&(et(n,R),o--),et(16,R),tt(o-3,2)):o<=10?(et(17,R),tt(o-3,3)):(et(18,R),tt(o-11,7));r=n,h=(o=0)===s?(a=138,3):n==s?(a=6,3):(a=7,4)}}function nt(){16==W?(J(q),W=q=0):8<=W&&($(255&q),q>>>=8,W-=8)}function rt(t,e){var i,n,s;if(U.pending_buf[H+2*j]=t>>>8&255,U.pending_buf[H+2*j+1]=255&t,U.pending_buf[z+j]=255&e,j++,0===t?I[2*e]++:(Y++,t--,I[2*(r._length_code[e]+256+1)]++,F[2*r.d_code(t)]++),0==(8191&j)&&2<P){for(i=8*j,n=C-w,s=0;s<30;s++)i+=F[2*s]*(5+r.extra_dbits[s]);if(i>>>=3,Y<Math.floor(j/2)&&i<Math.floor(n/2))return!0}return j==B-1}function st(t,e){var i,n,s,o,a=0;if(0!==j)for(;i=U.pending_buf[H+2*a]<<8&65280|255&U.pending_buf[H+2*a+1],n=255&U.pending_buf[z+a],a++,0===i?et(n,t):(et((s=r._length_code[n])+256+1,t),0!==(o=r.extra_lbits[s])&&tt(n-=r.base_length[s],o),et(s=r.d_code(--i),e),0!==(o=r.extra_dbits[s])&&tt(i-=r.base_dist[s],o)),a<j;);et(256,t),V=t[513]}function ot(){8<W?J(q):0<W&&$(255&q),W=q=0}function at(t,e,i){var n,r;tt(0+(i?1:0),3),n=t,r=e,ot(),V=8,J(r),J(~r),U.pending_buf.set(d.subarray(n,n+r),U.pending),U.pending+=r}function ht(e){(function(t,e,i){var n,o,a=0;0<P?(G.build_tree(U),X.build_tree(U),a=function(){var t;for(Q(I,G.max_code),Q(F,X.max_code),K.build_tree(U),t=18;3<=t&&0===R[2*r.bl_order[t]+1];t--);return U.opt_len+=3*(t+1)+5+5+4,t}(),(o=U.static_len+3+7>>>3)<=(n=U.opt_len+3+7>>>3)&&(n=o)):n=o=e+5,e+4<=n&&-1!=t?at(t,e,i):o==n?(tt(2+(i?1:0),3),st(s.static_ltree,s.static_dtree)):(tt(4+(i?1:0),3),function(t,e,i){var n;for(tt(t-257,5),tt(e-1,5),tt(i-4,4),n=0;n<i;n++)tt(R[2*r.bl_order[n]+1],3);it(I,t-1),it(F,e-1)}(G.max_code+1,X.max_code+1,a+1),st(I,F)),Z(),i&&ot()})(0<=w?w:-1,C-w,e),w=C,t.flush_pending()}function lt(){var e,i,n,r;do{if(0==(r=f-T-C)&&0===C&&0===T)r=o;else if(-1==r)r--;else if(o+o-262<=C){for(d.set(d.subarray(o,o+o),0),A-=o,C-=o,w-=o,n=e=v;i=65535&g[--n],g[n]=o<=i?i-o:0,0!=--e;);for(n=e=o;i=65535&p[--n],p[n]=o<=i?i-o:0,0!=--e;);r+=o}if(0===t.avail_in)return;e=t.read_buf(d,C+T,r),3<=(T+=e)&&(m=((m=255&d[C])<<_^255&d[C+1])&b)}while(T<262&&0!==t.avail_in)}function ut(t){var e,i,n=E,r=C,s=M,a=o-262<C?C-(o-262):0,h=L,l=c,u=C+258,f=d[r+s-1],g=d[r+s];N<=M&&(n>>=2),T<h&&(h=T);do{if(d[(e=t)+s]==g&&d[e+s-1]==f&&d[e]==d[r]&&d[++e]==d[r+1]){r+=2,e++;do{}while(d[++r]==d[++e]&&d[++r]==d[++e]&&d[++r]==d[++e]&&d[++r]==d[++e]&&d[++r]==d[++e]&&d[++r]==d[++e]&&d[++r]==d[++e]&&d[++r]==d[++e]&&r<u);if(i=258-(u-r),r=u-258,s<i){if(A=t,h<=(s=i))break;f=d[r+s-1],g=d[r+s]}}}while((t=65535&p[t&l])>a&&0!=--n);return s<=T?s:T}function ct(t){return t.total_in=t.total_out=0,t.msg=null,U.pending=0,U.pending_out=0,e=113,n=0,G.dyn_tree=I,G.stat_desc=s.static_l_desc,X.dyn_tree=F,X.stat_desc=s.static_d_desc,K.dyn_tree=R,K.stat_desc=s.static_bl_desc,W=q=0,V=8,Z(),function(){var t;for(f=2*o,t=g[v-1]=0;t<v-1;t++)g[t]=0;D=a[P].max_lazy,N=a[P].good_length,L=a[P].nice_length,E=a[P].max_chain,x=M=2,m=k=T=w=C=0}(),0}U.depth=[],U.bl_count=[],U.heap=[],I=[],F=[],R=[],U.pqdownheap=function(t,e){for(var i=U.heap,n=i[e],r=e<<1;r<=U.heap_len&&(r<U.heap_len&&l(t,i[r+1],i[r],U.depth)&&r++,!l(t,n,i[r],U.depth));)i[e]=i[r],e=r,r<<=1;i[e]=n},U.deflateInit=function(t,e,n,r,s,a){return r||(r=8),s||(s=8),a||(a=0),t.msg=null,-1==e&&(e=6),s<1||9<s||8!=r||n<9||15<n||e<0||9<e||a<0||2<a?-2:(t.dstate=U,c=(o=1<<(u=n))-1,b=(v=1<<(y=s+7))-1,_=Math.floor((y+3-1)/3),d=new Uint8Array(2*o),p=[],g=[],B=1<<s+6,U.pending_buf=new Uint8Array(4*B),i=4*B,H=Math.floor(B/2),z=3*B,P=e,O=a,ct(t))},U.deflateEnd=function(){return 42!=e&&113!=e&&666!=e?-2:(U.pending_buf=null,d=p=g=null,U.dstate=null,113==e?-3:0)},U.deflateParams=function(t,e,i){var n=0;return-1==e&&(e=6),e<0||9<e||i<0||2<i?-2:(a[P].func!=a[e].func&&0!==t.total_in&&(n=t.deflate(1)),P!=e&&(D=a[P=e].max_lazy,N=a[P].good_length,L=a[P].nice_length,E=a[P].max_chain),O=i,n)},U.deflateSetDictionary=function(t,i,n){var r,s=n,a=0;if(!i||42!=e)return-2;if(s<3)return 0;for(o-262<s&&(a=n-(s=o-262)),d.set(i.subarray(a,a+s),0),w=C=s,m=((m=255&d[0])<<_^255&d[1])&b,r=0;r<=s-3;r++)p[r&c]=g[m=(m<<_^255&d[r+2])&b],g[m]=r;return 0},U.deflate=function(r,l){var f,y,E,N,L,I;if(4<l||l<0)return-2;if(!r.next_out||!r.next_in&&0!==r.avail_in||666==e&&4!=l)return r.msg=h[4],-2;if(0===r.avail_out)return r.msg=h[7],-5;if(t=r,N=n,n=l,42==e&&(y=8+(u-8<<4)<<8,3<(E=(P-1&255)>>1)&&(E=3),y|=E<<6,0!==C&&(y|=32),e=113,$((I=y+=31-y%31)>>8&255),$(255&I)),0!==U.pending){if(t.flush_pending(),0===t.avail_out)return n=-1,0}else if(0===t.avail_in&&l<=N&&4!=l)return t.msg=h[7],-5;if(666==e&&0!==t.avail_in)return r.msg=h[7],-5;if(0!==t.avail_in||0!==T||0!=l&&666!=e){switch(L=-1,a[P].func){case 0:L=function(e){var n,r=65535;for(i-5<r&&(r=i-5);;){if(T<=1){if(lt(),0===T&&0==e)return 0;if(0===T)break}if(C+=T,n=w+r,((T=0)===C||n<=C)&&(T=C-n,C=n,ht(!1),0===t.avail_out))return 0;if(o-262<=C-w&&(ht(!1),0===t.avail_out))return 0}return ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 1:L=function(e){for(var i,n=0;;){if(T<262){if(lt(),T<262&&0==e)return 0;if(0===T)break}if(3<=T&&(n=65535&g[m=(m<<_^255&d[C+2])&b],p[C&c]=g[m],g[m]=C),0!==n&&(C-n&65535)<=o-262&&2!=O&&(x=ut(n)),3<=x)if(i=rt(C-A,x-3),T-=x,x<=D&&3<=T){for(x--;m=(m<<_^255&d[++C+2])&b,n=65535&g[m],p[C&c]=g[m],g[m]=C,0!=--x;);C++}else C+=x,x=0,m=((m=255&d[C])<<_^255&d[C+1])&b;else i=rt(0,255&d[C]),T--,C++;if(i&&(ht(!1),0===t.avail_out))return 0}return ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 2:L=function(e){for(var i,n,r=0;;){if(T<262){if(lt(),T<262&&0==e)return 0;if(0===T)break}if(3<=T&&(r=65535&g[m=(m<<_^255&d[C+2])&b],p[C&c]=g[m],g[m]=C),M=x,S=A,x=2,0!==r&&M<D&&(C-r&65535)<=o-262&&(2!=O&&(x=ut(r)),x<=5&&(1==O||3==x&&4096<C-A)&&(x=2)),3<=M&&x<=M){for(n=C+T-3,i=rt(C-1-S,M-3),T-=M-1,M-=2;++C<=n&&(r=65535&g[m=(m<<_^255&d[C+2])&b],p[C&c]=g[m],g[m]=C),0!=--M;);if(k=0,x=2,C++,i&&(ht(!1),0===t.avail_out))return 0}else if(0!==k){if((i=rt(0,255&d[C-1]))&&ht(!1),C++,T--,0===t.avail_out)return 0}else k=1,C++,T--}return 0!==k&&(i=rt(0,255&d[C-1]),k=0),ht(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l)}if(2!=L&&3!=L||(e=666),0==L||2==L)return 0===t.avail_out&&(n=-1),0;if(1==L){if(1==l)tt(2,3),et(256,s.static_ltree),nt(),1+V+10-W<9&&(tt(2,3),et(256,s.static_ltree),nt()),V=7;else if(at(0,0,!1),3==l)for(f=0;f<v;f++)g[f]=0;if(t.flush_pending(),0===t.avail_out)return n=-1,0}}return 4!=l?0:1}}function c(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}c.prototype={deflateInit:function(t,i){return this.dstate=new u,i||(i=e),this.dstate.deflateInit(this,t,i)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,i){var n=this.avail_in;return i<n&&(n=i),0===n?0:(this.avail_in-=n,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+n),e),this.next_in_index+=n,this.total_in+=n,n)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var d=t.zip||t;d.Deflater=d._jzlib_Deflater=function(t){var e=new c,i=new Uint8Array(512),n=t?t.level:-1;void 0===n&&(n=-1),e.deflateInit(n),e.next_out=i,this.append=function(t,n){var r,s=[],o=0,a=0,h=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=512,0!=e.deflate(0))throw new Error("deflating: "+e.msg);e.next_out_index&&s.push(512==e.next_out_index?new Uint8Array(i):new Uint8Array(i.subarray(0,e.next_out_index))),h+=e.next_out_index,n&&0<e.next_in_index&&e.next_in_index!=o&&(n(e.next_in_index),o=e.next_in_index)}while(0<e.avail_in||0===e.avail_out);return r=new Uint8Array(h),s.forEach(function(t){r.set(t,a),a+=t.length}),r}},this.flush=function(){var t,n,r=[],s=0,o=0;do{if(e.next_out_index=0,e.avail_out=512,1!=(t=e.deflate(4))&&0!=t)throw new Error("deflating: "+e.msg);0<512-e.avail_out&&r.push(new Uint8Array(i.subarray(0,e.next_out_index))),o+=e.next_out_index}while(0<e.avail_in||0===e.avail_out);return e.deflateEnd(),n=new Uint8Array(o),r.forEach(function(t){n.set(t,s),s+=t.length}),n}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in i)t==n&&(t=i[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],s=0;s<r.length;s++){var o=r[s].process,a=r[s].re.exec(t);a&&(e=o(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}},function(t){var e="+".charCodeAt(0),i="/".charCodeAt(0),n="0".charCodeAt(0),r="a".charCodeAt(0),s="A".charCodeAt(0),o="-".charCodeAt(0),a="_".charCodeAt(0),h=function(t){var h=t.charCodeAt(0);return h===e||h===o?62:h===i||h===a?63:h<n?-1:h<n+10?h-n+26+26:h<s+26?h-s:h<r+26?h-r+26:void 0};t.API.TTFFont=function(){function t(t,e,i){var n;if(this.rawData=t,n=this.contents=new u(t),this.contents.pos=4,"ttcf"===n.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}n.pos=0,this.parse(),this.subset=new E(this),this.registerTTF()}return t.open=function(e,i,n,r){if("string"!=typeof n)throw new Error("Invalid argument supplied in TTFFont.open");return new t(function(t){var e,i,n,r,s,o;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.length;s="="===t.charAt(a-2)?2:"="===t.charAt(a-1)?1:0,o=new Uint8Array(3*t.length/4-s),n=0<s?t.length-4:t.length;var l=0;function u(t){o[l++]=t}for(i=e=0;e<n;e+=4,i+=3)u((16711680&(r=h(t.charAt(e))<<18|h(t.charAt(e+1))<<12|h(t.charAt(e+2))<<6|h(t.charAt(e+3))))>>16),u((65280&r)>>8),u(255&r);return 2===s?u(255&(r=h(t.charAt(e))<<2|h(t.charAt(e+1))>>4)):1===s&&(u((r=h(t.charAt(e))<<10|h(t.charAt(e+1))<<4|h(t.charAt(e+2))>>2)>>8&255),u(255&r)),o}(n),i,r)},t.prototype.parse=function(){return this.directory=new c(this.contents),this.head=new p(this),this.name=new w(this),this.cmap=new m(this),this.toUnicode=new Map,this.hhea=new v(this),this.maxp=new x(this),this.hmtx=new S(this),this.post=new b(this),this.os2=new y(this),this.loca=new M(this),this.glyf=new C(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,i,n;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var t,e,i,n;for(n=[],t=0,e=(i=this.bbox).length;t<e;t++)n.push(Math.round(i[t]*this.scaleFactor));return n}).call(this),this.stemV=0,this.post.exists?(e=255&(i=this.post.italic_angle),!0&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(n=this.familyClass)||2===n||3===n||4===n||5===n||7===n,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,i){var n,r,s,o,a;for(r=o=s=0,a=(t=""+t).length;0<=a?o<a:a<o;r=0<=a?++o:--o)n=t.charCodeAt(r),s+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},t}();var l,u=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,i,n;for(i=[],e=n=0;0<=t?n<t:t<n;e=0<=t?++n:--n)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(t){var e,i,n,r;for(r=[],e=i=0,n=t.length;0<=n?i<n:n<i;e=0<=n?++i:--i)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,i,n,r,s,o,a;return t=this.readByte(),e=this.readByte(),i=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^r)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*n+16777216*r+65536*s+256*o+a},t.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:t<i;0<=t?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(t){var e,i,n;for(n=[],e=0,i=t.length;e<i;e++)n.push(this.writeByte(t[e]));return n},t}(),c=function(){var t;function e(t){var e,i,n;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,n=this.tableCount;0<=n?i<n:n<i;0<=n?++i:--i)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var i,n,r,s,o,a,h,l,c,d,f,p;for(p in d=Object.keys(e).length,o=Math.log(2),l=16*Math.floor(Math.log(d)/o),r=Math.floor(l/o),h=16*d-l,(n=new u).writeInt(this.scalarType),n.writeShort(d),n.writeShort(l),n.writeShort(r),n.writeShort(h),a=n.pos+16*d,s=null,f=[],e)for(c=e[p],n.writeString(p),n.writeInt(t(c)),n.writeInt(a),n.writeInt(c.length),f=f.concat(c),"head"===p&&(s=a),a+=c.length;a%4;)f.push(0),a++;return n.write(f),i=2981146554-t(n.data),n.pos=s+8,n.writeUInt32(i),n.data},t=function(t){var e,i,n,r;for(t=k.call(t);t.length%4;)t.push(0);for(i=new u(t),n=e=0,r=t.length;n<r;n+=4)e+=i.readUInt32();return 4294967295&e},e}(),d={}.hasOwnProperty,f=function(t,e){for(var i in e)d.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};l=function(){function t(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new u).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),g=function(){function t(t,e){var i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=m=0;m<256;a=++m)this.codeMap[a]=t.readByte();break;case 4:for(d=t.readUInt16(),c=d/2,t.pos+=6,r=function(){var e,i;for(i=[],a=e=0;0<=c?e<c:c<e;a=0<=c?++e:--e)i.push(t.readUInt16());return i}(),t.pos+=2,p=function(){var e,i;for(i=[],a=e=0;0<=c?e<c:c<e;a=0<=c?++e:--e)i.push(t.readUInt16());return i}(),h=function(){var e,i;for(i=[],a=e=0;0<=c?e<c:c<e;a=0<=c?++e:--e)i.push(t.readUInt16());return i}(),l=function(){var e,i;for(i=[],a=e=0;0<=c?e<c:c<e;a=0<=c?++e:--e)i.push(t.readUInt16());return i}(),n=(this.length-t.pos+this.offset)/2,o=function(){var e,i;for(i=[],a=e=0;0<=n?e<n:n<e;a=0<=n?++e:--e)i.push(t.readUInt16());return i}(),a=v=0,b=r.length;v<b;a=++v)for(g=r[a],i=y=f=p[a];f<=g?y<=g:g<=y;i=f<=g?++y:--y)0===l[a]?s=i+h[a]:0!==(s=o[l[a]/2+(i-f)-(c-a)]||0)&&(s+=h[a]),this.codeMap[i]=65535&s}t.pos=u}return t.encode=function(t,e){var i,n,r,s,o,a,h,l,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j,H,Y,V,q,W,U,G;switch(E=new u,s=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(g=0,m=function(){var t,e;for(e=[],p=t=0;t<256;p=++t)e.push(0);return e}(),y={0:0},r={},D=0,L=s.length;D<L;D++)null==y[q=t[n=s[D]]]&&(y[q]=++g),r[n]={old:t[n],new:y[t[n]]},m[n]=y[t[n]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(m),{charMap:r,subtable:E.data,maxGlyphID:g+1};case"unicode":for(T=[],c=[],y={},i={},v=h=null,P=b=0,I=s.length;P<I;P++)null==y[_=t[n=s[P]]]&&(y[_]=++b),i[n]={old:_,new:y[_]},o=y[_]-n,null!=v&&o===h||(v&&c.push(v),T.push(n),h=o),v=n;for(v&&c.push(v),c.push(65535),T.push(65535),C=2*(k=T.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),d=Math.log(S/2)/Math.LN2,x=2*k-S,a=[],w=[],f=[],p=O=0,F=T.length;O<F;p=++O){if(l=c[p],65535===(A=T[p])){a.push(0),w.push(0);break}if(32768<=A-(M=i[A].new))for(a.push(0),w.push(2*(f.length+k-p)),n=N=A;A<=l?N<=l:l<=N;n=A<=l?++N:--N)f.push(i[n].new);else a.push(M-A),w.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*k+2*f.length),E.writeUInt16(0),E.writeUInt16(C),E.writeUInt16(S),E.writeUInt16(d),E.writeUInt16(x),Y=0,R=c.length;Y<R;Y++)E.writeUInt16(n=c[Y]);for(E.writeUInt16(0),V=0,z=T.length;V<z;V++)E.writeUInt16(n=T[V]);for(W=0,B=a.length;W<B;W++)E.writeUInt16(o=a[W]);for(U=0,j=w.length;U<j;U++)E.writeUInt16(w[U]);for(G=0,H=f.length;G<H;G++)E.writeUInt16(g=f[G]);return{charMap:i,subtable:E.data,maxGlyphID:b+1}}},t}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,i,n;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:i<n;0<=i?++n:--n)e=new g(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var i,n;return null==e&&(e="macroman"),i=g.encode(t,e),(n=new u).writeUInt16(0),n.writeUInt16(1),i.table=n.data.concat(i.subtable),i},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),0<this.version&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;++e)i.push(t.readInt());return i}(),1<this.version))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),b=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="post",e.prototype.parse=function(t){var e,i,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:for(i=t.readUInt16(),this.glyphNameIndex=[],n=0;0<=i?n<i:i<n;0<=i?++n:--n)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var e,i,n;for(n=[],e=0,i=this.file.maxp.numGlyphs;0<=i?e<i:i<e;0<=i?++e:--e)n.push(t.readUInt32());return n}).call(this)}},e}(),_=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="name",e.prototype.parse=function(t){var e,i,n,r,s,o,a,h,l,u,c,d;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),i=[],r=l=0;0<=e?l<e:e<l;r=0<=e?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(a={},r=u=0,c=i.length;u<c;r=++u)t.pos=(n=i[r]).offset,h=t.readString(n.length),s=new _(h,n),null==a[d=n.nameID]&&(a[d]=[]),a[n.nameID].push(s);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,i,n,r,s,o;for(t.pos=this.offset,this.metrics=[],n=0,s=this.file.hhea.numberOfMetrics;0<=s?n<s:s<n;0<=s?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var e,n;for(n=[],e=0;0<=i?e<i:i<e;0<=i?++e:--e)n.push(t.readInt16());return n}(),this.widths=(function(){var t,e,i,n;for(n=[],t=0,e=(i=this.metrics).length;t<e;t++)n.push(i[t].advance);return n}).call(this),e=this.widths[this.widths.length-1],o=[],r=0;0<=i?r<i:i<r;0<=i?++r:--r)o.push(this.widths.push(e));return o},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),k=[].slice,C=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="glyf",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,i,n,r,s,o,a,h,l,c;return(t=t)in this.cache?this.cache[t]:(e=this.file.contents,i=(r=this.file.loca).indexOf(t),0===(n=r.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+i,s=(o=new u(e.read(n))).readShort(),h=o.readShort(),c=o.readShort(),a=o.readShort(),l=o.readShort(),this.cache[t]=-1===s?new T(o,h,c,a,l):new A(o,s,h,c,a,l),this.cache[t]))},e.prototype.encode=function(t,e,i){var n,r,s,o,a;for(s=[],r=[],o=0,a=e.length;o<a;o++)n=t[e[o]],r.push(s.length),n&&(s=s.concat(n.encode(i)));return r.push(s.length),{table:s,offsets:r}},e}(),A=function(){function t(t,e,i,n,r,s){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),T=function(){function t(t,e,i,n,r){var s,o;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=n,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readShort()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(t){var e,i,n,r;for(i=new u(k.call(this.raw.data)),e=n=0,r=this.glyphIDs.length;n<r;e=++n)i.pos=this.glyphOffsets[e];return i.data},t}(),M=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,l),e.prototype.tag="loca",e.prototype.parse=function(t){return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var e,i,n;for(n=[],e=0,i=this.length;e<i;e+=2)n.push(2*t.readUInt16());return n}).call(this):(function(){var e,i,n;for(n=[],e=0,i=this.length;e<i;e+=4)n.push(t.readUInt32());return n}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),n=0,r=0,s=0;s<i.length;++s)if(i[s]=n,r<e.length&&e[r]==s){++r,i[s]=n;var o=this.offsets[s+1]-this.offsets[s];0<o&&(n+=o)}for(var a=new Array(4*i.length),h=0;h<i.length;++h)a[4*h+3]=255&i[h],a[4*h+2]=(65280&i[h])>>8,a[4*h+1]=(16711680&i[h])>>16,a[4*h]=(4278190080&i[h])>>24;return a},e}(),E=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,i,n;for(e in i=this.font.cmap.tables[0].codeMap,t={},n=this.subset)t[e]=i[n[e]];return t},t.prototype.glyphsFor=function(t){var e,i,n,r,s,o,a;for(n={},s=0,o=t.length;s<o;s++)n[r=t[s]]=this.font.glyf.glyphFor(r);for(r in e=[],n)(null!=(i=n[r])?i.compound:void 0)&&e.push.apply(e,i.glyphIDs);if(0<e.length)for(r in a=this.glyphsFor(e))n[r]=i=a[r];return n},t.prototype.encode=function(t,e){var i,n,r,s,o,a,h,l,u,c,d,f,p,g;for(n in i=m.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),c={0:0},g=i.charMap)c[(o=g[n]).old]=o.new;for(d in u=i.maxGlyphID,s)d in c||(c[d]=u++);return h=function(t){var e,i;for(e in i={},t)i[t[e]]=e;return i}(c),l=Object.keys(h).sort(function(t,e){return t-e}),f=function(){var t,e,i;for(i=[],t=0,e=l.length;t<e;t++)i.push(h[l[t]]);return i}(),r=this.font.glyf.encode(s,f,c),a=this.font.loca.encode(r.offsets,f),p={cmap:this.font.cmap.raw(),glyf:r.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();t.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(i){var n,r;if(Array.isArray(i))return"["+function(){var t,n,r;for(r=[],t=0,n=i.length;t<n;t++)r.push(e.convert(i[t]));return r}().join(" ")+"]";if("string"==typeof i)return"/"+i;if(null!=i?i.isString:void 0)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(i))return""+i;for(n in r=["<<"],i)r.push("/"+n+" "+e.convert(i[n]));return r.push(">>"),r.join("\n")},e}()}(ht),xt="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),St=function(){var t,i,n;function r(t){var e,i,n,r,s,o,a,h,l,u,c,d,f;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(e=this.readUInt32(),h=(function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),n=this.readUInt16()||100,s.delay=1e3*r/n,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===h&&(this.pos+=4,e-=4),t=(null!=s?s.data:void 0)||this.imgData,c=0;0<=e?c<e:e<c;0<=e?++c:--c)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if(0<(l=i-this.transparency.indexed.length))for(d=0;0<=l?d<l:l<d;0<=l?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":o=(u=this.read(e)).indexOf(0),a=String.fromCharCode.apply(String,u.slice(0,o)),this.text[a]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.load=function(t,e,i){var n;return"function"==typeof e&&(i=e),(n=new XMLHttpRequest).open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var t;return t=new r(new Uint8Array(n.response||n.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof i?i(t):void 0},n.send(null)},r.prototype.read=function(t){var e,i;for(i=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*e),n=0,r=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function s(s,o,a,h){var l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E=Math.ceil((r.width-s)/a),D=Math.ceil((r.height-o)/h),P=r.width==E&&r.height==D;for(w=e*E,b=P?i:new Uint8Array(w*D),p=t.length,u=_=0;_<D&&n<p;){switch(t[n++]){case 0:for(d=k=0;k<w;d=k+=1)b[u++]=t[n++];break;case 1:for(d=C=0;C<w;d=C+=1)l=t[n++],f=d<e?0:b[u-e],b[u++]=(l+f)%256;break;case 2:for(d=A=0;A<w;d=A+=1)l=t[n++],c=(d-d%e)/e,b[u++]=((x=_&&b[(_-1)*w+c*e+d%e])+l)%256;break;case 3:for(d=T=0;T<w;d=T+=1)l=t[n++],c=(d-d%e)/e,f=d<e?0:b[u-e],x=_&&b[(_-1)*w+c*e+d%e],b[u++]=(l+Math.floor((f+x)/2))%256;break;case 4:for(d=M=0;M<w;d=M+=1)l=t[n++],c=(d-d%e)/e,0===_?x=S=0:(x=b[(_-1)*w+c*e+d%e],S=c&&b[(_-1)*w+(c-1)*e+d%e]),g=(f=d<e?0:b[u-e])+x-S,m=Math.abs(g-f),v=Math.abs(g-x),y=Math.abs(g-S),b[u++]=(l+(m<=v&&m<=y?f:v<=y?x:S))%256;break;default:throw new Error("Invalid filter algorithm: "+t[n-1])}if(!P){var O=((o+_*h)*r.width+s)*e,N=_*w;for(d=0;d<E;d+=1){for(var L=0;L<e;L+=1)i[O++]=b[N++];O+=(a-1)*e}}_++}}return t=(t=new Dt(t)).getBytes(),1==r.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),i},r.prototype.decodePalette=function(){var t,e,i,n,r,s,o,a,h;for(i=this.palette,s=this.transparency.indexed||[],r=new Uint8Array((s.length||0)+i.length),n=0,e=o=t=0,a=i.length;o<a;e=o+=3)r[n++]=i[e],r[n++]=i[e+1],r[n++]=i[e+2],r[n++]=null!=(h=s[t++])?h:255;return r},r.prototype.copyToImageData=function(t,e){var i,n,r,s,o,a,h,l,u,c,d;if(n=this.colors,u=null,i=this.hasAlphaChannel,this.palette.length&&(u=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),n=4,i=!0),l=(r=t.data||t).length,o=u||e,s=a=0,1===n)for(;s<l;)h=u?4*e[s/4]:a,c=o[h++],r[s++]=c,r[s++]=c,r[s++]=c,r[s++]=i?o[h++]:255,a=h;else for(;s<l;)h=u?4*e[s/4]:a,r[s++]=o[h++],r[s++]=o[h++],r[s++]=o[h++],r[s++]=i?o[h++]:255,a=h},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{i=xt.document.createElement("canvas"),n=i.getContext("2d")}catch(e){return-1}return t=function(t){var e;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(e=new Image).src=i.toDataURL(),e},r.prototype.decodeFrames=function(e){var i,n,r,s,o,a,h,l;if(this.animation){for(l=[],n=o=0,a=(h=this.animation.frames).length;o<a;n=++o)r=e.createImageData((i=h[n]).width,i.height),s=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(r,s),i.imageData=r,l.push(i.image=t(r));return l}},r.prototype.renderFrame=function(t,e){var i,n,r;return i=(n=this.animation.frames)[e],r=n[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=r?r.disposeOp:void 0)?t.clearRect(r.xOffset,r.yOffset,r.width,r.height):2===(null!=r?r.disposeOp:void 0)&&t.putImageData(r.imageData,r.xOffset,r.yOffset),0===i.blendOp&&t.clearRect(i.xOffset,i.yOffset,i.width,i.height),t.drawImage(i.image,i.xOffset,i.yOffset)},r.prototype.animate=function(t){var e,i,n,r,s,o,a=this;return i=0,r=(o=this.animation).numFrames,n=o.frames,s=o.numPlays,(e=function(){var o,h;if(o=i++%r,h=n[o],a.renderFrame(t,o),1<r&&i/r<s)return a.animation._timeout=setTimeout(e,h.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,i;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0))},r}(),xt.PNG=St;var Et=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,i=e?e.byteLength:0;if(t<i)return e;for(var n=512;n<t;)n<<=1;for(var r=new Uint8Array(n),s=0;s<i;++s)r[s]=e[s];return this.buffer=r},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var i=e+t;!this.eof&&this.bufferLength<i;)this.readBlock();var n=this.bufferLength;n<i&&(i=n)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}return this.pos=i,this.buffer.subarray(e,i)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,i){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,i)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),Dt=function(){if("undefined"!=typeof Uint32Array){var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),n=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],r=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(o.prototype=Object.create(Et.prototype)).getBits=function(t){for(var e,i=this.codeSize,n=this.codeBuf,r=this.bytes,o=this.bytesPos;i<t;)void 0===(e=r[o++])&&s("Bad encoding in flate stream"),n|=e<<i,i+=8;return e=n&(1<<t)-1,this.codeBuf=n>>t,this.codeSize=i-=t,this.bytesPos=o,e},o.prototype.getCode=function(t){for(var e=t[0],i=t[1],n=this.codeSize,r=this.codeBuf,o=this.bytes,a=this.bytesPos;n<i;){var h;void 0===(h=o[a++])&&s("Bad encoding in flate stream"),r|=h<<n,n+=8}var l=e[r&(1<<i)-1],u=l>>16,c=65535&l;return(0==n||n<u||0==u)&&s("Bad encoding in flate stream"),this.codeBuf=r>>u,this.codeSize=n-u,this.bytesPos=a,c},o.prototype.generateHuffmanTable=function(t){for(var e=t.length,i=0,n=0;n<e;++n)t[n]>i&&(i=t[n]);for(var r=1<<i,s=new Uint32Array(r),o=1,a=0,h=2;o<=i;++o,a<<=1,h<<=1)for(var l=0;l<e;++l)if(t[l]==o){var u=0,c=a;for(n=0;n<o;++n)u=u<<1|1&c,c>>=1;for(n=u;n<r;n+=h)s[n]=o<<16|l;++a}return[s,i]},o.prototype.readBlock=function(){function o(t,e,i,n,r){for(var s=t.getBits(i)+n;0<s--;)e[p++]=r}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var h,l;if(1==a)h=n,l=r;else if(2==a){for(var u=this.getBits(5)+257,c=this.getBits(5)+1,d=this.getBits(4)+4,f=Array(t.length),p=0;p<d;)f[t[p++]]=this.getBits(3);for(var g=this.generateHuffmanTable(f),m=0,v=(p=0,u+c),y=new Array(v);p<v;){var b=this.getCode(g);16==b?o(this,y,2,3,m):17==b?o(this,y,3,3,m=0):18==b?o(this,y,7,11,m=0):y[p++]=m=b}h=this.generateHuffmanTable(y.slice(0,u)),l=this.generateHuffmanTable(y.slice(u,v))}else s("Unknown block type in flate stream");for(var _=(O=this.buffer)?O.length:0,w=this.bufferLength;;){var x=this.getCode(h);if(x<256)_<=w+1&&(_=(O=this.ensureBuffer(w+1)).length),O[w++]=x;else{if(256==x)return void(this.bufferLength=w);var S=(x=e[x-=257])>>16;0<S&&(S=this.getBits(S)),m=(65535&x)+S,x=this.getCode(l),0<(S=(x=i[x])>>16)&&(S=this.getBits(S));var k=(65535&x)+S;_<=w+m&&(_=(O=this.ensureBuffer(w+m)).length);for(var C=0;C<m;++C,++w)O[w]=O[w-k]}}}else{var A,T=this.bytes,M=this.bytesPos;void 0===(A=T[M++])&&s("Bad block header in flate stream");var E=A;void 0===(A=T[M++])&&s("Bad block header in flate stream"),E|=A<<8,void 0===(A=T[M++])&&s("Bad block header in flate stream");var D=A;void 0===(A=T[M++])&&s("Bad block header in flate stream"),(D|=A<<8)!=(65535&~E)&&s("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var P=this.bufferLength,O=this.ensureBuffer(P+E),N=P+E;this.bufferLength=N;for(var L=P;L<N;++L){if(void 0===(A=T[M++])){this.eof=!0;break}O[L]=A}this.bytesPos=M}},o}function s(t){throw new Error(t)}function o(t){var e=0,i=t[e++],n=t[e++];-1!=i&&-1!=n||s("Invalid header in flate stream"),8!=(15&i)&&s("Unknown compression method in flate stream"),((i<<8)+n)%31!=0&&s("Bad FCHECK in flate stream"),32&n&&s("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Et.call(this)}}();window.tmp=Dt});try{module.exports=jsPDF}catch(t){}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}("undefined"!=typeof window?window:this,function(){if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function e(t,e){var i=Object.prototype.toString.call(t),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,r=0,s=t.length;if(n)for(;r<s;r++)e(t[r]);else e(t)}function i(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}var n=function(r,s){function o(){var t,e,i=[];this.add=function(t){i.push(t)},this.call=function(n){for(t=0,e=i.length;t<e;t++)i[t].call(this,n)},this.remove=function(n){var r=[];for(t=0,e=i.length;t<e;t++)i[t]!==n&&r.push(i[t]);i=r},this.length=function(){return i.length}}e(r,function(e){!function(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new o,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",s="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=r,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+s+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+s+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var a=window.getComputedStyle(e),h=a?a.getPropertyValue("position"):null;"absolute"!==h&&"relative"!==h&&"fixed"!==h&&(e.style.position="relative");var l,u,c=e.resizeSensor.childNodes[0],d=c.childNodes[0],f=e.resizeSensor.childNodes[1],p=i(e),g=p.width,m=p.height,v=!0,y=0,b=function(){if(v){if(0===e.offsetWidth&&0===e.offsetHeight)return void(y||(y=t(function(){y=0,b()})));v=!1}var i,n;n=e.offsetHeight,d.style.width=(i=e.offsetWidth)+10+"px",d.style.height=n+10+"px",c.scrollLeft=i+10,c.scrollTop=n+10,f.scrollLeft=i+10,f.scrollTop=n+10};e.resizeSensor.resetSensor=b;var _=function(){u=0,l&&(g=p.width,m=p.height,e.resizedAttached&&e.resizedAttached.call(p))},w=function(){p=i(e),(l=p.width!==g||p.height!==m)&&!u&&(u=t(_)),b()},x=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)};x(c,"scroll",w),x(f,"scroll",w),t(b)}}(e,s)}),this.detach=function(t){n.detach(r,t)},this.reset=function(){r.resizeSensor.resetSensor()}};if(n.reset=function(t){e(t,function(t){t.resizeSensor.resetSensor()})},n.detach=function(t,i){e(t,function(t){t&&(t.resizedAttached&&"function"==typeof i&&(t.resizedAttached.remove(i),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))})},"undefined"!=typeof MutationObserver){var r=new MutationObserver(function(t){for(var e in t)if(t.hasOwnProperty(e))for(var i=t[e].addedNodes,r=0;r<i.length;r++)i[r].resizeSensor&&n.reset(i[r])});document.addEventListener("DOMContentLoaded",function(t){r.observe(document.body,{childList:!0,subtree:!0})})}return n}),function(t,e){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],e):"object"==typeof exports?module.exports=e(require("./ResizeSensor.js")):(t.ElementQueries=e(t.ResizeSensor),t.ElementQueries.listen())}("undefined"!=typeof window?window:this,function(t){var e=function(){var e,i={},n=[];function r(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function s(t,e){var i=e.split(/\d/),n=i[i.length-1];switch(e=parseFloat(e),n){case"px":return e;case"em":return e*r(t);case"rem":return e*r();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var s=document.documentElement.clientWidth/100,o=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===n?"min":"max"])(s,o);default:return e}}function o(t,e){var n,r,o,a,h,l,u,c;this.element=t;var d=["min-width","min-height","max-width","max-height"];this.call=function(){for(n in o=function(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}(this.element),l={},i[e])i[e].hasOwnProperty(n)&&(a=s(this.element,(r=i[e][n]).value),h="width"===r.property?o.width:o.height,u="","min"===r.mode&&h>=a&&(u+=r.value),"max"===r.mode&&h<=a&&(u+=r.value),l[c=r.mode+"-"+r.property]||(l[c]=""),u&&-1===(" "+l[c]+" ").indexOf(" "+u+" ")&&(l[c]+=" "+u));for(var t in d)d.hasOwnProperty(t)&&(l[d[t]]?this.element.setAttribute(d[t],l[d[t]].substr(1)):this.element.removeAttribute(d[t]))}}function a(e,i){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new o(e,i)),e.elementQueriesSensor||(e.elementQueriesSensor=new t(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call()}function h(t,r,s,o){if(void 0===i[t]){i[t]=[];var a=n.length;e.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",e.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+a+"px;}",n.push(t)}i[t].push({mode:r,property:s,value:o})}function l(t){var e;if(document.querySelectorAll&&(e=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function u(e){var i=[],n=[],r=[],s=0,o=-1,a=[];for(var h in e.children)if(e.children.hasOwnProperty(h)&&e.children[h].tagName&&"img"===e.children[h].tagName.toLowerCase()){i.push(e.children[h]);var l=e.children[h].getAttribute("min-width")||e.children[h].getAttribute("data-min-width"),u=e.children[h].getAttribute("data-src")||e.children[h].getAttribute("url");r.push(u),n.push({minWidth:l}),l?e.children[h].style.display="none":(s=i.length-1,e.children[h].style.display="block")}function c(){var t,h=!1;for(t in i)i.hasOwnProperty(t)&&n[t].minWidth&&e.offsetWidth>n[t].minWidth&&(h=t);if(h||(h=s),o!==h)if(a[h])i[o].style.display="none",i[h].style.display="block",o=h;else{var l=new Image;l.onload=function(){i[h].src=r[h],i[o].style.display="none",i[h].style.display="block",a[h]=!0,o=h},l.src=r[h]}else i[h].src=r[h]}o=s,e.resizeSensorInstance=new t(e,c),c()}var c=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,d=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function f(t){var e,i,n,r;for(t=t.replace(/'/g,'"');null!==(e=c.exec(t));)for(i=e[1]+e[3],n=e[2];null!==(r=d.exec(n));)h(i,r[1],r[2],r[3])}function p(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||f(t);else for(var i=0,n=t.length;i<n;i++)1===t[i].type?-1!==(e=t[i].selectorText||t[i].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?f(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||f(e):4===t[i].type?p(t[i].cssRules||t[i].rules):3===t[i].type&&t[i].styleSheet.hasOwnProperty("cssRules")&&p(t[i].styleSheet.cssRules)}var g=!1;this.init=function(){var i="animationstart";void 0!==document.documentElement.style.webkitAnimationName?i="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?i="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(i="oanimationstart"),document.body.addEventListener(i,function(e){var i=e.target,r=i&&window.getComputedStyle(i,null),s=r&&r.getPropertyValue("animation-name");if(s&&-1!==s.indexOf("element-queries")){i.elementQueriesSensor=new t(i,function(){i.elementQueriesSetupInformation&&i.elementQueriesSetupInformation.call()});var o=window.getComputedStyle(i.resizeSensor,null).getPropertyValue("min-width");o=parseInt(o.replace("px","")),a(e.target,n[o])}}),g||((e=document.createElement("style")).type="text/css",e.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",e.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(e),g=!0);for(var r=0,s=document.styleSheets.length;r<s;r++)try{document.styleSheets[r].href&&0===document.styleSheets[r].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[r].href),p(document.styleSheets[r].cssRules||document.styleSheets[r].rules||document.styleSheets[r].cssText)}catch(o){}!function(){for(var t=l()("[data-responsive-image],[responsive-image]"),e=0,i=t.length;e<i;e++)u(t[e])}()},this.findElementQueriesElements=function(t){!function(t){var e=l(t);for(var n in i)if(i.hasOwnProperty(n))for(var r=e(n,t),s=0,o=r.length;s<o;s++)a(r[s],n)}(t)},this.update=function(){this.init()}};return e.update=function(){e.instance.update()},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensorInstance&&(t.resizeSensorInstance.detach(),delete t.resizeSensorInstance)},e.init=function(){e.instance||(e.instance=new e),e.instance.init()},e.findElementQueriesElements=function(t){e.instance.findElementQueriesElements(t)},e.listen=function(){!function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))},10);else window.onload=t}(e.init)},e}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){return r(e[o][1][t]||t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";function n(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}var r=t("./dataReader");(n.prototype=new r).byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),r=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===n&&this.data[s+3]===r)return s-this.zero;return-1},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":6}],2:[function(t,e,i){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t,e){for(var i,r,s,o,a,h,l,u="",c=0;c<t.length;)o=(i=t.charCodeAt(c++))>>2,a=(3&i)<<4|(r=t.charCodeAt(c++))>>4,h=(15&r)<<2|(s=t.charCodeAt(c++))>>6,l=63&s,isNaN(r)?h=l=64:isNaN(s)&&(l=64),u=u+n.charAt(o)+n.charAt(a)+n.charAt(h)+n.charAt(l);return u},i.decode=function(t,e){var i,r,s,o,a,h,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)s=n.indexOf(t.charAt(u++)),i=(15&(o=n.indexOf(t.charAt(u++))))<<4|(a=n.indexOf(t.charAt(u++)))>>2,r=(3&a)<<6|(h=n.indexOf(t.charAt(u++))),l+=String.fromCharCode(s<<2|o>>4),64!=a&&(l+=String.fromCharCode(i)),64!=h&&(l+=String.fromCharCode(r));return l}},{}],3:[function(t,e,i){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],4:[function(t,e,i){"use strict";i.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},i.DEFLATE=t("./flate")},{"./flate":9}],5:[function(t,e,i){"use strict";var n=t("./utils"),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var i="string"!==n.getTypeOf(t);void 0===e&&(e=0);var s=0;e^=-1;for(var o=0,a=t.length;o<a;o++)s=i?t[o]:t.charCodeAt(o),e=e>>>8^r[255&(e^s)];return-1^e}},{"./utils":22}],6:[function(t,e,i){"use strict";function n(t){this.data=null,this.length=0,this.index=0,this.zero=0}var r=t("./utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=n},{"./utils":22}],7:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!1,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],8:[function(t,e,i){"use strict";var n=t("./utils");i.string2binary=function(t){return n.string2binary(t)},i.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},i.uint8Array2String=function(t){return n.transformTo("string",t)},i.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},i.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},i.transformTo=function(t,e){return n.transformTo(t,e)},i.getTypeOf=function(t){return n.getTypeOf(t)},i.checkSupport=function(t){return n.checkSupport(t)},i.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,i.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,i.pretty=function(t){return n.pretty(t)},i.findCompression=function(t){return n.findCompression(t)},i.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":22}],9:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako");i.uncompressInputType=n?"uint8array":"array",i.compressInputType=n?"uint8array":"array",i.magic="\b\0",i.compress=function(t,e){return r.deflateRaw(t,{level:e.level||-1})},i.uncompress=function(t){return r.inflateRaw(t)}},{pako:25}],10:[function(t,e,i){"use strict";function n(t,e){return this instanceof n?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new n(t,e)}var r=t("./base64");(n.prototype=t("./object")).load=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.utils=t("./deprecatedPublicUtils"),n.base64={encode:function(t){return r.encode(t)},decode:function(t){return r.decode(t)}},n.compressions=t("./compressions"),e.exports=n},{"./base64":2,"./compressions":4,"./defaults":7,"./deprecatedPublicUtils":8,"./load":11,"./object":14,"./support":18}],11:[function(t,e,i){"use strict";var n=t("./base64"),r=t("./utf8"),s=t("./utils"),o=t("./zipEntries");e.exports=function(t,e){var i,a,h,l;for((e=s.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode})).base64&&(t=n.decode(t)),i=(a=new o(t,e)).files,h=0;h<i.length;h++)this.file((l=i[h]).fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:e.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},{"./base64":2,"./utf8":21,"./utils":22,"./zipEntries":23}],12:[function(t,e,i){(function(t){"use strict";e.exports=function(e,i){return new t(e,i)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],13:[function(t,e,i){"use strict";function n(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}var r=t("./uint8ArrayReader");(n.prototype=new r).readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./uint8ArrayReader":19}],14:[function(t,e,i){"use strict";var n=t("./support"),r=t("./utils"),s=t("./crc32"),o=t("./signature"),a=t("./defaults"),h=t("./base64"),l=t("./compressions"),u=t("./compressedObject"),c=t("./nodeBuffer"),d=t("./utf8"),f=t("./stringWriter"),p=t("./uint8ArrayWriter"),g=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===r.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},m=function(t){var e=g(t);return"string"===r.getTypeOf(e)?!t.options.binary&&n.nodebuffer?c(e,"utf-8"):t.asBinary():e},v=function(t){var e=g(this);return null==e?"":(this.options.base64&&(e=h.decode(e)),e=t&&this.options.binary?A.utf8decode(e):r.transformTo("string",e),t||this.options.binary||(e=r.transformTo("string",A.utf8encode(e))),e)},y=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this.options=i,this._initialMetadata={dir:i.dir,date:i.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=m(this);return r.transformTo("nodebuffer",t)},asUint8Array:function(){var t=m(this);return r.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var i,n="";for(i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n},_=function(t,e,i){var n,s=r.getTypeOf(e);if("string"==typeof(i=function(t){return!0!==(t=t||{}).base64||null!=t.binary||(t.binary=!0),(t=r.extend(t,a)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(i)).unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=x(t)),i.createFolders&&(n=w(t))&&S.call(this,n,!0),i.dir||null==e)i.base64=!1,i.binary=!1,e=null,s=null;else if("string"===s)i.binary&&!i.base64&&!0!==i.optimizedBinaryString&&(e=r.string2binary(e));else{if(i.base64=!1,i.binary=!0,!(s||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===s&&(e=r.transformTo("uint8array",e))}var o=new y(t,e,i);return this.files[t]=o,o},w=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},x=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},S=function(t,e){return e=void 0!==e&&e,t=x(t),this.files[t]||_.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},k=function(t,e,i){var n,o=new u;return t._data instanceof u?(o.uncompressedSize=t._data.uncompressedSize,o.crc32=t._data.crc32,0===o.uncompressedSize||t.dir?(e=l.STORE,o.compressedContent="",o.crc32=0):t._data.compressionMethod===e.magic?o.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),o.compressedContent=e.compress(r.transformTo(e.compressInputType,n),i))):((n=m(t))&&0!==n.length&&!t.dir||(e=l.STORE,n=""),o.uncompressedSize=n.length,o.crc32=s(n),o.compressedContent=e.compress(r.transformTo(e.compressInputType,n),i)),o.compressedSize=o.compressedContent.length,o.compressionMethod=e.magic,o},C=function(t,e,i,n,a,h){var l,u,c,f,p=h!==d.utf8encode,g=r.transformTo("string",h(e.name)),m=r.transformTo("string",d.utf8encode(e.name)),v=e.comment||"",y=r.transformTo("string",h(v)),_=r.transformTo("string",d.utf8encode(v)),w=m.length!==e.name.length,x=_.length!==v.length,S=e.options,k="",C="",A="";f=e._initialMetadata.date!==e.date?e.date:S.date;var T=0,M=0;(c=e._initialMetadata.dir!==e.dir?e.dir:S.dir)&&(T|=16),"UNIX"===a?(M=798,T|=function(t,e){var i=t;return t||(i=c?16893:33204),(65535&i)<<16}(e.unixPermissions)):(M=20,T|=function(t,e){return 63&(t||0)}(e.dosPermissions)),l=f.getHours(),l<<=6,l|=f.getMinutes(),l<<=5,l|=f.getSeconds()/2,u=f.getFullYear()-1980,u<<=4,u|=f.getMonth()+1,u<<=5,u|=f.getDate(),w&&(C=b(1,1)+b(s(g),4)+m,k+="up"+b(C.length,2)+C),x&&(A=b(1,1)+b(this.crc32(y),4)+_,k+="uc"+b(A.length,2)+A);var E="";return E+="\n\0",E+=p||!w&&!x?"\0\0":"\0\b",E+=i.compressionMethod,E+=b(l,2),E+=b(u,2),E+=b(i.crc32,4),E+=b(i.compressedSize,4),E+=b(i.uncompressedSize,4),E+=b(g.length,2),E+=b(k.length,2),{fileRecord:o.LOCAL_FILE_HEADER+E+g+k,dirRecord:o.CENTRAL_FILE_HEADER+b(M,2)+E+b(y.length,2)+"\0\0\0\0"+b(T,4)+b(n,4)+g+k+y,compressedObject:i}},A={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,i,n,s,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(s=new y((n=this.files[e]).name,n._data,r.extend(n.options)),i=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(i,s)&&o.push(s));return o},file:function(t,e,i){if(1===arguments.length){if(r.isRegExp(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}return this.filter(function(e,i){return!i.dir&&e===t})[0]||null}return _.call(this,t=this.root+t,e,i),this},folder:function(t){if(!t)return this;if(r.isRegExp(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=S.call(this,this.root+t),i=this.clone();return i.root=e.name,i},remove:function(t){var e=this.files[t=this.root+t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(t){t=r.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),r.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,i,n,s=[],a=0,u=0,c=r.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var g in this.files)if(this.files.hasOwnProperty(g)){var m=this.files[g],v=m.options.compression||t.compression.toUpperCase(),y=l[v];if(!y)throw new Error(v+" is not a valid compression method !");var _=k.call(this,m,y,m.options.compressionOptions||t.compressionOptions||{}),w=C.call(this,g,m,_,a,t.platform,t.encodeFileName);a+=w.fileRecord.length+_.compressedSize,u+=w.dirRecord.length,s.push(w)}n=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(s.length,2)+b(s.length,2)+b(u,4)+b(a,4)+b(c.length,2)+c;var x=t.type.toLowerCase();for(e="uint8array"===x||"arraybuffer"===x||"blob"===x||"nodebuffer"===x?new p(a+u+n.length):new f(a+u+n.length),i=0;i<s.length;i++)e.append(s[i].fileRecord),e.append(s[i].compressedObject.compressedContent);for(i=0;i<s.length;i++)e.append(s[i].dirRecord);e.append(n);var S=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(t.type.toLowerCase(),S);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",S),t.mimeType);case"base64":return t.base64?h.encode(S):S;default:return S}},crc32:function(t,e){return s(t,e)},utf8encode:function(t){return r.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};e.exports=A},{"./base64":2,"./compressedObject":3,"./compressions":4,"./crc32":5,"./defaults":7,"./nodeBuffer":12,"./signature":15,"./stringWriter":17,"./support":18,"./uint8ArrayWriter":20,"./utf8":21,"./utils":22}],15:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],16:[function(t,e,i){"use strict";function n(t,e){this.data=t,e||(this.data=s.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var r=t("./dataReader"),s=t("./utils");(n.prototype=new r).byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./dataReader":6,"./utils":22}],17:[function(t,e,i){"use strict";var n=t("./utils"),r=function(){this.data=[]};r.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=r},{"./utils":22}],18:[function(t,e,i){(function(t){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var e=new ArrayBuffer(0);try{i.blob=0===new Blob([e],{type:"application/zip"}).size}catch(r){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e),i.blob=0===n.getBlob("application/zip").size}catch(r){i.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],19:[function(t,e,i){"use strict";function n(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}var r=t("./arrayReader");(n.prototype=new r).readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"./arrayReader":1}],20:[function(t,e,i){"use strict";var n=t("./utils"),r=function(t){this.data=new Uint8Array(t),this.index=0};r.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=r},{"./utils":22}],21:[function(t,e,i){"use strict";for(var n=t("./utils"),r=t("./support"),s=t("./nodeBuffer"),o=new Array(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;o[254]=o[254]=1;var h=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+o[t[i]]>e?i:e},l=function(t){var e,i,r,s,a=t.length,h=new Array(2*a);for(i=0,e=0;e<a;)if((r=t[e++])<128)h[i++]=r;else if((s=o[r])>4)h[i++]=65533,e+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&e<a;)r=r<<6|63&t[e++],s--;s>1?h[i++]=65533:r<65536?h[i++]=r:(h[i++]=55296|(r-=65536)>>10&1023,h[i++]=56320|1023&r)}return h.length!==i&&(h.subarray?h=h.subarray(0,i):h.length=i),n.applyFromCharCode(h)};i.utf8encode=function(t){return r.nodebuffer?s(t,"utf-8"):function(t){var e,i,n,s,o,a=t.length,h=0;for(s=0;s<a;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=r.uint8array?new Uint8Array(h):new Array(h),o=0,s=0;o<h;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e}(t)},i.utf8decode=function(t){if(r.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],i=0,s=(t=n.transformTo(r.uint8array?"uint8array":"array",t)).length;i<s;){var o=h(t,Math.min(i+65536,s));e.push(l(r.uint8array?t.subarray(i,o):t.slice(i,o))),i=o}return e.join("")}},{"./nodeBuffer":12,"./support":18,"./utils":22}],22:[function(t,e,i){"use strict";function n(t){return t}function r(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function s(t){var e=65536,n=[],r=t.length,s=i.getTypeOf(t),o=0,a=!0;try{switch(s){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(h){a=!1}if(!a){for(var u="",c=0;c<t.length;c++)u+=String.fromCharCode(t[c]);return u}for(;o<r&&e>1;)try{n.push("array"===s||"nodebuffer"===s?String.fromCharCode.apply(null,t.slice(o,Math.min(o+e,r))):String.fromCharCode.apply(null,t.subarray(o,Math.min(o+e,r)))),o+=e}catch(h){e=Math.floor(e/2)}return n.join("")}function o(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var a=t("./support"),h=t("./compressions"),l=t("./nodeBuffer");i.string2binary=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i));return e},i.arrayBuffer2Blob=function(t,e){i.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(n){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(n){throw new Error("Bug : can't construct the Blob.")}}},i.applyFromCharCode=s;var u={};u.string={string:n,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return u.string.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:function(t){return r(t,l(t.length))}},u.array={string:s,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},u.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return o(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},u.uint8array={string:s,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return l(t)}},u.nodebuffer={string:s,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return u.nodebuffer.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:n},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return u[n][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&l.test(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},i.findCompression=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null},i.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i}},{"./compressions":4,"./nodeBuffer":12,"./support":18}],23:[function(t,e,i){"use strict";function n(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var r=t("./stringReader"),s=t("./nodeBufferReader"),o=t("./uint8ArrayReader"),a=t("./arrayReader"),h=t("./utils"),l=t("./signature"),u=t("./zipEntry"),c=t("./support");t("./object"),n.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+h.pretty(e)+", expected "+h.pretty(t)+")")},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.transformTo(c.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)(t=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=e-i;if(n>0)this.isSignature(e,l.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){var e=h.getTypeOf(t);if(h.checkSupport(e),"string"!==e||c.uint8array)if("nodebuffer"===e)this.reader=new s(t);else if(c.uint8array)this.reader=new o(h.transformTo("uint8array",t));else{if(!c.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new a(h.transformTo("array",t))}else this.reader=new r(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./arrayReader":1,"./nodeBufferReader":13,"./object":14,"./signature":15,"./stringReader":16,"./support":18,"./uint8ArrayReader":19,"./utils":22,"./zipEntry":24}],24:[function(t,e,i){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var r=t("./stringReader"),s=t("./utils"),o=t("./compressedObject"),a=t("./object"),h=t("./support");n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,i){return function(){var n=t.index;t.setIndex(e);var r=t.readData(i);return t.setIndex(n),r}},prepareContent:function(t,e,i,n,r){return function(){var t=s.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==r)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=s.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");if(this.decompressed=new o,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=s.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,n,r=t.index;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)e=t.readInt(2),i=t.readInt(2),n=t.readString(i),this.extraFields[e]={id:e,length:i,value:n}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new r(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new r(t.value);return 1!==e.readInt(1)?null:a.crc32(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readString(t.length-5))}return null}},e.exports=n},{"./compressedObject":3,"./object":14,"./stringReader":16,"./support":18,"./utils":22}],25:[function(t,e,i){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":26,"./lib/inflate":27,"./lib/utils/common":28,"./lib/zlib/constants":31}],26:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=o.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==c)throw new Error(h[i]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=s.deflateSetDictionary(this.strm,r))!==c)throw new Error(h[i]);this._dict_set=!0}}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/messages"),l=t("./zlib/zstream"),u=Object.prototype.toString,c=0,d=-1,f=0,p=8;n.prototype.push=function(t,e){var i,n,r=this.strm,h=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,r.input="string"==typeof t?a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?new Uint8Array(t):t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new o.Buf8(h),r.next_out=0,r.avail_out=h),1!==(i=s.deflate(r,n))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||this.onData("string"===this.options.to?a.buf2binstring(o.shrinkBuf(r.output,r.next_out)):o.shrinkBuf(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===n?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==n||(this.onEnd(c),r.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===c&&(this.result="string"===this.options.to?this.chunks.join(""):o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=n,i.deflate=r,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},{"./utils/common":28,"./utils/strings":29,"./zlib/deflate":33,"./zlib/messages":38,"./zlib/zstream":40}],27:[function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==h.Z_OK)throw new Error(l[i]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}function r(t,e){var i=new n(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),h=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=t("./zlib/gzheader"),d=Object.prototype.toString;n.prototype.push=function(t,e){var i,n,r,l,u,c,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?h.Z_FINISH:h.Z_NO_FLUSH,f.input="string"==typeof t?a.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?new Uint8Array(t):t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(i=s.inflate(f,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&g&&(c="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,i=s.inflateSetDictionary(this.strm,c)),i===h.Z_BUF_ERROR&&!0===m&&(i=h.Z_OK,m=!1),i!==h.Z_STREAM_END&&i!==h.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==h.Z_STREAM_END&&(0!==f.avail_in||n!==h.Z_FINISH&&n!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(r=a.utf8border(f.output,f.next_out),l=f.next_out-r,u=a.buf2string(f.output,r),f.next_out=l,f.avail_out=p-l,l&&o.arraySet(f.output,f.output,r,l,0),this.onData(u)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==h.Z_STREAM_END);return i===h.Z_STREAM_END&&(n=h.Z_FINISH),n===h.Z_FINISH?(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h.Z_OK):n!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),f.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===h.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=n,i.inflate=r,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},i.ungzip=r},{"./utils/common":28,"./utils/strings":29,"./zlib/constants":31,"./zlib/gzheader":34,"./zlib/inflate":36,"./zlib/messages":38,"./zlib/zstream":40}],28:[function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,i,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),r);else for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){var e,i,n,r,s,o;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(o=new Uint8Array(n),r=0,e=0,i=t.length;e<i;e++)o.set(s=t[e],r),r+=s.length;return o}},s={arraySet:function(t,e,i,n,r){for(var s=0;s<n;s++)t[r+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(n)},{}],29:[function(t,e,i){"use strict";function n(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i}var r=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(l){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){o=!1}for(var a=new r.Buf8(256),h=0;h<256;h++)a[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,n,s,o,a=t.length,h=0;for(s=0;s<a;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(h),o=0,s=0;o<h;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},i.buf2binstring=function(t){return n(t,t.length)},i.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,r,s,o,h=e||t.length,l=new Array(2*h);for(r=0,i=0;i<h;)if((s=t[i++])<128)l[r++]=s;else if((o=a[s])>4)l[r++]=65533,i+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&i<h;)s=s<<6|63&t[i++],o--;o>1?l[r++]=65533:s<65536?l[r++]=s:(l[r++]=55296|(s-=65536)>>10&1023,l[r++]=56320|1023&s)}return n(l,r)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":28}],30:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){for(var r=65535&t|0,s=t>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(r=r+e[n++]|0)|0}while(--o);r%=65521,s%=65521}return r|s<<16|0}},{}],31:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,r){var s=n,o=r+i;t^=-1;for(var a=r;a<o;a++)t=t>>>8^s[255&(t^e[a])];return-1^t}},{}],33:[function(t,e,i){"use strict";function n(t,e){return t.msg=T[e],e}function r(t){return(t<<1)-(t>4?9:0)}function s(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(S.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){k._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,i,n){var r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,S.arraySet(e,t.input,t.next_in,r,i),1===t.state.wrap?t.adler=C(t.adler,e,r,i):2===t.state.wrap&&(t.adler=A(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)}function c(t,e){var i,n,r=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-W?t.strstart-(t.w_size-W):0,l=t.window,u=t.w_mask,c=t.prev,d=t.strstart+q,f=l[s+o-1],p=l[s+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(l[(i=e)+o]===p&&l[i+o-1]===f&&l[i]===l[s]&&l[++i]===l[s+1]){s+=2,i++;do{}while(l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&l[++s]===l[++i]&&s<d);if(n=q-(d-s),s=d-q,n>o){if(t.match_start=e,o=n,n>=a)break;f=l[s+o-1],p=l[s+o]}}}while((e=c[e&u])>h&&0!=--r);return o<=t.lookahead?o:t.lookahead}function d(t){var e,i,n,r,s,o=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-W)){S.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=i=t.hash_size;do{n=t.head[--e],t.head[e]=n>=o?n-o:0}while(--i);e=i=o;do{n=t.prev[--e],t.prev[e]=n>=o?n-o:0}while(--i);r+=o}if(0===t.strm.avail_in)break;if(i=u(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=i,t.lookahead+t.insert>=V)for(t.ins_h=t.window[s=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+V-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<V)););}while(t.lookahead<W&&0!==t.strm.avail_in)}function f(t,e){for(var i,n;;){if(t.lookahead<W){if(d(t),t.lookahead<W&&e===M)return X;if(0===t.lookahead)break}if(i=0,t.lookahead>=V&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+V-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-W&&(t.match_length=c(t,i)),t.match_length>=V)if(n=k._tr_tally(t,t.strstart-t.match_start,t.match_length-V),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=V){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+V-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=t.strstart<V-1?t.strstart:V-1,e===E?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function p(t,e){for(var i,n,r;;){if(t.lookahead<W){if(d(t),t.lookahead<W&&e===M)return X;if(0===t.lookahead)break}if(i=0,t.lookahead>=V&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+V-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=V-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-W&&(t.match_length=c(t,i),t.match_length<=5&&(t.strategy===N||t.match_length===V&&t.strstart-t.match_start>4096)&&(t.match_length=V-1)),t.prev_length>=V&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-V,n=k._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-V),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+V-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=V-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return X}else if(t.match_available){if((n=k._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=k._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<V-1?t.strstart:V-1,e===E?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function g(t,e){for(var i,n,r,s,o=t.window;;){if(t.lookahead<=q){if(d(t),t.lookahead<=q&&e===M)return X;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=V&&t.strstart>0&&(n=o[r=t.strstart-1])===o[++r]&&n===o[++r]&&n===o[++r]){s=t.strstart+q;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<s);t.match_length=q-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=V?(i=k._tr_tally(t,1,t.match_length-V),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===E?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function m(t,e){for(var i;;){if(0===t.lookahead&&(d(t),0===t.lookahead)){if(e===M)return X;break}if(t.match_length=0,i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===E?(a(t,!0),0===t.strm.avail_out?Z:Q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?X:K}function v(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=F,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new S.Buf16(2*H),this.dyn_dtree=new S.Buf16(2*(2*B+1)),this.bl_tree=new S.Buf16(2*(2*j+1)),s(this.dyn_ltree),s(this.dyn_dtree),s(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new S.Buf16(Y+1),this.heap=new S.Buf16(2*z+1),s(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new S.Buf16(2*z+1),s(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=I,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?U:G,t.adler=2===e.wrap?0:1,e.last_flush=M,k._tr_init(e),D):n(t,P)}function _(t){var e=b(t);return e===D&&function(t){t.window_size=2*t.w_size,s(t.head),t.max_lazy_match=x[t.level].max_lazy,t.good_match=x[t.level].good_length,t.nice_match=x[t.level].nice_length,t.max_chain_length=x[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=V-1,t.match_available=0,t.ins_h=0}(t.state),e}function w(t,e,i,r,s,o){if(!t)return P;var a=1;if(e===O&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),s<1||s>R||i!==F||r<8||r>15||e<0||e>9||o<0||o>L)return n(t,P);8===r&&(r=9);var h=new y;return t.state=h,h.strm=t,h.wrap=a,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+V-1)/V),h.window=new S.Buf8(2*h.w_size),h.head=new S.Buf16(h.hash_size),h.prev=new S.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new S.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=o,h.method=i,_(t)}var x,S=t("../utils/common"),k=t("./trees"),C=t("./adler32"),A=t("./crc32"),T=t("./messages"),M=0,E=4,D=0,P=-2,O=-1,N=1,L=4,I=2,F=8,R=9,z=286,B=30,j=19,H=2*z+1,Y=15,V=3,q=258,W=q+V+1,U=42,G=113,X=1,K=2,Z=3,Q=4;x=[new v(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(d(t),0===t.lookahead&&e===M)return X;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return X;if(t.strstart-t.block_start>=t.w_size-W&&(a(t,!1),0===t.strm.avail_out))return X}return t.insert=0,e===E?(a(t,!0),0===t.strm.avail_out?Z:Q):(t.strstart>t.block_start&&a(t,!1),X)}),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,p),new v(8,16,32,32,p),new v(8,16,128,128,p),new v(8,32,128,256,p),new v(32,128,258,1024,p),new v(32,258,258,4096,p)],i.deflateInit=function(t,e){return w(t,e,F,15,8,0)},i.deflateInit2=w,i.deflateReset=_,i.deflateResetKeep=b,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?P:(t.state.gzhead=e,D):P},i.deflate=function(t,e){var i,a,u,c;if(!t||!t.state||e>5||e<0)return t?n(t,P):P;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||666===a.status&&e!==E)return n(t,0===t.avail_out?-5:P);if(a.strm=t,i=a.last_flush,a.last_flush=e,a.status===U)if(2===a.wrap)t.adler=0,h(a,31),h(a,139),h(a,8),a.gzhead?(h(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),h(a,255&a.gzhead.time),h(a,a.gzhead.time>>8&255),h(a,a.gzhead.time>>16&255),h(a,a.gzhead.time>>24&255),h(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),h(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(h(a,255&a.gzhead.extra.length),h(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=A(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(h(a,0),h(a,0),h(a,0),h(a,0),h(a,0),h(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),h(a,3),a.status=G);else{var d=F+(a.w_bits-8<<4)<<8;d|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(d|=32),d+=31-d%31,a.status=G,l(a,d),0!==a.strstart&&(l(a,t.adler>>>16),l(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(u=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>u&&(t.adler=A(t.adler,a.pending_buf,a.pending-u,u)),o(t),u=a.pending,a.pending!==a.pending_buf_size));)h(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>u&&(t.adler=A(t.adler,a.pending_buf,a.pending-u,u)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(t.adler=A(t.adler,a.pending_buf,a.pending-u,u)),o(t),u=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,h(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>u&&(t.adler=A(t.adler,a.pending_buf,a.pending-u,u)),0===c&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(t.adler=A(t.adler,a.pending_buf,a.pending-u,u)),o(t),u=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,h(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>u&&(t.adler=A(t.adler,a.pending_buf,a.pending-u,u)),0===c&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&o(t),a.pending+2<=a.pending_buf_size&&(h(a,255&t.adler),h(a,t.adler>>8&255),t.adler=0,a.status=G)):a.status=G),0!==a.pending){if(o(t),0===t.avail_out)return a.last_flush=-1,D}else if(0===t.avail_in&&r(e)<=r(i)&&e!==E)return n(t,-5);if(666===a.status&&0!==t.avail_in)return n(t,-5);if(0!==t.avail_in||0!==a.lookahead||e!==M&&666!==a.status){var f=2===a.strategy?m(a,e):3===a.strategy?g(a,e):x[a.level].func(a,e);if(f!==Z&&f!==Q||(a.status=666),f===X||f===Z)return 0===t.avail_out&&(a.last_flush=-1),D;if(f===K&&(1===e?k._tr_align(a):5!==e&&(k._tr_stored_block(a,0,0,!1),3===e&&(s(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),o(t),0===t.avail_out))return a.last_flush=-1,D}return e!==E?D:a.wrap<=0?1:(2===a.wrap?(h(a,255&t.adler),h(a,t.adler>>8&255),h(a,t.adler>>16&255),h(a,t.adler>>24&255),h(a,255&t.total_in),h(a,t.total_in>>8&255),h(a,t.total_in>>16&255),h(a,t.total_in>>24&255)):(l(a,t.adler>>>16),l(a,65535&t.adler)),o(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?D:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==U&&69!==e&&73!==e&&91!==e&&103!==e&&e!==G&&666!==e?n(t,P):(t.state=null,e===G?n(t,-3):D):P},i.deflateSetDictionary=function(t,e){var i,n,r,o,a,h,l,u,c=e.length;if(!t||!t.state)return P;if(2===(o=(i=t.state).wrap)||1===o&&i.status!==U||i.lookahead)return P;for(1===o&&(t.adler=C(t.adler,e,c,0)),i.wrap=0,c>=i.w_size&&(0===o&&(s(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new S.Buf8(i.w_size),S.arraySet(u,e,c-i.w_size,i.w_size,0),e=u,c=i.w_size),a=t.avail_in,h=t.next_in,l=t.input,t.avail_in=c,t.next_in=0,t.input=e,d(i);i.lookahead>=V;){n=i.strstart,r=i.lookahead-(V-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+V-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=V-1,d(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=V-1,i.match_available=0,t.next_in=h,t.input=l,t.avail_in=a,i.wrap=o,D},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./messages":38,"./trees":39}],34:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],35:[function(t,e,i){"use strict";e.exports=function(t,e){var i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A;C=t.input,r=(n=t.next_in)+(t.avail_in-5),A=t.output,o=(s=t.next_out)-(e-t.avail_out),a=s+(t.avail_out-257),h=(i=t.state).dmax,l=i.wsize,u=i.whave,c=i.wnext,d=i.window,f=i.hold,p=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{p<15&&(f+=C[n++]<<p,f+=C[n++]<<(p+=8),p+=8),b=g[f&v];e:for(;;){if(f>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))A[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue e}if(32&_){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&b,(_&=15)&&(p<_&&(f+=C[n++]<<p,p+=8),w+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=C[n++]<<p,f+=C[n++]<<(p+=8),p+=8),b=m[f&y];i:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&b,p<(_&=15)&&(f+=C[n++]<<p,(p+=8)<_&&(f+=C[n++]<<p,p+=8)),(x+=f&(1<<_)-1)>h){t.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=_,p-=_,x>(_=s-o)){if((_=x-_)>u&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(S=0,k=d,0===c){if(S+=l-_,_<w){w-=_;do{A[s++]=d[S++]}while(--_);S=s-x,k=A}}else if(c<_){if(S+=l+c-_,(_-=c)<w){w-=_;do{A[s++]=d[S++]}while(--_);if(S=0,c<w){w-=_=c;do{A[s++]=d[S++]}while(--_);S=s-x,k=A}}}else if(S+=c-_,_<w){w-=_;do{A[s++]=d[S++]}while(--_);S=s-x,k=A}for(;w>2;)A[s++]=k[S++],A[s++]=k[S++],A[s++]=k[S++],w-=3;w&&(A[s++]=k[S++],w>1&&(A[s++]=k[S++]))}else{S=s-x;do{A[s++]=A[S++],A[s++]=A[S++],A[s++]=A[S++],w-=3}while(w>2);w&&(A[s++]=A[S++],w>1&&(A[s++]=A[S++]))}break}}break}}while(n<r&&s<a);f&=(1<<(p-=(w=p>>3)<<3))-1,t.next_in=n-=w,t.next_out=s,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=s<a?a-s+257:257-(s-a),i.hold=f,i.bits=p}},{}],36:[function(t,e,i){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new f.Buf32(k),e.distcode=e.distdyn=new f.Buf32(C),e.sane=1,e.back=-1,_):w}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):w}function a(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?w:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,o(t))):w}function h(t,e){var i,n;return t?(n=new r,t.state=n,n.window=null,(i=a(t,e))!==_&&(t.state=null),i):w}function l(t){if(A){var e;for(c=new f.Buf32(512),d=new f.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(v(y,t.lens,0,288,c,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;v(b,t.lens,0,32,d,0,t.work,{bits:5}),A=!1}t.lencode=c,t.lenbits=9,t.distcode=d,t.distbits=5}function u(t,e,i,n){var r,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new f.Buf8(s.wsize)),n>=s.wsize?(f.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>n&&(r=n),f.arraySet(s.window,e,i-n,r,s.wnext),(n-=r)?(f.arraySet(s.window,e,i-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}var c,d,f=t("../utils/common"),p=t("./adler32"),g=t("./crc32"),m=t("./inffast"),v=t("./inftrees"),y=1,b=2,_=0,w=-2,x=1,S=12,k=852,C=592,A=!0;i.inflateReset=o,i.inflateReset2=a,i.inflateResetKeep=s,i.inflateInit=function(t){return h(t,15)},i.inflateInit2=h,i.inflate=function(t,e){var i,r,s,o,a,h,c,d,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j=0,H=new f.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return w;(i=t.state).mode===S&&(i.mode=13),a=t.next_out,s=t.output,o=t.next_in,r=t.input,d=i.hold,k=i.bits,C=h=t.avail_in,A=c=t.avail_out,R=_;t:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=13;break}for(;k<16;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(2&i.wrap&&35615===d){i.check=0,H[0]=255&d,H[1]=d>>>8&255,i.check=g(i.check,H,2,0),d=0,k=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&d)){t.msg="unknown compression method",i.mode=30;break}if(k-=4,F=8+(15&(d>>>=4)),0===i.wbits)i.wbits=F;else if(F>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<F,t.adler=i.check=1,i.mode=512&d?10:S,d=0,k=0;break;case 2:for(;k<16;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(i.flags=d,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&(H[0]=255&d,H[1]=d>>>8&255,i.check=g(i.check,H,2,0)),d=0,k=0,i.mode=3;case 3:for(;k<32;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}i.head&&(i.head.time=d),512&i.flags&&(H[0]=255&d,H[1]=d>>>8&255,H[2]=d>>>16&255,H[3]=d>>>24&255,i.check=g(i.check,H,4,0)),d=0,k=0,i.mode=4;case 4:for(;k<16;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&(H[0]=255&d,H[1]=d>>>8&255,i.check=g(i.check,H,2,0)),d=0,k=0,i.mode=5;case 5:if(1024&i.flags){for(;k<16;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&(H[0]=255&d,H[1]=d>>>8&255,i.check=g(i.check,H,2,0)),d=0,k=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((T=i.length)>h&&(T=h),T&&(i.head&&(F=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),f.arraySet(i.head.extra,r,o,T,F)),512&i.flags&&(i.check=g(i.check,r,T,o)),h-=T,o+=T,i.length-=T),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===h)break t;T=0;do{F=r[o+T++],i.head&&F&&i.length<65536&&(i.head.name+=String.fromCharCode(F))}while(F&&T<h);if(512&i.flags&&(i.check=g(i.check,r,T,o)),h-=T,o+=T,F)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===h)break t;T=0;do{F=r[o+T++],i.head&&F&&i.length<65536&&(i.head.comment+=String.fromCharCode(F))}while(F&&T<h);if(512&i.flags&&(i.check=g(i.check,r,T,o)),h-=T,o+=T,F)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;k<16;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(d!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}d=0,k=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=S;break;case 10:for(;k<32;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}t.adler=i.check=n(d),d=0,k=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=h,i.hold=d,i.bits=k,2;t.adler=i.check=1,i.mode=S;case S:if(5===e||6===e)break t;case 13:if(i.last){d>>>=7&k,k-=7&k,i.mode=27;break}for(;k<3;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}switch(i.last=1&d,k-=1,3&(d>>>=1)){case 0:i.mode=14;break;case 1:if(l(i),i.mode=20,6===e){d>>>=2,k-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}d>>>=2,k-=2;break;case 14:for(d>>>=7&k,k-=7&k;k<32;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&d,d=0,k=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(T=i.length){if(T>h&&(T=h),T>c&&(T=c),0===T)break t;f.arraySet(s,r,o,T,a),h-=T,o+=T,c-=T,a+=T,i.length-=T;break}i.mode=S;break;case 17:for(;k<14;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(i.nlen=257+(31&d),k-=5,i.ndist=1+(31&(d>>>=5)),k-=5,i.ncode=4+(15&(d>>>=5)),d>>>=4,k-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;k<3;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}i.lens[Y[i.have++]]=7&d,d>>>=3,k-=3}for(;i.have<19;)i.lens[Y[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,R=v(0,i.lens,0,19,i.lencode,0,i.work,z={bits:i.lenbits}),i.lenbits=z.bits,R){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;P=(j=i.lencode[d&(1<<i.lenbits)-1])>>>16&255,O=65535&j,!((D=j>>>24)<=k);){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(O<16)d>>>=D,k-=D,i.lens[i.have++]=O;else{if(16===O){for(B=D+2;k<B;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(d>>>=D,k-=D,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}F=i.lens[i.have-1],T=3+(3&d),d>>>=2,k-=2}else if(17===O){for(B=D+3;k<B;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}k-=D,F=0,T=3+(7&(d>>>=D)),d>>>=3,k-=3}else{for(B=D+7;k<B;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}k-=D,F=0,T=11+(127&(d>>>=D)),d>>>=7,k-=7}if(i.have+T>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;T--;)i.lens[i.have++]=F}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,R=v(y,i.lens,0,i.nlen,i.lencode,0,i.work,z={bits:i.lenbits}),i.lenbits=z.bits,R){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,R=v(b,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,z={bits:i.distbits}),i.distbits=z.bits,R){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(h>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=h,i.hold=d,i.bits=k,m(t,A),a=t.next_out,s=t.output,c=t.avail_out,o=t.next_in,r=t.input,h=t.avail_in,d=i.hold,k=i.bits,i.mode===S&&(i.back=-1);break}for(i.back=0;P=(j=i.lencode[d&(1<<i.lenbits)-1])>>>16&255,O=65535&j,!((D=j>>>24)<=k);){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(P&&0==(240&P)){for(N=D,L=P,I=O;P=(j=i.lencode[I+((d&(1<<N+L)-1)>>N)])>>>16&255,O=65535&j,!(N+(D=j>>>24)<=k);){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}d>>>=N,k-=N,i.back+=N}if(d>>>=D,k-=D,i.back+=D,i.length=O,0===P){i.mode=26;break}if(32&P){i.back=-1,i.mode=S;break}if(64&P){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&P,i.mode=22;case 22:if(i.extra){for(B=i.extra;k<B;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,k-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;P=(j=i.distcode[d&(1<<i.distbits)-1])>>>16&255,O=65535&j,!((D=j>>>24)<=k);){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(0==(240&P)){for(N=D,L=P,I=O;P=(j=i.distcode[I+((d&(1<<N+L)-1)>>N)])>>>16&255,O=65535&j,!(N+(D=j>>>24)<=k);){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}d>>>=N,k-=N,i.back+=N}if(d>>>=D,k-=D,i.back+=D,64&P){t.msg="invalid distance code",i.mode=30;break}i.offset=O,i.extra=15&P,i.mode=24;case 24:if(i.extra){for(B=i.extra;k<B;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,k-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===c)break t;if(i.offset>(T=A-c)){if((T=i.offset-T)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}M=T>i.wnext?i.wsize-(T-=i.wnext):i.wnext-T,T>i.length&&(T=i.length),E=i.window}else E=s,M=a-i.offset,T=i.length;T>c&&(T=c),c-=T,i.length-=T;do{s[a++]=E[M++]}while(--T);0===i.length&&(i.mode=21);break;case 26:if(0===c)break t;s[a++]=i.length,c--,i.mode=21;break;case 27:if(i.wrap){for(;k<32;){if(0===h)break t;h--,d|=r[o++]<<k,k+=8}if(t.total_out+=A-=c,i.total+=A,A&&(t.adler=i.check=i.flags?g(i.check,s,A,a-A):p(i.check,s,A,a-A)),A=c,(i.flags?d:n(d))!==i.check){t.msg="incorrect data check",i.mode=30;break}d=0,k=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;k<32;){if(0===h)break t;h--,d+=r[o++]<<k,k+=8}if(d!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}d=0,k=0}i.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return w}return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=h,i.hold=d,i.bits=k,(i.wsize||A!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&u(t,t.output,t.next_out,A-t.avail_out)?(i.mode=31,-4):(A-=t.avail_out,t.total_in+=C-=t.avail_in,t.total_out+=A,i.total+=A,i.wrap&&A&&(t.adler=i.check=i.flags?g(i.check,s,A,t.next_out-A):p(i.check,s,A,t.next_out-A)),t.data_type=i.bits+(i.last?64:0)+(i.mode===S?128:0)+(20===i.mode||15===i.mode?256:0),(0===C&&0===A||4===e)&&R===_&&(R=-5),R)},i.inflateEnd=function(t){if(!t||!t.state)return w;var e=t.state;return e.window&&(e.window=null),t.state=null,_},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?w:(i.head=e,e.done=!1,_):w},i.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?w:11===i.mode&&p(1,e,n,0)!==i.check?-3:u(t,e,n,n)?(i.mode=31,-4):(i.havedict=1,_):w},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":28,"./adler32":30,"./crc32":32,"./inffast":35,"./inftrees":37}],37:[function(t,e,i){"use strict";var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,h,l,u,c,d){var f,p,g,m,v,y,b,_,w,x=d.bits,S=0,k=0,C=0,A=0,T=0,M=0,E=0,D=0,P=0,O=0,N=null,L=0,I=new n.Buf16(16),F=new n.Buf16(16),R=null,z=0;for(S=0;S<=15;S++)I[S]=0;for(k=0;k<h;k++)I[e[i+k]]++;for(T=x,A=15;A>=1&&0===I[A];A--);if(T>A&&(T=A),0===A)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(C=1;C<A&&0===I[C];C++);for(T<C&&(T=C),D=1,S=1;S<=15;S++)if(D<<=1,(D-=I[S])<0)return-1;if(D>0&&(0===t||1!==A))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+I[S];for(k=0;k<h;k++)0!==e[i+k]&&(c[F[e[i+k]]++]=k);if(0===t?(N=R=c,y=19):1===t?(N=r,L-=257,R=s,z-=257,y=256):(N=o,R=a,y=-1),O=0,k=0,S=C,v=u,M=T,E=0,g=-1,m=(P=1<<T)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){b=S-E,c[k]<y?(_=0,w=c[k]):c[k]>y?(_=R[z+c[k]],w=N[L+c[k]]):(_=96,w=0),f=1<<S-E,C=p=1<<M;do{l[v+(O>>E)+(p-=f)]=b<<24|_<<16|w|0}while(0!==p);for(f=1<<S-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,k++,0==--I[S]){if(S===A)break;S=e[i+c[k]]}if(S>T&&(O&m)!==g){for(0===E&&(E=T),v+=C,D=1<<(M=S-E);M+E<A&&!((D-=I[M+E])<=0);)M++,D<<=1;if(P+=1<<M,1===t&&P>852||2===t&&P>592)return 1;l[g=O&m]=T<<24|M<<16|v-u|0}}return 0!==O&&(l[v+O]=S-E<<24|64<<16|0),d.bits=T,0}},{"../utils/common":28}],38:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],39:[function(t,e,i){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function s(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function o(t){return t<256?j[t]:j[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>E-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>E-t.bi_valid,t.bi_valid+=i-E):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function l(t,e,i){h(t,i[2*e],i[2*e+1])}function u(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function c(t,e,i){var n,r,s=new Array(M+1),o=0;for(n=1;n<=M;n++)s[n]=o=o+i[n-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=u(s[a]++,a))}}function d(t){var e;for(e=0;e<k;e++)t.dyn_ltree[2*e]=0;for(e=0;e<C;e++)t.dyn_dtree[2*e]=0;for(e=0;e<A;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*D]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function f(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function p(t,e,i,n){var r=2*e,s=2*i;return t[r]<t[s]||t[r]===t[s]&&n[e]<=n[i]}function g(t,e,i){for(var n=t.heap[i],r=i<<1;r<=t.heap_len&&(r<t.heap_len&&p(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!p(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n}function m(t,e,i){var n,r,s,a,u=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],r=t.pending_buf[t.l_buf+u],u++,0===n?l(t,r,e):(l(t,(s=H[r])+S+1,e),0!==(a=L[s])&&h(t,r-=Y[s],a),l(t,s=o(--n),i),0!==(a=I[s])&&h(t,n-=V[s],a))}while(u<t.last_lit);l(t,D,e)}function v(t,e){var i,n,r,s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=T,i=0;i<h;i++)0!==s[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=o[2*r+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)g(t,s,i);r=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,s[2*r]=s[2*i]+s[2*n],t.depth[r]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,s[2*i+1]=s[2*n+1]=r,t.heap[1]=r++,g(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,r,s,o,a,h=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=M;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<T;i++)(s=h[2*h[2*(n=t.heap[i])+1]+1]+1)>p&&(s=p,g++),h[2*n+1]=s,n>l||(t.bl_count[s]++,o=0,n>=f&&(o=d[n-f]),t.opt_len+=(a=h[2*n])*(s+o),c&&(t.static_len+=a*(u[2*n+1]+o)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--i])>l||(h[2*r+1]!==s&&(t.opt_len+=(s-h[2*r+1])*h[2*r],h[2*r+1]=s),n--)}}(t,e),c(s,l,t.bl_count)}function y(t,e,i){var n,r,s=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++a<h&&r===o||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==s&&t.bl_tree[2*r]++,t.bl_tree[2*P]++):a<=10?t.bl_tree[2*O]++:t.bl_tree[2*N]++,a=0,s=r,0===o?(h=138,l=3):r===o?(h=6,l=3):(h=7,l=4))}function b(t,e,i){var n,r,s=-1,o=e[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++a<u&&r===o)){if(a<c)do{l(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==s&&(l(t,r,t.bl_tree),a--),l(t,P,t.bl_tree),h(t,a-3,2)):a<=10?(l(t,O,t.bl_tree),h(t,a-3,3)):(l(t,N,t.bl_tree),h(t,a-11,7));a=0,s=r,0===o?(u=138,c=3):r===o?(u=6,c=3):(u=7,c=4)}}function _(t,e,i,n){h(t,(x<<1)+(n?1:0),3),function(t,e,i,n){f(t),a(t,i),a(t,~i),w.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}var w=t("../utils/common"),x=0,S=256,k=S+1+29,C=30,A=19,T=2*k+1,M=15,E=16,D=256,P=16,O=17,N=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(k+2));n(z);var B=new Array(2*C);n(B);var j=new Array(512);n(j);var H=new Array(256);n(H);var Y=new Array(29);n(Y);var V=new Array(C);n(V);var q,W,U,G=!1;i._tr_init=function(t){G||(function(){var t,e,i,n,s,o=new Array(M+1);for(i=0,n=0;n<28;n++)for(Y[n]=i,t=0;t<1<<L[n];t++)H[i++]=n;for(H[i-1]=n,s=0,n=0;n<16;n++)for(V[n]=s,t=0;t<1<<I[n];t++)j[s++]=n;for(s>>=7;n<C;n++)for(V[n]=s<<7,t=0;t<1<<I[n]-7;t++)j[256+s++]=n;for(e=0;e<=M;e++)o[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,o[8]++;for(;t<=255;)z[2*t+1]=9,t++,o[9]++;for(;t<=279;)z[2*t+1]=7,t++,o[7]++;for(;t<=287;)z[2*t+1]=8,t++,o[8]++;for(c(z,k+1,o),t=0;t<C;t++)B[2*t+1]=5,B[2*t]=u(t,5);q=new r(z,L,S+1,k,M),W=new r(B,I,0,C,M),U=new r(new Array(0),F,0,A,7)}(),G=!0),t.l_desc=new s(t.dyn_ltree,q),t.d_desc=new s(t.dyn_dtree,W),t.bl_desc=new s(t.bl_tree,U),t.bi_buf=0,t.bi_valid=0,d(t)},i._tr_stored_block=_,i._tr_flush_block=function(t,e,i,n){var r,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<S;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),v(t,t.l_desc),v(t,t.d_desc),o=function(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=A-1;e>=3&&0===t.bl_tree[2*R[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(s=t.static_len+3+7>>>3)<=(r=t.opt_len+3+7>>>3)&&(r=s)):r=s=i+5,i+4<=r&&-1!==e?_(t,e,i,n):4===t.strategy||s===r?(h(t,2+(n?1:0),3),m(t,z,B)):(h(t,4+(n?1:0),3),function(t,e,i,n){var r;for(h(t,e-257,5),h(t,i-1,5),h(t,n-4,4),r=0;r<n;r++)h(t,t.bl_tree[2*R[r]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),m(t,t.dyn_ltree,t.dyn_dtree)),d(t),n&&f(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(H[i]+S+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){h(t,2,3),l(t,D,z),function(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":28}],40:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).vis=t.vis||{})}(this,function(e){"use strict";var i=Math.cos,n=Math.sin,r=Math.round,s=Math.pow,o=String.prototype,a=Math.ceil,h=Math.abs,l=Math.PI,u=Math.atan2,c=Math.sqrt,d=Math.floor,f=Math.max,p=Math.min;function g(t,e){return t(e={exports:{}},e.exports),e.exports}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function y(t,e){var i=Object.keys(t);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t)),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i}function b(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,i=e&&(2<arguments.length?arguments[2]:void 0)||0;"string"==typeof t&&(e="binary"===t?Array(16):void 0,t={});var n=t.random||(t.rng||ns)();if(n[6]=64|15&n[6],n[8]=128|63&n[8],e)for(var r=0;16>r;r++)e[i+r]=n[r];return e||function(t,e){var i=0;return es[n[i++]]+es[n[i++]]+es[n[i++]]+es[n[i++]]+"-"+es[n[i++]]+es[n[i++]]+"-"+es[n[i++]]+es[n[i++]]+"-"+es[n[i++]]+es[n[i++]]+"-"+es[n[i++]]+es[n[i++]]+es[n[i++]]+es[n[i++]]+es[n[i++]]+es[n[i++]]}()}function _(t){return t instanceof Number||"number"==typeof t}function w(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(w(e),t.removeChild(e))}}function x(t){return t instanceof String||"string"==typeof t}function S(t){return"object"===m(t)&&null!==t}function k(t){if(t instanceof Date)return!0;if(x(t)){if(os.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1}function C(t){return ts.isMoment(t)}function A(t,e,i,n){var r=!1;!0===n&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function T(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];for(var n in t)if(void 0!==e[n])if(null===e[n]||"object"!==m(e[n]))A(t,e,n,i);else{var r=t[n],s=e[n];S(r)&&S(s)&&T(r,s,i)}}function M(t,e){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=arguments.length,n=Array(2<i?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];for(var s,o=0,a=n;o<a.length;o++){s=a[o];for(var h,l=0;l<t.length;l++)h=t[l],s&&Object.prototype.hasOwnProperty.call(s,h)&&(e[h]=s[h])}return e}function E(t,e,i){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r,s=0;s<t.length;s++)if(r=t[s],Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?P(e[r],i[r],!1,n):A(e,i,r,n);else{if(Array.isArray(i[r]))throw new TypeError("Arrays are not supported by deepExtend");A(e,i,r,n)}return e}function D(t,e,i){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&-1===t.indexOf(r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?P(e[r],i[r]):A(e,i,r,n);else if(Array.isArray(i[r])){e[r]=[];for(var s=0;s<i[r].length;s++)e[r].push(i[r][s])}else A(e,i,r,n);return e}function P(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];for(var r in e)(Object.prototype.hasOwnProperty.call(e,r)||!0===i)&&(e[r]&&Object.getPrototypeOf(e[r])===Object.prototype?void 0===t[r]?t[r]=P({},e[r],i):t[r]&&Object.getPrototypeOf(t[r])===Object.prototype?P(t[r],e[r],i):A(t,e,r,n):Array.isArray(e[r])?t[r]=e[r].slice():A(t,e,r,n));return t}function O(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0}function N(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!t;case"number":case"Number":return x(t)&&!isNaN(Date.parse(t))?ts(t).valueOf():+t.valueOf();case"string":case"String":return t+"";case"Date":if(_(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(C(t))return new Date(t.valueOf());if(x(t))return(i=os.exec(t))?new Date(+i[1]):ts(new Date(t)).toDate();throw new Error("Cannot convert object of type "+L(t)+" to type Date");case"Moment":if(_(t))return ts(t);if(t instanceof Date)return ts(t.valueOf());if(C(t))return ts(t);if(x(t))return i=os.exec(t),ts(i?+i[1]:t);throw new Error("Cannot convert object of type "+L(t)+" to type Date");case"ISODate":if(_(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(C(t))return t.toDate().toISOString();if(x(t))return(i=os.exec(t))?new Date(+i[1]).toISOString():ts(t).format();throw new Error("Cannot convert object of type "+L(t)+" to type ISODate");case"ASPDate":if(_(t))return"/Date("+t+")/";if(t instanceof Date||C(t))return"/Date("+t.valueOf()+")/";if(x(t))return"/Date("+((i=os.exec(t))?new Date(+i[1]).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+L(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function L(t){var e=m(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function I(t,e){return[].concat(function(t){return function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t),[e])}function F(t){return t.slice()}function R(t){return t.getBoundingClientRect().left}function z(t){return t.getBoundingClientRect().right}function B(t){return t.getBoundingClientRect().top}function j(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(t){return 0>i.indexOf(t)})),t.className=i.join(" ")}function H(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(t){return 0>n.indexOf(t)}),t.className=i.join(" ")}function Y(t,e){if(Array.isArray(t))for(var i=t.length,n=0;n<i;n++)e(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function V(t,e,i){return t[e]!==i&&(t[e]=i,!0)}function q(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}}function W(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)}function U(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&0<=navigator.userAgent.indexOf("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)}function G(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function X(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode)instanceof Element)?e:null}function K(t,e){for(var i=t;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}return!1}function Z(t){var e;switch(t.length){case 3:case 4:return(e=hs.exec(t))?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return(e=as.exec(t))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function Q(t,e){if(-1!==t.indexOf("rgba"))return t;if(-1!==t.indexOf("rgb")){var i=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var n=Z(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function $(t,e,i){return"#"+(16777216+(t<<16)+(e<<8)+i).toString(16).slice(1)}function J(t,e){if(x(t)){var i=t;if(at(i)){var n=i.substr(4).substr(0,i.length-5).split(",").map(function(t){return parseInt(t)});i=$(n[0],n[1],n[2])}if(!0===ot(i)){var r=st(i),s={h:r.h,s:.8*r.s,v:p(1,1.02*r.v)},o={h:r.h,s:p(1,1.25*r.s),v:.8*r.v},a=rt(o.h,o.s,o.v),h=rt(s.h,s.s,s.v);return{background:i,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:x(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:x(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:x(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:x(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function tt(t,e,i){var n=p(t/=255,p(e/=255,i/=255)),r=f(t,f(e,i));return n===r?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(r-n))/360,s:(r-n)/r,v:r}}function et(t,e){var i=function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?y(e,!0).forEach(function(i){v(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},ps.split(t.style.cssText),{},ps.split(e));t.style.cssText=ps.join(i)}function it(t,e){var i=ps.split(t.style.cssText),n=ps.split(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&delete i[r];t.style.cssText=ps.join(i)}function nt(t,e,i){var n,r,s,o=d(6*t),a=6*t-o,h=i*(1-e),l=i*(1-a*e),u=i*(1-(1-a)*e);switch(o%6){case 0:n=i,r=u,s=h;break;case 1:n=l,r=i,s=h;break;case 2:n=h,r=i,s=u;break;case 3:n=h,r=l,s=i;break;case 4:n=u,r=h,s=i;break;case 5:n=i,r=h,s=l}return{r:d(255*n),g:d(255*r),b:d(255*s)}}function rt(t,e,i){var n=nt(t,e,i);return $(n.r,n.g,n.b)}function st(t){var e=Z(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return tt(e.r,e.g,e.b)}function ot(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function at(t){return ls.test(t)}function ht(t){return us.test(t)}function lt(t,e){if(null!==e&&"object"===m(e)){for(var i=Object.create(e),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&"object"==m(e[t[n]])&&(i[t[n]]=ut(e[t[n]]));return i}return null}function ut(t){if(null===t||"object"!==m(t))return null;if(t instanceof Element)return t;var e=Object.create(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==m(t[i])&&(e[i]=ut(t[i]));return e}function ct(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=void 0;for(r=i;0<r&&0>e(n,t[r-1]);r--)t[r]=t[r-1];t[r]=n}return t}function dt(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},s=function(t){return null!==t&&"object"===m(t)};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");var o=e[i],a=s(n)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,h=a?a.enabled:void 0;if(void 0!==o){if("boolean"==typeof o)return s(t[i])||(t[i]={}),void(t[i].enabled=o);if(null===o&&!s(t[i])){if(!r(a))return;t[i]=Object.create(a)}if(s(o)){var l=!0;void 0===o.enabled?void 0!==h&&(l=a.enabled):l=o.enabled,function(t,e,i){s(t[i])||(t[i]={});var n=e[i],r=t[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}(t,e,i),t[i].enabled=l}}}function ft(t,e,i,n){for(var r=0,s=0,o=t.length-1;s<=o&&r<1e4;){var a=d((s+o)/2),h=t[a],l=e(void 0===n?h[i]:h[i][n]);if(0==l)return a;-1==l?s=a+1:o=a-1,r++}return-1}function pt(t,e,i,n,r){var s,o,a,h,l=0,u=0,c=t.length-1;for(r=null==r?function(t,e){return t==e?0:t<e?-1:1}:r;u<=c&&1e4>l;){if(h=d(.5*(c+u)),s=t[f(0,h-1)][i],o=t[h][i],a=t[p(t.length-1,h+1)][i],0==r(o,e))return h;if(0>r(s,e)&&0<r(o,e))return"before"==n?f(0,h-1):h;if(0>r(o,e)&&0<r(a,e))return"before"==n?h:p(t.length-1,h+1);0>r(o,e)?u=h+1:c=h-1,l++}return-1}function gt(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n}function mt(t,e){var i;Array.isArray(e)||(e=[e]);var n=!0,r=!1,s=void 0;try{for(var o,a,h=t[Symbol.iterator]();!(n=(o=h.next()).done);n=!0)if(a=o.value){i=a[e[0]];for(var l=1;l<e.length;l++)i&&(i=i[e[l]]);if(void 0!==i)break}}catch(t){r=!0,s=t}finally{try{n||null==h.return||h.return()}finally{if(r)throw s}}return i}function vt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t){return t instanceof Number||"number"==typeof t}function wt(t){return t instanceof String||"string"==typeof t}function xt(t){return Os.isMoment(t)}function St(t,e){var i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!t;case"number":case"Number":return wt(t)&&!isNaN(Date.parse(t))?Os(t).valueOf():+t.valueOf();case"string":case"String":return t+"";case"Date":if(_t(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(xt(t))return new Date(t.valueOf());if(wt(t))return(i=zs.exec(t))?new Date(+i[1]):Os(new Date(t)).toDate();throw new Error("Cannot convert object of type "+kt(t)+" to type Date");case"Moment":if(_t(t))return Os(t);if(t instanceof Date)return Os(t.valueOf());if(xt(t))return Os(t);if(wt(t))return i=zs.exec(t),Os(i?+i[1]:t);throw new Error("Cannot convert object of type "+kt(t)+" to type Date");case"ISODate":if(_t(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(xt(t))return t.toDate().toISOString();if(wt(t))return(i=zs.exec(t))?new Date(+i[1]).toISOString():Os(t).format();throw new Error("Cannot convert object of type "+kt(t)+" to type ISODate");case"ASPDate":if(_t(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(wt(t))return"/Date("+((i=zs.exec(t))?new Date(+i[1]).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+kt(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(e))}}}function kt(t){var e=bt(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function Ct(t){return"string"==typeof t||"number"==typeof t}function At(t,e){var i=Object.keys(t);return Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t)),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i}function Tt(t,e){return t(e={exports:{}},e.exports),e.exports}function Mt(t){return Qs=t,function(){var t={};if($s=0,Js=Qs.charAt(0),Rt(),"strict"===to&&(t.strict=!0,Rt()),("graph"===to||"digraph"===to)&&(t.type=to,Rt()),eo===Ks.IDENTIFIER&&(t.id=to,Rt()),"{"!=to)throw Vt("Angle bracket { expected");if(Rt(),zt(t),"}"!=to)throw Vt("Angle bracket } expected");if(Rt(),""!==to)throw Vt("End of file expected");return Rt(),delete t.node,delete t.edge,delete t.graph,t}()}function Et(){Js=Qs.charAt(++$s)}function Dt(){return Qs.charAt($s+1)}function Pt(t){return io.test(t)}function Ot(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Nt(t,e,i){for(var n=e.split("."),r=t;n.length;){var s=n.shift();n.length?(!r[s]&&(r[s]={}),r=r[s]):r[s]=i}}function Lt(t,e){for(var i,n,r=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes)for(i=0,n=o.nodes.length;i<n;i++)if(e.id===o.nodes[i].id){r=o.nodes[i];break}for(r||(r={id:e.id},t.node&&(r.attr=Ot(r.attr,t.node))),i=s.length-1;0<=i;i--){var a=s[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(r)&&a.nodes.push(r)}e.attr&&(r.attr=Ot(r.attr,e.attr))}function It(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=Ot({},t.edge);e.attr=Ot(i,e.attr)}}function Ft(t,e,i,n,r){var s={from:e,to:i,type:n};return t.edge&&(s.attr=Ot({},t.edge)),s.attr=Ot(s.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(s.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),s}function Rt(){for(eo=Ks.NULL,to="";" "===Js||"\t"===Js||"\n"===Js||"\r"===Js;)Et();do{var t=!1;if("#"===Js){for(var e=$s-1;" "===Qs.charAt(e)||"\t"===Qs.charAt(e);)e--;if("\n"===Qs.charAt(e)||""===Qs.charAt(e)){for(;""!=Js&&"\n"!=Js;)Et();t=!0}}if("/"===Js&&"/"===Dt()){for(;""!=Js&&"\n"!=Js;)Et();t=!0}if("/"===Js&&"*"===Dt()){for(;""!=Js;){if("*"===Js&&"/"===Dt()){Et(),Et();break}Et()}t=!0}for(;" "===Js||"\t"===Js||"\n"===Js||"\r"===Js;)Et()}while(t);if(""!==Js){var i=Js+Dt();if(Zs[i])return eo=Ks.DELIMITER,to=i,Et(),void Et();if(Zs[Js])return eo=Ks.DELIMITER,to=Js,void Et();if(Pt(Js)||"-"===Js){for(to+=Js,Et();Pt(Js);)to+=Js,Et();return"false"===to?to=!1:"true"===to?to=!0:!isNaN(+to)&&(to=+to),void(eo=Ks.IDENTIFIER)}if('"'===Js){for(Et();""!=Js&&('"'!=Js||'"'===Js&&'"'===Dt());)'"'===Js?(to+=Js,Et()):"\\"===Js&&"n"===Dt()?(to+="\n",Et()):to+=Js,Et();if('"'!=Js)throw Vt('End of string " expected');return Et(),void(eo=Ks.IDENTIFIER)}for(eo=Ks.UNKNOWN;""!=Js;)to+=Js,Et();throw new SyntaxError('Syntax error in part "'+qt(to,30)+'"')}eo=Ks.DELIMITER}function zt(t){for(;""!==to&&"}"!=to;)Bt(t),";"===to&&Rt()}function Bt(t){var e=jt(t);if(e)Ht(t,e);else if(!function(t){return"node"===to?(Rt(),t.node=Yt(),"node"):"edge"===to?(Rt(),t.edge=Yt(),"edge"):"graph"===to?(Rt(),t.graph=Yt(),"graph"):null}(t)){if(eo!=Ks.IDENTIFIER)throw Vt("Identifier expected");var i=to;if(Rt(),"="===to){if(Rt(),eo!=Ks.IDENTIFIER)throw Vt("Identifier expected");t[i]=to,Rt()}else!function(t,e){var i={id:e},n=Yt();n&&(i.attr=n),Lt(t,i),Ht(t,e)}(t,i)}}function jt(t){var e=null;if("subgraph"===to&&((e={}).type="subgraph",Rt(),eo===Ks.IDENTIFIER&&(e.id=to,Rt())),"{"===to){if(Rt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,zt(e),"}"!=to)throw Vt("Angle bracket } expected");Rt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Ht(t,e){for(;"->"===to||"--"===to;){var i,n=to;Rt();var r=jt(t);if(r)i=r;else{if(eo!=Ks.IDENTIFIER)throw Vt("Identifier or subgraph expected");Lt(t,{id:i=to}),Rt()}It(t,Ft(t,e,i,n,Yt())),e=i}}function Yt(){for(var t,e=null,i={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=[],s=[];"["===to;){for(Rt(),e={};""!==to&&"]"!=to;){if(eo!=Ks.IDENTIFIER)throw Vt("Attribute name expected");var o=to;if(Rt(),"="!=to)throw Vt("Equal sign = expected");if(Rt(),eo!=Ks.IDENTIFIER)throw Vt("Attribute value expected");var a=to;"style"===o&&(a=i[a]),"arrowhead"===o&&(o="arrows",a={to:{enabled:!0,type:n[a]}}),"arrowtail"===o&&(o="arrows",a={from:{enabled:!0,type:n[a]}}),r.push({attr:e,name:o,value:a}),s.push(o),Rt(),","==to&&Rt()}if("]"!=to)throw Vt("Bracket ] expected");Rt()}if(s.includes("dir")){var h={arrows:{}};for(t=0;t<r.length;t++)if("arrows"!==r[t].name)"dir"===r[t].name&&(h.dir=t);else if(null!=r[t].value.to)h.arrows.to=t;else{if(null==r[t].value.from)throw Vt("Invalid value of arrows");h.arrows.from=t}var l,u,c=r[h.dir].value;if(!s.includes("arrows"))if("both"===c)r.push({attr:r[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=r.length-1,r.push({attr:r[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=r.length-1;else if("forward"===c)r.push({attr:r[h.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),h.arrows.to=r.length-1;else if("back"===c)r.push({attr:r[h.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),h.arrows.from=r.length-1;else{if("none"!==c)throw Vt('Invalid dir type "'+c+'"');r.push({attr:r[h.dir].attr,name:"arrows",value:""}),h.arrows.to=r.length-1}if("both"===c)h.arrows.to&&h.arrows.from?(r[h.arrows.to]={attr:r[h.arrows.to].attr,name:r[h.arrows.to].name,value:{to:{enabled:!0,type:u=r[h.arrows.to].value.to.type},from:{enabled:!0,type:l=r[h.arrows.from].value.from.type}}},r.splice(h.arrows.from,1)):h.arrows.to?r[h.arrows.to]={attr:r[h.arrows.to].attr,name:r[h.arrows.to].name,value:{to:{enabled:!0,type:u=r[h.arrows.to].value.to.type},from:{enabled:!0,type:l="arrow"}}}:h.arrows.from&&(r[h.arrows.from]={attr:r[h.arrows.from].attr,name:r[h.arrows.from].name,value:{to:{enabled:!0,type:u="arrow"},from:{enabled:!0,type:l=r[h.arrows.from].value.from.type}}});else if("back"===c)h.arrows.to&&h.arrows.from?r[h.arrows.from]={attr:r[h.arrows.from].attr,name:r[h.arrows.from].name,value:{to:{enabled:!0,type:u=""},from:{enabled:!0,type:l=r[h.arrows.from].value.from.type}}}:h.arrows.to?(u="",l="arrow",h.arrows.from=h.arrows.to,r[h.arrows.from]={attr:r[h.arrows.from].attr,name:r[h.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):h.arrows.from&&(r[h.arrows.to]={attr:r[h.arrows.from].attr,name:r[h.arrows.from].name,value:{to:{enabled:!0,type:u=""},from:{enabled:!0,type:l=r[h.arrows.from].value.from.type}}}),r[h.arrows.from]={attr:r[h.arrows.from].attr,name:r[h.arrows.from].name,value:{from:{enabled:!0,type:r[h.arrows.from].value.from.type}}};else if("none"===c){var d;r[d=h.arrows.to?h.arrows.to:h.arrows.from]={attr:r[d].attr,name:r[d].name,value:""}}else{if("forward"!==c)throw Vt('Invalid dir type "'+c+'"');h.arrows.to&&h.arrows.from?r[h.arrows.to]={attr:r[h.arrows.to].attr,name:r[h.arrows.to].name,value:{to:{enabled:!0,type:u=r[h.arrows.to].value.to.type},from:{enabled:!0,type:l=""}}}:h.arrows.to?r[h.arrows.to]={attr:r[h.arrows.to].attr,name:r[h.arrows.to].name,value:{to:{enabled:!0,type:u=r[h.arrows.to].value.to.type},from:{enabled:!0,type:l=""}}}:h.arrows.from&&(u="arrow",l="",h.arrows.to=h.arrows.from,r[h.arrows.to]={attr:r[h.arrows.to].attr,name:r[h.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}),r[h.arrows.to]={attr:r[h.arrows.to].attr,name:r[h.arrows.to].name,value:{to:{enabled:!0,type:r[h.arrows.to].value.to.type}}}}r.splice(h.dir,1)}var f;if(s.includes("penwidth")){var p=[];for(f=r.length,t=0;t<f;t++)"width"!==r[t].name&&("penwidth"===r[t].name&&(r[t].name="width"),p.push(r[t]));r=p}for(f=r.length,t=0;t<f;t++)Nt(r[t].attr,r[t].name,r[t].value);return e}function Vt(t){return new SyntaxError(t+', got "'+qt(to,30)+'" (char '+$s+")")}function qt(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Wt(t,e,i){for(var n,r=e.split("."),s=r.pop(),o=t,a=0;a<r.length;a++)(n=r[a])in o||(o[n]={}),o=o[n];return o[s]=i,t}function Ut(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?r.forEach(function(e){Wt(i,e,t[n])}):Wt(i,"string"==typeof r?r:n,t[n])}return i}function Gt(t,e){var i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(i.nodes.fixed=e.fixed),null!=e.parseColor&&(i.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(i.edges.inheritColor=e.inheritColor));var n=t.edges.map(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===i.edges.inheritColor&&(e.color=t.color),e});return{nodes:t.nodes.map(function(t){var e={id:t.id,fixed:i.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(e.color=!0===i.nodes.parseColor?t.color:{background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e}),edges:n}}function Xt(){return(Xt=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)}function Kt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),s=0;s<uo.length;){if((n=(i=uo[s])?i+r:e)in t)return n;s++}}function $t(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Jt(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function te(t,e){return-1<t.indexOf(e)}function ee(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ie(t){var e=t.length;if(1===e)return{x:fo(t[0].clientX),y:fo(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:fo(i/e),y:fo(n/e)}}function ne(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:fo(t.pointers[i].clientX),clientY:fo(t.pointers[i].clientY)},i++;return{timeStamp:go(),pointers:e,center:ie(e),deltaX:t.deltaX,deltaY:t.deltaY}}function re(t,e,i){i||(i=Po);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return c(n*n+r*r)}function se(t,e,i){return i||(i=Po),180*u(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/l}function oe(t,e){return t===e?1:po(t)>=po(e)?0>t?2:4:0>e?8:16}function ae(t,e,i){return{x:e/t||0,y:i/t||0}}function he(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=1&e&&0==n-r;i.isFirst=!!s,i.isFinal=!!(12&e&&0==n-r),s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=ne(e)),1<r&&!i.firstMultiple?i.firstMultiple=ne(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=ie(n);e.timeStamp=go(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=se(a,h),e.distance=re(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};(1===e.eventType||4===s.eventType)&&(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=oe(e.deltaX,e.deltaY);var l=ae(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=po(l.x)>po(l.y)?l.x:l.y,e.scale=o?function(t,e){return re(n[0],n[1],Oo)/re(t[0],t[1],Oo)}(o.pointers):1,e.rotation=o?function(t,e){return se(n[1],n[0],Oo)+se(t[1],t[0],Oo)}(o.pointers):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!==e.eventType&&(a>25||void 0===o.velocity)){var h=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,u=ae(a,h,l);n=u.x,r=u.y,i=po(u.x)>po(u.y)?u.x:u.y,s=oe(h,l),t.lastInterval=e}else i=o.velocity,n=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=s}(i,e);var u=t.element;ee(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function le(t){return t.trim().split(/\s+/g)}function ue(t,e,i){$t(le(e),function(e){t.addEventListener(e,i,!1)})}function ce(t,e,i){$t(le(e),function(e){t.removeEventListener(e,i,!1)})}function de(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}function fe(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function pe(t){return Array.prototype.slice.call(t,0)}function ge(t,e,i){for(var n,r=[],s=[],o=0;o<t.length;)0>fe(s,n=e?t[o][e]:t[o])&&r.push(t[o]),s[o]=n,o++;return i&&(r=e?r.sort(function(t,i){return t[e]>i[e]}):r.sort()),r}function me(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},2500)}}function ve(t,e,i){return!!Array.isArray(t)&&($t(t,i[e],i),!0)}function ye(t,e){var i=e.manager;return i?i.get(t):t}function be(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function _e(t,e){var i,n=t.element;n.style&&($t(t.options.cssProps,function(r,s){i=Qt(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function we(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}function xe(t,e,i){return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,"DEPRECATED METHOD: "+e+"\n"+i+" AT \n",r),t.apply(this,arguments)}}function Se(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&lo(n,i)}function ke(t,e){return function(){return t.apply(e,arguments)}}function Ce(t){var e=this;this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=ha(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this)),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.srcEvent.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=ao(),this.escListener=this.deactivate.bind(this)}function Ae(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function Te(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Ee(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function De(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Ee(e,!0).forEach(function(i){va(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ee(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}function Pe(t,e){var i=new Set;return t.forEach(function(t){t.edges.forEach(function(t){t.connected&&i.add(t)})}),i.forEach(function(t){var i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)}),e}function Oe(t,e,i){var n=this;if(!(this instanceof Oe))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:ca,clickToUse:!1},ms.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new ga(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new ma,this.canvas=new zh(this.body),this.selectionHandler=new Vh(this.body,this.canvas),this.interactionHandler=new Yh(this.body,this.canvas,this.selectionHandler),this.view=new Bh(this.body,this.canvas),this.renderer=new Fh(this.body,this.canvas),this.physics=new Oh(this.body),this.layoutEngine=new Qh(this.body),this.clustering=new Ih(this.body),this.manipulation=new $h(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new Ja(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Sh(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new dl(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self||self:global:window:globalThis;var Ne=g(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),Le=g(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),Ie=g(function(t){var e=Ne["__core-js_shared__"]||(Ne["__core-js_shared__"]={});(t.exports=function(t,i){return e[t]||(e[t]=void 0===i?{}:i)})("versions",[]).push({version:Le.version,mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),Fe=0,Re=Math.random(),ze=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Fe+Re).toString(36))},Be=g(function(t){var e=Ie("wks"),i=Ne.Symbol,n="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=n&&i[t]||(n?i:ze)("Symbol."+t))}).store=e}),je={f:Be},He=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Ye=function(t){if(!He(t))throw TypeError(t+" is not an object!");return t},Ve=function(e){try{return!!e()}catch(t){return!0}},qe=!Ve(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),We=Ne.document,Ue=He(We)&&He(We.createElement),Ge=function(t){return Ue?We.createElement(t):{}},Xe=!qe&&!Ve(function(){return 7!=Object.defineProperty(Ge("div"),"a",{get:function(){return 7}}).a}),Ke=function(t,e){if(!He(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!He(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!He(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!He(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},Ze=Object.defineProperty,Qe={f:qe?Object.defineProperty:function(t,e,i){if(Ye(t),e=Ke(e,!0),Ye(i),Xe)try{return Ze(t,e,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},$e=Qe.f,Je=function(t){var e=Le.Symbol||(Le.Symbol=Ne.Symbol||{});"_"==t.charAt(0)||t in e||$e(e,t,{value:je.f(t)})};Je("asyncIterator");var ti={}.hasOwnProperty,ei=function(t,e){return ti.call(t,e)},ii=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ni=qe?function(t,e,i){return Qe.f(t,e,ii(1,i))}:function(t,e,i){return t[e]=i,t},ri=Ie("native-function-to-string",Function.toString),si=g(function(t){var e=ze("src"),i="toString",n=(""+ri).split(i);Le.inspectSource=function(t){return ri.call(t)},(t.exports=function(t,i,r,s){var o="function"==typeof r;o&&(ei(r,"name")||ni(r,"name",i)),t[i]===r||(o&&(ei(r,e)||ni(r,e,t[i]?""+t[i]:n.join(i+""))),t===Ne?t[i]=r:s?t[i]?t[i]=r:ni(t,i,r):(delete t[i],ni(t,i,r)))})(Function.prototype,i,function(){return"function"==typeof this&&this[e]||ri.call(this)})}),oi=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},ai=function(t,e,i){return oi(t),void 0===e?t:1===i?function(i){return t.call(e,i)}:2===i?function(i,n){return t.call(e,i,n)}:3===i?function(i,n,r){return t.call(e,i,n,r)}:function(){return t.apply(e,arguments)}},hi="prototype",li=function(t,e,i){var n,r,s,o,a=t&li.F,h=t&li.G,l=t&li.P,u=t&li.B,c=h?Ne:t&li.S?Ne[e]||(Ne[e]={}):(Ne[e]||{})[hi],d=h?Le:Le[e]||(Le[e]={}),f=d[hi]||(d[hi]={});for(n in h&&(i=e),i)s=((r=!a&&c&&void 0!==c[n])?c:i)[n],o=u&&r?ai(s,Ne):l&&"function"==typeof s?ai(Function.call,s):s,c&&si(c,n,s,t&li.U),d[n]!=s&&ni(d,n,o),l&&f[n]!=s&&(f[n]=s)};Ne.core=Le,li.F=1,li.G=2,li.S=4,li.P=8,li.B=16,li.W=32,li.U=64,li.R=128;var ui=li,ci=g(function(t){var e=ze("meta"),i=Qe.f,n=0,r=Object.isExtensible||function(){return!0},s=!Ve(function(){return r(Object.preventExtensions({}))}),o=function(t){i(t,e,{value:{i:"O"+ ++n,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(t,i){if(!He(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ei(t,e)){if(!r(t))return"F";if(!i)return"E";o(t)}return t[e].i},getWeak:function(t,i){if(!ei(t,e)){if(!r(t))return!0;if(!i)return!1;o(t)}return t[e].w},onFreeze:function(t){return s&&a.NEED&&r(t)&&!ei(t,e)&&o(t),t}}}),di=Qe.f,fi=Be("toStringTag"),pi=function(t,e,i){t&&!ei(t=i?t:t.prototype,fi)&&di(t,fi,{configurable:!0,value:e})},gi={}.toString,mi=function(t){return gi.call(t).slice(8,-1)},vi=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==mi(t)?t.split(""):Object(t)},yi=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},bi=function(t){return vi(yi(t))},_i=function(t){return isNaN(t=+t)?0:(0<t?d:a)(t)},wi=function(t){return 0<t?p(_i(t),9007199254740991):0},xi=Ie("keys"),Si=function(t){return xi[t]||(xi[t]=ze(t))},ki=function(t,e,i){for(var n=bi(t),r=wi(n.length),s=function(t,e){return 0>(t=_i(t))?f(t+e,0):p(t,e)}(i,r);r>s;s++)if(s in n&&n[s]===e)return s||0;return-1},Ci=Si("IE_PROTO"),Ai=function(t,e){var i,n=bi(t),r=0,s=[];for(i in n)i!=Ci&&ei(n,i)&&s.push(i);for(;e.length>r;)ei(n,i=e[r++])&&(~ki(s,i)||s.push(i));return s},Ti=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Mi=Object.keys||function(t){return Ai(t,Ti)},Ei={f:Object.getOwnPropertySymbols},Di={f:{}.propertyIsEnumerable},Pi=Array.isArray||function(t){return"Array"==mi(t)},Oi=function(t){return Object(yi(t))},Ni=qe?Object.defineProperties:function(t,e){Ye(t);for(var i,n=Mi(e),r=n.length,s=0;r>s;)Qe.f(t,i=n[s++],e[i]);return t},Li=Ne.document,Ii=Li&&Li.documentElement,Fi=Si("IE_PROTO"),Ri=function(){},zi="prototype",Bi=function(){var t,e=Ge("iframe"),i=Ti.length;for(e.style.display="none",Ii.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Bi=t.F;i--;)delete Bi[zi][Ti[i]];return Bi()},ji=Object.create||function(t,e){var i;return null===t?i=Bi():(Ri[zi]=Ye(t),i=new Ri,Ri[zi]=null,i[Fi]=t),void 0===e?i:Ni(i,e)},Hi=Ti.concat("length","prototype"),Yi={f:Object.getOwnPropertyNames||function(t){return Ai(t,Hi)}},Vi=Yi.f,qi={}.toString,Wi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ui={f:function(e){return Wi&&"[object Window]"==qi.call(e)?function(e){try{return Vi(e)}catch(t){return Wi.slice()}}(e):Vi(bi(e))}},Gi=Object.getOwnPropertyDescriptor,Xi={f:qe?Gi:function(t,e){if(t=bi(t),e=Ke(e,!0),Xe)try{return Gi(t,e)}catch(e){}return ei(t,e)?ii(!Di.f.call(t,e),t[e]):void 0}},Ki=ci.KEY,Zi=Xi.f,Qi=Qe.f,$i=Ui.f,Ji=Ne.Symbol,tn=Ne.JSON,en=tn&&tn.stringify,nn="prototype",rn=Be("_hidden"),sn=Be("toPrimitive"),on={}.propertyIsEnumerable,an=Ie("symbol-registry"),hn=Ie("symbols"),ln=Ie("op-symbols"),un=Object[nn],cn="function"==typeof Ji&&!!Ei.f,dn=Ne.QObject,fn=!dn||!dn[nn]||!dn[nn].findChild,pn=qe&&Ve(function(){return 7!=ji(Qi({},"a",{get:function(){return Qi(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=Zi(un,e);n&&delete un[e],Qi(t,e,i),n&&t!==un&&Qi(un,e,n)}:Qi,gn=function(t){var e=hn[t]=ji(Ji[nn]);return e._k=t,e},mn=cn&&"symbol"==typeof Ji.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Ji},vn=function(t,e,i){return t===un&&vn(ln,e,i),Ye(t),e=Ke(e,!0),Ye(i),ei(hn,e)?(i.enumerable?(ei(t,rn)&&t[rn][e]&&(t[rn][e]=!1),i=ji(i,{enumerable:ii(0,!1)})):(!ei(t,rn)&&Qi(t,rn,ii(1,{})),t[rn][e]=!0),pn(t,e,i)):Qi(t,e,i)},yn=function(t,e){Ye(t);for(var i,n=function(t){var e=Mi(t),i=Ei.f;if(i)for(var n,r=i(t),s=Di.f,o=0;r.length>o;)s.call(t,n=r[o++])&&e.push(n);return e}(e=bi(e)),r=0,s=n.length;s>r;)vn(t,i=n[r++],e[i]);return t},bn=function(t){var e=on.call(this,t=Ke(t,!0));return(this!==un||!ei(hn,t)||ei(ln,t))&&(!(e||!ei(this,t)||!ei(hn,t)||ei(this,rn)&&this[rn][t])||e)},_n=function(t,e){if(t=bi(t),e=Ke(e,!0),t!==un||!ei(hn,e)||ei(ln,e)){var i=Zi(t,e);return i&&ei(hn,e)&&!(ei(t,rn)&&t[rn][e])&&(i.enumerable=!0),i}},wn=function(t){for(var e,i=$i(bi(t)),n=[],r=0;i.length>r;)ei(hn,e=i[r++])||e==rn||e==Ki||n.push(e);return n},xn=function(t){for(var e,i=t===un,n=$i(i?ln:bi(t)),r=[],s=0;n.length>s;)ei(hn,e=n[s++])&&(!i||ei(un,e))&&r.push(hn[e]);return r};cn||(si((Ji=function(){if(this instanceof Ji)throw TypeError("Symbol is not a constructor!");var t=ze(0<arguments.length?arguments[0]:void 0),e=function(i){this===un&&e.call(ln,i),ei(this,rn)&&ei(this[rn],t)&&(this[rn][t]=!1),pn(this,t,ii(1,i))};return qe&&fn&&pn(un,t,{configurable:!0,set:e}),gn(t)})[nn],"toString",function(){return this._k}),Xi.f=_n,Qe.f=vn,Yi.f=Ui.f=wn,Di.f=bn,Ei.f=xn,qe&&si(un,"propertyIsEnumerable",bn,!0),je.f=function(t){return gn(Be(t))}),ui(ui.G+ui.W+ui.F*!cn,{Symbol:Ji});for(var Sn=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],kn=0;Sn.length>kn;)Be(Sn[kn++]);for(var Cn=Mi(Be.store),An=0;Cn.length>An;)Je(Cn[An++]);ui(ui.S+ui.F*!cn,"Symbol",{for:function(t){return ei(an,t+="")?an[t]:an[t]=Ji(t)},keyFor:function(t){if(!mn(t))throw TypeError(t+" is not a symbol!");for(var e in an)if(an[e]===t)return e},useSetter:function(){fn=!0},useSimple:function(){fn=!1}}),ui(ui.S+ui.F*!cn,"Object",{create:function(t,e){return void 0===e?ji(t):yn(ji(t),e)},defineProperty:vn,defineProperties:yn,getOwnPropertyDescriptor:_n,getOwnPropertyNames:wn,getOwnPropertySymbols:xn});var Tn=Ve(function(){Ei.f(1)});ui(ui.S+ui.F*Tn,"Object",{getOwnPropertySymbols:function(t){return Ei.f(Oi(t))}}),tn&&ui(ui.S+ui.F*(!cn||Ve(function(){var t=Ji();return"[null]"!=en([t])||"{}"!=en({a:t})||"{}"!=en(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(He(e)||void 0!==t)&&!mn(t))return Pi(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!mn(e))return e}),n[1]=e,en.apply(tn,n)}}),Ji[nn][sn]||ni(Ji[nn],sn,Ji[nn].valueOf),pi(Ji,"Symbol"),pi(Math,"Math",!0),pi(Ne.JSON,"JSON",!0),function(t,e){var i=(Le.Object||{})[t]||Object[t],n={keys:function(t){return Mi(Oi(t))}};ui(ui.S+ui.F*Ve(function(){i(1)}),"Object",n)}("keys");var Mn=function(){var t=Ye(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};qe&&"g"!=/./g.flags&&Qe.f(RegExp.prototype,"flags",{configurable:!0,get:Mn});var En=/./.toString,Dn=function(t){si(RegExp.prototype,"toString",t,!0)};Ve(function(){return"/a/b"!=En.call({source:"a",flags:"b"})})?Dn(function(){var t=Ye(this);return"/".concat(t.source,"/","flags"in t?t.flags:!qe&&t instanceof RegExp?Mn.call(t):void 0)}):"toString"!=En.name&&Dn(function(){return En.call(this)});var Pn=function(t,e,i){return e+(i?function(e,i){var n,r,s=yi(t)+"",o=_i(i),a=s.length;return 0>o||o>=a?"":55296>(n=s.charCodeAt(o))||56319<n||o+1===a||56320>(r=s.charCodeAt(o+1))||57343<r?s.charAt(o):s.slice(o,o+2)}(0,e).length:1)},On=Be("toStringTag"),Nn="Arguments"==mi(function(){return arguments}()),Ln=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(e){}}(e=Object(t),On))?i:Nn?mi(e):"Object"==(n=mi(e))&&"function"==typeof e.callee?"Arguments":n},In=RegExp.prototype.exec,Fn=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Ln(t))throw new TypeError("RegExp#exec called on incompatible receiver");return In.call(t,e)},Rn=RegExp.prototype.exec,zn=o.replace,Bn=Rn,jn="lastIndex",Hn=function(){var t=/a/,e=/b*/g;return Rn.call(t,"a"),Rn.call(e,"a"),0!==t[jn]||0!==e[jn]}(),Yn=void 0!==/()??/.exec("")[1];(Hn||Yn)&&(Bn=function(t){var e,i,n,r,s=this;return Yn&&(i=new RegExp("^"+s.source+"$(?!\\s)",Mn.call(s))),Hn&&(e=s[jn]),n=Rn.call(s,t),Hn&&n&&(s[jn]=s.global?n.index+n[0].length:e),Yn&&n&&1<n.length&&zn.call(n[0],i,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)}),n});var Vn=Bn;ui({target:"RegExp",proto:!0,forced:Vn!==/./.exec},{exec:Vn});var qn=Be("species"),Wn=!Ve(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Un=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}(),Gn=function(t,e,i){var n=Be(t),r=!Ve(function(){var e={};return e[n]=function(){return 7},7!=""[t](e)}),s=r?!Ve(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[qn]=function(){return i}),i[n](""),!e}):void 0;if(!r||!s||"replace"===t&&!Wn||"split"===t&&!Un){var o=/./[n],a=i(yi,n,""[t],function(t,e,i,n,s){return e.exec===Vn?r&&!s?{done:!0,value:o.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),h=a[1];si(String.prototype,t,a[0]),ni(RegExp.prototype,n,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}},Xn=/\$([$&`']|\d\d?|<[^>]*>)/g,Kn=/\$([$&`']|\d\d?)/g,Zn=function(t){return void 0===t?t:t+""};Gn("replace",2,function(t,e,i,n){function r(t,e,n,r,s,o){var a=n+t.length,h=r.length,l=Kn;return void 0!==s&&(s=Oi(s),l=Xn),i.call(o,l,function(i,o){var l;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":l=s[o.slice(1,-1)];break;default:var u=+o;if(0==u)return i;if(u>h){var c=d(u/10);return 0===c?i:c<=h?void 0===r[c-1]?o.charAt(1):r[c-1]+o.charAt(1):i}l=r[u-1]}return void 0===l?"":l})}return[function(n,r){var s=t(this),o=null==n?void 0:n[e];return void 0===o?i.call(s+"",n,r):o.call(n,s,r)},function(t,e){var s=n(i,t,this,e);if(s.done)return s.value;var o=Ye(t),a=this+"",h="function"==typeof e;h||(e+="");var l=o.global;if(l){var u=o.unicode;o.lastIndex=0}for(var c,d=[];null!==(c=Fn(o,a))&&(d.push(c),l);)""==c[0]+""&&(o.lastIndex=Pn(a,wi(o.lastIndex),u));for(var g="",m=0,v=0;v<d.length;v++){for(var y=(c=d[v])[0]+"",b=f(p(_i(c.index),a.length),0),_=[],w=1;w<c.length;w++)_.push(Zn(c[w]));var x=c.groups;if(h){var S=[y].concat(_,b,a);void 0!==x&&S.push(x);var k=e.apply(void 0,S)+""}else k=r(y,a,b,_,x,e);b>=m&&(g+=a.slice(m,b)+k,m=b+y.length)}return g+a.slice(m)}]});var Qn=Be("unscopables"),$n=Array.prototype;null==$n[Qn]&&ni($n,Qn,{});var Jn=function(t){$n[Qn][t]=!0},tr=function(t,e){return{value:e,done:!!t}},er={},ir={};ni(ir,Be("iterator"),function(){return this});var nr=Si("IE_PROTO"),rr=Object.prototype,sr=Object.getPrototypeOf||function(t){return t=Oi(t),ei(t,nr)?t[nr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?rr:null},or=Be("iterator"),ar=!([].keys&&"next"in[].keys()),hr=function(){return this},lr=function(t,e,i,n,r,s,o){!function(t,e,i){t.prototype=ji(ir,{next:ii(1,n)}),pi(t,"Array Iterator")}(i);var a,h,l,u=function(t){return!ar&&t in f?f[t]:function(){return new i(this,t)}},c=e+" Iterator",d=!1,f=t.prototype,p=f[or]||f["@@iterator"]||f[r],g=p||u(r),m=u("entries"),v=f.entries||p;if(v&&(l=sr(v.call(new t)))!==Object.prototype&&l.next&&(pi(l,c,!0),"function"!=typeof l[or]&&ni(l,or,hr)),p&&"values"!==p.name&&(d=!0,g=function(){return p.call(this)}),(ar||d||!f[or])&&ni(f,or,g),er[e]=g,er[c]=hr,void(a={values:g,keys:u("keys"),entries:m}))for(h in a)h in f||si(f,h,a[h]);else ui(ui.P+ui.F*(ar||d),e,a);return a}(Array,"Array",function(t,e){this._t=bi(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,tr(1)):tr(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values");er.Arguments=er.Array,Jn("keys"),Jn("values"),Jn("entries");for(var ur=Be("iterator"),cr=Be("toStringTag"),dr=er.Array,fr={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},pr=Mi(fr),gr=0;gr<pr.length;gr++){var mr,vr=pr[gr],yr=fr[vr],br=Ne[vr],_r=br&&br.prototype;if(_r&&(_r[ur]||ni(_r,ur,dr),_r[cr]||ni(_r,cr,vr),er[vr]=dr,yr))for(mr in lr)_r[mr]||si(_r,mr,lr[mr],!0)}({})[Be("toStringTag")]="z",si(Object.prototype,"toString",function(){return"[object "+Ln(this)+"]"},!0);var wr=Di.f;ui(ui.S,"Object",{values:function(t){return function(e){for(var i,n=bi(t),r=Mi(n),s=r.length,o=0,a=[];s>o;)i=r[o++],(!qe||wr.call(n,i))&&a.push(n[i]);return a}()}});var xr=Be("match"),Sr=Be("species"),kr=[].push,Cr="split",Ar="length",Tr="lastIndex",Mr=4294967295,Er=!Ve(function(){RegExp(Mr,"y")});Gn("split",2,function(t,e,i,n){var r;return r="c"=="abbc"[Cr](/(b)*/)[1]||4!="test"[Cr](/(?:)/,-1)[Ar]||2!="ab"[Cr](/(?:ab)*/)[Ar]||4!="."[Cr](/(.?)(.?)/)[Ar]||1<"."[Cr](/()()/)[Ar]||""[Cr](/.?/)[Ar]?function(t,e){var n=this+"";if(void 0===t&&0===e)return[];if(!function(t){var e;return He(t)&&(void 0===(e=t[xr])?"RegExp"==mi(t):!!e)}(t))return i.call(n,t,e);for(var r,s,o,a=[],h=0,l=void 0===e?Mr:e>>>0,u=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(r=Vn.call(u,n))&&!((s=u[Tr])>h&&(a.push(n.slice(h,r.index)),1<r[Ar]&&r.index<n[Ar]&&kr.apply(a,r.slice(1)),o=r[0][Ar],h=s,a[Ar]>=l));)u[Tr]===r.index&&u[Tr]++;return h===n[Ar]?(o||!u.test(""))&&a.push(""):a.push(n.slice(h)),a[Ar]>l?a.slice(0,l):a}:"0"[Cr](void 0,0)[Ar]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var s=t(this),o=null==i?void 0:i[e];return void 0===o?r.call(s+"",i,n):o.call(i,s,n)},function(t,e){var s=n(r,t,this,e,r!==i);if(s.done)return s.value;var o=Ye(t),a=this+"",h=function(t,e){var i,n=Ye(o).constructor;return void 0===n||null==(i=Ye(n)[Sr])?e:oi(i)}(0,RegExp),l=o.unicode,u=new h(Er?o:"^(?:"+o.source+")",(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Er?"y":"g")),c=void 0===e?Mr:e>>>0;if(0===c)return[];if(0===a.length)return null===Fn(u,a)?[a]:[];for(var d=0,f=0,g=[];f<a.length;){u.lastIndex=Er?f:0;var m,v=Fn(u,Er?a:a.slice(f));if(null===v||(m=p(wi(u.lastIndex+(Er?0:f)),a.length))===d)f=Pn(a,f,l);else{if(g.push(a.slice(d,f)),g.length===c)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===c)return g;f=d=m}}return g.push(a.slice(d)),g}]});var Dr=Object.assign,Pr=!Dr||Ve(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=Dr({},t)[i]||Object.keys(Dr({},e)).join("")!=n})?function(t){for(var e=Oi(t),i=arguments.length,n=1,r=Ei.f,s=Di.f;i>n;)for(var o,a=vi(arguments[n++]),h=r?Mi(a).concat(r(a)):Mi(a),l=h.length,u=0;l>u;)o=h[u++],(!qe||s.call(a,o))&&(e[o]=a[o]);return e}:Dr;ui(ui.S+ui.F,"Object",{assign:Pr});var Or=Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=ai(Function.call,Xi.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return function(t,e){if(Ye(t),!He(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),Nr=function(t,e,i){var n,r=e.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&He(n)&&Or&&Or(t,n),t},Lr="\t\n\v\f\r \u2028\u2029\ufeff",Ir="["+Lr+"]",Fr=RegExp("^"+Ir+Ir+"*"),Rr=RegExp(Ir+Ir+"*$"),zr=function(t,e,i){var n={},r=Ve(function(){return!!Lr[t]()||""!=""[t]()}),s=n[t]=r?e(Br):Lr[t];i&&(n[i]=s),ui(ui.P+ui.F*r,"String",n)},Br=zr.trim=function(t,e){return t=yi(t)+"",1&e&&(t=t.replace(Fr,"")),2&e&&(t=t.replace(Rr,"")),t},jr=Yi.f,Hr=Xi.f,Yr=Qe.f,Vr=zr.trim,qr="Number",Wr=Ne[qr],Ur=Wr,Gr=Wr.prototype,Xr=mi(ji(Gr))==qr,Kr="trim"in o,Zr=function(t){var e=Ke(t,!1);if("string"==typeof e&&2<e.length){var i,n,r,s=(e=Kr?e.trim():Vr(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var o,a=e.slice(2),h=0,l=a.length;h<l;h++)if(48>(o=a.charCodeAt(h))||o>r)return NaN;return parseInt(a,n)}}return+e};if(!Wr(" 0o1")||!Wr("0b1")||Wr("+0x1")){Wr=function(t){var e=1>arguments.length?0:t,i=this;return i instanceof Wr&&(Xr?Ve(function(){Gr.valueOf.call(i)}):mi(i)!=qr)?Nr(new Ur(Zr(e)),i,Wr):Zr(e)};for(var Qr,$r=qe?jr(Ur):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Jr=0;$r.length>Jr;Jr++)ei(Ur,Qr=$r[Jr])&&!ei(Wr,Qr)&&Yr(Wr,Qr,Hr(Ur,Qr));Wr.prototype=Gr,Gr.constructor=Wr,si(Ne,qr,Wr)}for(var ts=g(function(e){e.exports=function(){function i(){return de.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function g(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function v(t,e){for(var i in e)m(e,i)&&(t[i]=e[i]);return m(e,"toString")&&(t.toString=e.toString),m(e,"valueOf")&&(t.valueOf=e.valueOf),t}function y(t,e,i,n){return Et(t,e,i,n,!0).utc()}function b(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function _(t){if(null==t._isValid){var e=b(t),i=fe.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function w(t){var e=y(NaN);return null==t?b(e).userInvalidated=!0:v(b(e),t),e}function x(t,e){var i,n,r;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=b(e)),l(e._locale)||(t._locale=e._locale),0<pe.length)for(i=0;i<pe.length;i++)l(r=e[n=pe[i]])||(t[n]=r);return t}function S(t){x(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===ge&&(ge=!0,i.updateOffset(this),ge=!1)}function k(t){return t instanceof S||null!=t&&null!=t._isAMomentObject}function C(t){return 0>t?a(t)||0:d(t)}function A(t){var e=+t,i=0;return 0!=e&&isFinite(e)&&(i=C(e)),i}function T(t,e,i){var n,r=p(t.length,e.length),s=h(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&A(t[n])!==A(e[n]))&&o++;return o+s}function M(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var n=!0;return v(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}M(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}function D(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),me[t]||(M(e),me[t]=!0)}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var i,n=v({},t);for(i in e)m(e,i)&&(o(t[i])&&o(e[i])?(n[i]={},v(n[i],t[i]),v(n[i],e[i])):null==e[i]?delete n[i]:n[i]=e[i]);for(i in t)m(t,i)&&!m(e,i)&&o(t[i])&&(n[i]=v({},n[i]));return n}function N(t){null!=t&&this.set(t)}function L(t,e){var i=t.toLowerCase();ye[i]=ye[i+"s"]=ye[e]=t}function I(t){return"string"==typeof t?ye[t]||ye[t.toLowerCase()]:void 0}function F(t){var e,i,n={};for(i in t)m(t,i)&&(e=I(i))&&(n[e]=t[i]);return n}function R(t,e){be[t]=e}function z(t,e,i){var n=""+h(t);return(0<=t?i?"+":"":"-")+s(10,f(0,e-n.length)).toString().substr(1)+n}function B(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(Se[t]=r),e&&(Se[e[0]]=function(){return z(r.apply(this,arguments),e[1],e[2])}),i&&(Se[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(t,e){return t.isValid()?(e=Y(e,t.localeData()),xe[e]=xe[e]||function(t){var e,i,n=t.match(_e);for(e=0,i=n.length;e<i;e++)n[e]=Se[n[e]]?Se[n[e]]:j(n[e]);return function(e){var r,s="";for(r=0;r<i;r++)s+=P(n[r])?n[r].call(e,t):n[r];return s}}(e),xe[e](t)):t.localeData().invalidDate()}function Y(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(we.lastIndex=0;0<=n&&we.test(t);)t=t.replace(we,i),we.lastIndex=0,n-=1;return t}function V(t,e,i){je[t]=P(e)?e:function(t){return t&&i?i:e}}function q(t,e){return m(je,t)?je[t](e._strict,e._locale):new RegExp(function(t){return W(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}(t))}function W(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),u(e)&&(n=function(t,i){i[e]=A(t)}),i=0;i<t.length;i++)He[t[i]]=n}function G(t,e){U(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function X(t,e,i){null!=e&&m(He,t)&&He[t](e,i._a,i,t)}function K(t){return Z(t)?366:365}function Z(t){return 0==t%4&&0!=t%100||0==t%400}function Q(t,e){return function(n){return null==n?$(this,t):(J(this,t,n),i.updateOffset(this,e),this)}}function $(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function J(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Z(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),tt(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function tt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?Z(t)?29:28:31-i%7%2}function et(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=A(e);else if(!u(e=t.localeData().monthsParse(e)))return t;return i=p(t.date(),tt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function it(t){return null==t?$(this,"Month"):(et(this,t),i.updateOffset(this,!0),this)}function nt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;12>e;e++)i=y([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;12>e;e++)n[e]=W(n[e]),r[e]=W(r[e]);for(e=0;24>e;e++)s[e]=W(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function rt(t){var e;if(100>t&&0<=t){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function st(t,e,i){var n=7+e-i;return-(7+rt(t,0,n).getUTCDay()-e)%7+n-1}function ot(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+st(t,n,r);return 0>=a?o=K(s=t-1)+a:a>K(t)?(s=t+1,o=a-K(t)):(s=t,o=a),{year:s,dayOfYear:o}}function at(t,e,i){var n,r,s=st(t.year(),e,i),o=d((t.dayOfYear()-s-1)/7)+1;return 1>o?n=o+ht(r=t.year()-1,e,i):o>ht(t.year(),e,i)?(n=o-ht(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function ht(t,e,i){var n=st(t,e,i),r=st(t+1,e,i);return(K(t)-n+r)/7}function lt(t,e){return t.slice(e,7).concat(t.slice(0,e))}function ut(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],h=[],l=[];for(e=0;7>e;e++)i=y([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),h.push(s),l.push(n),l.push(r),l.push(s);for(o.sort(t),a.sort(t),h.sort(t),l.sort(t),e=0;7>e;e++)a[e]=W(a[e]),h[e]=W(h[e]),l[e]=W(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ct(){return this.hours()%12||12}function dt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ft(t,e){return e._meridiemParse}function pt(t){return t?t.toLowerCase().replace("_","-"):t}function gt(i){var n=null;if(!Ze[i]&&e&&e.exports)try{n=Ge._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),mt(n)}catch(t){}return Ze[i]}function mt(t,e){var i;return t&&((i=l(e)?yt(t):vt(t,e))?Ge=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ge._abbr}function vt(t,e){if(null!==e){var i,n=Ke;if(e.abbr=t,null!=Ze[t])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ze[t]._config;else if(null!=e.parentLocale)if(null!=Ze[e.parentLocale])n=Ze[e.parentLocale]._config;else{if(null==(i=gt(e.parentLocale)))return Qe[e.parentLocale]||(Qe[e.parentLocale]=[]),Qe[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Ze[t]=new N(O(n,e)),Qe[t]&&Qe[t].forEach(function(t){vt(t.name,t.config)}),mt(t),Ze[t]}return delete Ze[t],null}function yt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ge;if(!n(t)){if(e=gt(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=pt(t[s]).split("-")).length,i=(i=pt(t[s+1]))?i.split("-"):null;0<e;){if(n=gt(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&T(r,i,!0)>=e-1)break;e--}s++}return Ge}(t)}function bt(t){var e,i=t._a;return i&&-2===b(t).overflow&&(e=0>i[1]||11<i[1]?1:1>i[2]||i[2]>tt(i[0],i[1])?2:0>i[3]||24<i[3]||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:0>i[4]||59<i[4]?4:0>i[5]||59<i[5]?5:0>i[6]||999<i[6]?6:-1,b(t)._overflowDayOfYear&&(0>e||2<e)&&(e=2),b(t)._overflowWeeks&&-1===e&&(e=7),b(t)._overflowWeekday&&-1===e&&(e=8),b(t).overflow=e),t}function _t(t,e,i){return null==t?null==e?i:e:t}function wt(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function xt(t){var e,i,n,r,s,o=[];if(!t._d){for(n=wt(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=_t(e.GG,t._a[0],at(Dt(),1,4).year),n=_t(e.W,1),(1>(r=_t(e.E,1))||7<r)&&(h=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var l=at(Dt(),s,o);i=_t(e.gg,t._a[0],l.year),n=_t(e.w,l.week),null==e.d?null==e.e?r=s:(r=e.e+s,(0>e.e||6<e.e)&&(h=!0)):(0>(r=e.d)||6<r)&&(h=!0)}1>n||n>ht(i,s,o)?b(t)._overflowWeeks=!0:null==h?(a=ot(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear):b(t)._overflowWeekday=!0}(t),null!=t._dayOfYear&&(s=_t(t._a[0],n[0]),(t._dayOfYear>K(s)||0===t._dayOfYear)&&(b(t)._overflowDayOfYear=!0),i=rt(s,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?rt:function(t,e,i,n,r,s,o){var a;return 100>t&&0<=t?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(b(t).weekdayMismatch=!0)}}function St(t){var e,i,n,r,s,o,a=t._i,h=$e.exec(a)||Je.exec(a);if(h){for(b(t).iso=!0,e=0,i=ei.length;e<i;e++)if(ei[e][1].exec(h[1])){r=ei[e][0],n=!1!==ei[e][2];break}if(null==r)return void(t._isValid=!1);if(h[3]){for(e=0,i=ii.length;e<i;e++)if(ii[e][1].exec(h[3])){s=(h[2]||" ")+ii[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(h[4]){if(!ti.exec(h[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),At(t)}else t._isValid=!1}function kt(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}function Ct(t){var e=ri.exec(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(t._i));if(e){var i=function(t,e,i,n,r,s){var o=[kt(t),We.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,i){return!t||Ue.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(b(i).weekdayMismatch=!0,i._isValid=!1,!1)}(e[1],i,t))return;t._a=i,t._tzm=function(t,e,i){if(t)return si[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(e[8],e[9],e[10]),t._d=rt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),b(t).rfc2822=!0}else t._isValid=!1}function At(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],b(t).empty=!0;var e,n,r,s,o,a=""+t._i,h=a.length,l=0;for(r=Y(t._f,t._locale).match(_e)||[],e=0;e<r.length;e++)(n=(a.match(q(s=r[e],t))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&b(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),Se[s]?(n?b(t).empty=!1:b(t).unusedTokens.push(s),X(s,n,t)):t._strict&&!n&&b(t).unusedTokens.push(s);b(t).charsLeftOver=h-l,0<a.length&&b(t).unusedInput.push(a),12>=t._a[3]&&!0===b(t).bigHour&&0<t._a[3]&&(b(t).bigHour=void 0),b(t).parsedDateParts=t._a.slice(0),b(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null==t.meridiemHour?null==t.isPM?e:((n=t.isPM(i))&&12>e&&(e+=12),n||12!==e||(e=0),e):t.meridiemHour(e,i)}(t._locale,t._a[3],t._meridiem),xt(t),bt(t)}else Ct(t);else St(t)}function Tt(t){var e=t._i,i=t._f;return t._locale=t._locale||yt(t._l),null===e||void 0===i&&""===e?w({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new S(bt(e)):(c(e)?t._d=e:n(i)?function(t){var e,i,n,r,s;if(0===t._f.length)return b(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],At(e),_(e)&&(s+=b(e).charsLeftOver,s+=10*b(e).unusedTokens.length,b(e).score=s,(null==n||s<n)&&(n=s,i=e));v(t,i||e)}(t):i?At(t):Mt(t),_(t)||(t._d=null),t))}function Mt(t){var e=t._i;l(e)?t._d=new Date(i.now()):c(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ni.exec(t._i);null===e?(St(t),!1===t._isValid&&(delete t._isValid,Ct(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):n(e)?(t._a=g(e.slice(0),function(t){return parseInt(t,10)}),xt(t)):o(e)?function(t){if(!t._d){var e=F(t._i);t._a=g([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),xt(t)}}(t):u(e)?t._d=new Date(e):i.createFromInputFallback(t)}function Et(t,e,i,r,s){var a={};return(!0===i||!1===i)&&(r=i,i=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||n(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=i,a._i=t,a._f=e,a._strict=r,function(t){var e=new S(bt(Tt(a)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}()}function Dt(t,e,i,n){return Et(t,e,i,n,!1)}function Pt(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Dt();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function Ot(t){var e=F(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,h=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ye.call(hi,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<hi.length;++n)if(t[hi[n]]){if(i)return!1;parseFloat(t[hi[n]])!==A(t[hi[n]])&&(i=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*h+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=yt(),this._bubble()}function Nt(t){return t instanceof Ot}function Lt(t){return 0>t?-1*r(-1*t):r(t)}function It(t,e){B(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+z(~~(t/60),2)+e+z(~~t%60,2)})}function Ft(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(li)||["-",0,0],r=60*n[1]+A(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Rt(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(k(t)||c(t)?t.valueOf():Dt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Dt(t).local()}function zt(t){return 15*-r(t._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function jt(t,e){var i,n,r,s=t,o=null;return Nt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:u(t)?(s={},e?s[e]=t:s.milliseconds=t):(o=ui.exec(t))?(i="-"===o[1]?-1:1,s={y:0,d:A(o[2])*i,h:A(o[3])*i,m:A(o[4])*i,s:A(o[5])*i,ms:A(Lt(1e3*o[6]))*i}):(o=ci.exec(t))?s={y:Ht(o[2],i="-"===o[1]?-1:1),M:Ht(o[3],i),w:Ht(o[4],i),d:Ht(o[5],i),h:Ht(o[6],i),m:Ht(o[7],i),s:Ht(o[8],i)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Rt(e,t),t.isBefore(e)?i=Yt(t,e):((i=Yt(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(Dt(s.from),Dt(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),n=new Ot(s),Nt(t)&&m(t,"_locale")&&(n._locale=t._locale),n}function Ht(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Yt(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Vt(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(D(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),qt(this,jt(i="string"==typeof i?+i:i,n),t),this}}function qt(t,e,n,r){var s=e._milliseconds,o=Lt(e._days),a=Lt(e._months);t.isValid()&&(r=null==r||r,a&&et(t,$(t,"Month")+a*n),o&&J(t,"Date",$(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&i.updateOffset(t,o||a))}function Wt(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(0>e-n?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Ut(t){var e;return void 0===t?this._locale._abbr:(null!=(e=yt(t))&&(this._locale=e),this)}function Gt(){return this._locale}function Xt(t,e){return(t%e+e)%e}function Kt(t,e,i){return 100>t&&0<=t?new Date(t+400,e,i)-126227808e5:new Date(t,e,i).valueOf()}function Zt(t,e,i){return 100>t&&0<=t?Date.UTC(t+400,e,i)-126227808e5:Date.UTC(t,e,i)}function Qt(t,e){B(0,[t,t.length],0,e)}function $t(t,e,i,n,r){var s;return null==t?at(this,n,r).year:(e>(s=ht(t,n,r))&&(e=s),(function(t,e,i,n,r){var s=ot(t,e,i,n,r),o=rt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}).call(this,t,e,i,n,r))}function Jt(t,e){e[6]=A(1e3*("0."+t))}function te(t){return t}function ee(t,e,i,n){var r=yt(),s=y().set(n,e);return r[i](s,t)}function ie(t,e,i){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return ee(t,e,i,"month");var n,r=[];for(n=0;12>n;n++)r[n]=ee(t,n,i,"month");return r}function ne(t,e,i,n){"boolean"==typeof t?(u(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,u(e)&&(i=e,e=void 0),e=e||"");var r=yt(),s=t?r._week.dow:0;if(null!=i)return ee(e,(i+s)%7,n,"day");var o,a=[];for(o=0;7>o;o++)a[o]=ee(e,(o+s)%7,n,"day");return a}function re(t,e,i,n){var r=jt(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function se(t){return 0>t?d(t):a(t)}function oe(t){return 4800*t/146097}function ae(t){return 146097*t/4800}function he(t){return function(){return this.as(t)}}function le(t){return function(){return this.isValid()?this._data[t]:NaN}}function ue(t){return(0<t)-(0>t)||+t}function ce(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Hi(this._milliseconds)/1e3,n=Hi(this._days),r=Hi(this._months);t=C(i/60),e=C(t/60),i%=60,t%=60;var s=C(r/12),o=r%=12,a=n,h=e,l=t,u=i?i.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var d=0>c?"-":"",f=ue(this._months)===ue(c)?"":"-",p=ue(this._days)===ue(c)?"":"-",g=ue(this._milliseconds)===ue(c)?"":"-";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(h||l||u?"T":"")+(h?g+h+"H":"")+(l?g+l+"M":"")+(u?g+u+"S":"")}var de,fe;fe=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var pe=i.momentProperties=[],ge=!1,me={};i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;var ve=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)m(t,e)&&i.push(e);return i},ye={},be={},_e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,we=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xe={},Se={},ke=/\d/,Ce=/\d\d/,Ae=/\d{3}/,Te=/\d{4}/,Me=/[+-]?\d{6}/,Ee=/\d\d?/,De=/\d\d\d\d?/,Pe=/\d\d\d\d\d\d?/,Oe=/\d{1,3}/,Ne=/\d{1,4}/,Le=/[+-]?\d{1,6}/,Ie=/\d+/,Fe=/[+-]?\d+/,Re=/Z|[+-]\d\d:?\d\d/gi,ze=/Z|[+-]\d\d(?::?\d\d)?/gi,Be=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,je={},He={};B("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),L("year","y"),R("year",1),V("Y",Fe),V("YY",Ee,Ce),V("YYYY",Ne,Te),V("YYYYY",Le,Me),V("YYYYYY",Le,Me),U(["YYYYY","YYYYYY"],0),U("YYYY",function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):A(t)}),U("YY",function(t,e){e[0]=i.parseTwoDigitYear(t)}),U("Y",function(t,e){e[0]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return A(t)+(68<A(t)?1900:2e3)};var Ye,Ve=Q("FullYear",!0);Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),R("month",8),V("M",Ee),V("MM",Ee,Ce),V("MMM",function(t,e){return e.monthsShortRegex(t)}),V("MMMM",function(t,e){return e.monthsRegex(t)}),U(["M","MM"],function(t,e){e[1]=A(t)-1}),U(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null==r?b(i).invalidMonth=t:e[1]=r});var qe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,We=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),R("week",5),R("isoWeek",5),V("w",Ee),V("ww",Ee,Ce),V("W",Ee),V("WW",Ee,Ce),G(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=A(t)}),B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),V("d",Ee),V("e",Ee),V("E",Ee),V("dd",function(t,e){return e.weekdaysMinRegex(t)}),V("ddd",function(t,e){return e.weekdaysShortRegex(t)}),V("dddd",function(t,e){return e.weekdaysRegex(t)}),G(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null==r?b(i).invalidWeekday=t:e.d=r}),G(["d","e","E"],function(t,e,i,n){e[n]=A(t)});var Ue=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];B("H",["HH",2],0,"hour"),B("h",["hh",2],0,ct),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+ct.apply(this)+z(this.minutes(),2)}),B("hmmss",0,0,function(){return""+ct.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),dt("a",!0),dt("A",!1),L("hour","h"),R("hour",13),V("a",ft),V("A",ft),V("H",Ee),V("h",Ee),V("k",Ee),V("HH",Ee,Ce),V("hh",Ee,Ce),V("kk",Ee,Ce),V("hmm",De),V("hmmss",Pe),V("Hmm",De),V("Hmmss",Pe),U(["H","HH"],3),U(["k","kk"],function(t,e){var i=A(t);e[3]=24===i?0:i}),U(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),U(["h","hh"],function(t,e,i){e[3]=A(t),b(i).bigHour=!0}),U("hmm",function(t,e,i){var n=t.length-2;e[3]=A(t.substr(0,n)),e[4]=A(t.substr(n)),b(i).bigHour=!0}),U("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=A(t.substr(0,n)),e[4]=A(t.substr(n,2)),e[5]=A(t.substr(r)),b(i).bigHour=!0}),U("Hmm",function(t,e){var i=t.length-2;e[3]=A(t.substr(0,i)),e[4]=A(t.substr(i))}),U("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[3]=A(t.substr(0,i)),e[4]=A(t.substr(i,2)),e[5]=A(t.substr(n))});var Ge,Xe=Q("Hours",!0),Ke={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:We,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Ue,meridiemParse:/[ap]\.?m?\.?/i},Ze={},Qe={},$e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ti=/Z|[+-]\d\d(?::?\d\d)?/,ei=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ii=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ni=/^\/?Date\((\-?\d+)/i,ri=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,si={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var oi=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Dt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:w()}),ai=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Dt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:w()}),hi=["year","quarter","month","week","day","hour","minute","second","millisecond"];It("Z",":"),It("ZZ",""),V("Z",ze),V("ZZ",ze),U(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ft(ze,t)});var li=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};var ui=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ci=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;jt.fn=Ot.prototype,jt.invalid=function(){return jt(NaN)};var di=Vt(1,"add"),fi=Vt(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var pi=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Qt("gggg","weekYear"),Qt("ggggg","weekYear"),Qt("GGGG","isoWeekYear"),Qt("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),V("G",Fe),V("g",Fe),V("GG",Ee,Ce),V("gg",Ee,Ce),V("GGGG",Ne,Te),V("gggg",Ne,Te),V("GGGGG",Le,Me),V("ggggg",Le,Me),G(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=A(t)}),G(["gg","GG"],function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),L("quarter","Q"),R("quarter",7),V("Q",ke),U("Q",function(t,e){e[1]=3*(A(t)-1)}),B("D",["DD",2],"Do","date"),L("date","D"),R("date",9),V("D",Ee),V("DD",Ee,Ce),V("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),U(["D","DD"],2),U("Do",function(t,e){e[2]=A(t.match(Ee)[0])});var gi=Q("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),R("dayOfYear",4),V("DDD",Oe),V("DDDD",Ae),U(["DDD","DDDD"],function(t,e,i){i._dayOfYear=A(t)}),B("m",["mm",2],0,"minute"),L("minute","m"),R("minute",14),V("m",Ee),V("mm",Ee,Ce),U(["m","mm"],4);var mi=Q("Minutes",!1);B("s",["ss",2],0,"second"),L("second","s"),R("second",15),V("s",Ee),V("ss",Ee,Ce),U(["s","ss"],5);var vi,yi=Q("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),R("millisecond",16),V("S",Oe,ke),V("SS",Oe,Ce),V("SSS",Oe,Ae),vi="SSSS";9>=vi.length;vi+="S")V(vi,Ie);for(vi="S";9>=vi.length;vi+="S")U(vi,Jt);var bi=Q("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var _i=S.prototype;_i.add=di,_i.calendar=function(t,e){var n=t||Dt(),r=Rt(n,this).startOf("day"),s=i.calendarFormat(this,r)||"sameElse",o=e&&(P(e[s])?e[s].call(this,n):e[s]);return this.format(o||this.localeData().calendar(s,this,Dt(n)))},_i.clone=function(){return new S(this)},_i.diff=function(t,e,i){var n,r,s;return this.isValid()&&(n=Rt(t,this)).isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),s="year"===(e=I(e))?Wt(this,n)/12:"month"===e?Wt(this,n):"quarter"===e?Wt(this,n)/3:"second"===e?(this-n)/1e3:"minute"===e?(this-n)/6e4:"hour"===e?(this-n)/36e5:"day"===e?(this-n-r)/864e5:"week"===e?(this-n-r)/6048e5:this-n,i?s:C(s)):NaN},_i.endOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Zt:Kt;return"year"===t?e=n(this.year()+1,0,1)-1:"quarter"===t?e=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===t?e=n(this.year(),this.month()+1,1)-1:"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()+1)-1:"hour"===t?(e=this._d.valueOf(),e+=36e5-Xt(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===t?(e=this._d.valueOf(),e+=6e4-Xt(e,6e4)-1):"second"===t&&(e=this._d.valueOf(),e+=1e3-Xt(e,1e3)-1),this._d.setTime(e),i.updateOffset(this,!0),this},_i.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)},_i.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Dt(t).isValid())?jt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_i.fromNow=function(t){return this.from(Dt(),t)},_i.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Dt(t).isValid())?jt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_i.toNow=function(t){return this.to(Dt(),t)},_i.get=function(t){return P(this[t=I(t)])?this[t]():this},_i.invalidAt=function(){return b(this).overflow},_i.isAfter=function(t,e){var i=k(t)?t:Dt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},_i.isBefore=function(t,e){var i=k(t)?t:Dt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},_i.isBetween=function(t,e,i,n){var r=k(t)?t:Dt(t),s=k(e)?e:Dt(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},_i.isSame=function(t,e){var i,n=k(t)?t:Dt(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},_i.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},_i.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},_i.isValid=function(){return _(this)},_i.lang=pi,_i.locale=Ut,_i.localeData=Gt,_i.max=ai,_i.min=oi,_i.parsingFlags=function(){return v({},b(this))},_i.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:be[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=F(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(P(this[t=I(t)]))return this[t](e);return this},_i.startOf=function(t){var e;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Zt:Kt;return"year"===t?e=n(this.year(),0,1):"quarter"===t?e=n(this.year(),this.month()-this.month()%3,1):"month"===t?e=n(this.year(),this.month(),1):"week"===t?e=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===t?e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===t||"date"===t?e=n(this.year(),this.month(),this.date()):"hour"===t?(e=this._d.valueOf(),e-=Xt(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===t?(e=this._d.valueOf(),e-=Xt(e,6e4)):"second"===t&&(e=this._d.valueOf(),e-=Xt(e,1e3)),this._d.setTime(e),i.updateOffset(this,!0),this},_i.subtract=fi,_i.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},_i.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},_i.toDate=function(){return new Date(this.valueOf())},_i.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return 0>i.year()||9999<i.year()?H(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(i,"Z")):H(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},_i.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},_i.toJSON=function(){return this.isValid()?this.toISOString():null},_i.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_i.unix=function(){return d(this.valueOf()/1e3)},_i.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_i.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_i.year=Ve,_i.isLeapYear=function(){return Z(this.year())},_i.weekYear=function(t){return $t.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_i.isoWeekYear=function(t){return $t.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},_i.quarter=_i.quarters=function(t){return null==t?a((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},_i.month=it,_i.daysInMonth=function(){return tt(this.year(),this.month())},_i.week=_i.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},_i.isoWeek=_i.isoWeeks=function(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},_i.weeksInYear=function(){var t=this.localeData()._week;return ht(this.year(),t.dow,t.doy)},_i.isoWeeksInYear=function(){return ht(this.year(),1,4)},_i.date=gi,_i.day=_i.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=function(t,e){return"string"==typeof t?isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10):t}(t,this.localeData()),this.add(t-e,"d"))},_i.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},_i.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},_i.dayOfYear=function(t){var e=r((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},_i.hour=_i.hours=Xe,_i.minute=_i.minutes=mi,_i.second=_i.seconds=yi,_i.millisecond=_i.milliseconds=bi,_i.utcOffset=function(t,e,n){var r,s=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>h(t)&&!n&&(t*=60);else if(null===(t=Ft(ze,t)))return this;return!this._isUTC&&e&&(r=zt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?qt(this,jt(t-s,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:zt(this)},_i.utc=function(t){return this.utcOffset(0,t)},_i.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(zt(this),"m")),this},_i.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ft(Re,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},_i.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Dt(t).utcOffset():0,0==(this.utcOffset()-t)%60)},_i.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_i.isLocal=function(){return!!this.isValid()&&!this._isUTC},_i.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_i.isUtc=Bt,_i.isUTC=Bt,_i.zoneAbbr=function(){return this._isUTC?"UTC":""},_i.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_i.dates=E("dates accessor is deprecated. Use date instead.",gi),_i.months=E("months accessor is deprecated. Use month instead",it),_i.years=E("years accessor is deprecated. Use year instead",Ve),_i.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)}),_i.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t={};if(x(t,this),(t=Tt(t))._a){var e=t._isUTC?y(t._a):Dt(t._a);this._isDSTShifted=this.isValid()&&0<T(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var wi=N.prototype;wi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return P(n)?n.call(e,i):n},wi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},wi.invalidDate=function(){return this._invalidDate},wi.ordinal=function(t){return this._ordinal.replace("%d",t)},wi.preparse=te,wi.postformat=te,wi.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return P(r)?r(t,e,i,n):r.replace(/%d/i,t)},wi.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return P(i)?i(e):i.replace(/%s/i,e)},wi.set=function(t){var e,i;for(i in t)P(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},wi.months=function(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||qe).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone},wi.monthsShort=function(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[qe.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},wi.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return(function(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)s=y([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1===(r=Ye.call(this._shortMonthsParse,o))?null:r:-1===(r=Ye.call(this._longMonthsParse,o))?null:r:"MMM"===e?-1!==(r=Ye.call(this._shortMonthsParse,o))?r:-1===(r=Ye.call(this._longMonthsParse,o))?null:r:-1!==(r=Ye.call(this._longMonthsParse,o))?r:-1===(r=Ye.call(this._shortMonthsParse,o))?null:r}).call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(r=y([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},wi.monthsRegex=function(t){return this._monthsParseExact?(m(this,"_monthsRegex")||nt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Be),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},wi.monthsShortRegex=function(t){return this._monthsParseExact?(m(this,"_monthsRegex")||nt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Be),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},wi.week=function(t){return at(t,this._week.dow,this._week.doy).week},wi.firstDayOfYear=function(){return this._week.doy},wi.firstDayOfWeek=function(){return this._week.dow},wi.weekdays=function(t,e){var i=n(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?lt(i,this._week.dow):t?i[t.day()]:i},wi.weekdaysMin=function(t){return!0===t?lt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},wi.weekdaysShort=function(t){return!0===t?lt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},wi.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return(function(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)s=y([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1===(r=Ye.call(this._weekdaysParse,o))?null:r:"ddd"===e?-1===(r=Ye.call(this._shortWeekdaysParse,o))?null:r:-1===(r=Ye.call(this._minWeekdaysParse,o))?null:r:"dddd"===e?-1!==(r=Ye.call(this._weekdaysParse,o))?r:-1!==(r=Ye.call(this._shortWeekdaysParse,o))?r:-1===(r=Ye.call(this._minWeekdaysParse,o))?null:r:"ddd"===e?-1!==(r=Ye.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ye.call(this._weekdaysParse,o))?r:-1===(r=Ye.call(this._minWeekdaysParse,o))?null:r:-1!==(r=Ye.call(this._minWeekdaysParse,o))?r:-1!==(r=Ye.call(this._weekdaysParse,o))?r:-1===(r=Ye.call(this._shortWeekdaysParse,o))?null:r}).call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(r=y([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},wi.weekdaysRegex=function(t){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||ut.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=Be),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},wi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||ut.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},wi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||ut.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},wi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},wi.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},mt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===A(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",mt),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",yt);var xi=h,Si=he("ms"),ki=he("s"),Ci=he("m"),Ai=he("h"),Ti=he("d"),Mi=he("w"),Ei=he("M"),Di=he("Q"),Pi=he("y"),Oi=le("milliseconds"),Ni=le("seconds"),Li=le("minutes"),Ii=le("hours"),Fi=le("days"),Ri=le("months"),zi=le("years"),Bi=r,ji={ss:44,s:45,m:45,h:22,d:26,M:11},Hi=h,Yi=Ot.prototype;return Yi.isValid=function(){return this._isValid},Yi.abs=function(){var t=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),t.milliseconds=xi(t.milliseconds),t.seconds=xi(t.seconds),t.minutes=xi(t.minutes),t.hours=xi(t.hours),t.months=xi(t.months),t.years=xi(t.years),this},Yi.add=function(t,e){return re(this,t,e,1)},Yi.subtract=function(t,e){return re(this,t,e,-1)},Yi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=I(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+oe(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+r(ae(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return d(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Yi.asMilliseconds=Si,Yi.asSeconds=ki,Yi.asMinutes=Ci,Yi.asHours=Ai,Yi.asDays=Ti,Yi.asWeeks=Mi,Yi.asMonths=Ei,Yi.asQuarters=Di,Yi.asYears=Pi,Yi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12):NaN},Yi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,h=this._data;return 0<=s&&0<=o&&0<=a||0>=s&&0>=o&&0>=a||(s+=864e5*se(ae(a)+o),o=0,a=0),h.milliseconds=s%1e3,t=C(s/1e3),h.seconds=t%60,e=C(t/60),h.minutes=e%60,i=C(e/60),h.hours=i%24,o+=C(i/24),a+=r=C(oe(o)),o-=se(ae(r)),n=C(a/12),a%=12,h.days=o,h.months=a,h.years=n,this},Yi.clone=function(){return jt(this)},Yi.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Yi.milliseconds=Oi,Yi.seconds=Ni,Yi.minutes=Li,Yi.hours=Ii,Yi.days=Fi,Yi.weeks=function(){return C(this.days()/7)},Yi.months=Ri,Yi.years=zi,Yi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=jt(t).abs(),r=Bi(n.as("s")),s=Bi(n.as("m")),o=Bi(n.as("h")),a=Bi(n.as("d")),h=Bi(n.as("M")),l=Bi(n.as("y")),u=r<=ji.ss&&["s",r]||r<ji.s&&["ss",r]||1>=s&&["m"]||s<ji.m&&["mm",s]||1>=o&&["h"]||o<ji.h&&["hh",o]||1>=a&&["d"]||a<ji.d&&["dd",a]||1>=h&&["M"]||h<ji.M&&["MM",h]||1>=l&&["y"]||["yy",l];return u[2]=e,u[3]=0<+t,u[4]=i,(function(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}).apply(null,u)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Yi.toISOString=ce,Yi.toString=ce,Yi.toJSON=ce,Yi.locale=Ut,Yi.localeData=Gt,Yi.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ce),Yi.lang=pi,B("X",0,0,"unix"),B("x",0,0,"valueOf"),V("x",Fe),V("X",/[+-]?\d+(\.\d{1,3})?/),U("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),U("x",function(t,e,i){i._d=new Date(A(t))}),i.version="2.24.0",de=Dt,i.fn=_i,i.min=function(){var t=[].slice.call(arguments,0);return Pt("isBefore",t)},i.max=function(){var t=[].slice.call(arguments,0);return Pt("isAfter",t)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=y,i.unix=function(t){return Dt(1e3*t)},i.months=function(t,e){return ie(t,e,"months")},i.isDate=c,i.locale=mt,i.invalid=w,i.duration=jt,i.isMoment=k,i.weekdays=function(t,e,i){return ne(t,e,i,"weekdays")},i.parseZone=function(){return Dt.apply(null,arguments).parseZone()},i.localeData=yt,i.isDuration=Nt,i.monthsShort=function(t,e){return ie(t,e,"monthsShort")},i.weekdaysMin=function(t,e,i){return ne(t,e,i,"weekdaysMin")},i.defineLocale=vt,i.updateLocale=function(t,e){if(null!=e){var i,n,r=Ke;null!=(n=gt(t))&&(r=n._config),(i=new N(e=O(r,e))).parentLocale=Ze[t],Ze[t]=i,mt(t)}else null!=Ze[t]&&(null==Ze[t].parentLocale?null!=Ze[t]&&delete Ze[t]:Ze[t]=Ze[t].parentLocale);return Ze[t]},i.locales=function(){return ve(Ze)},i.weekdaysShort=function(t,e,i){return ne(t,e,i,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(t){return void 0===t?Bi:"function"==typeof t&&(Bi=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==ji[t]&&(void 0===e?ji[t]:(ji[t]=e,"s"===t&&(ji.ss=e-1),!0))},i.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"},i.prototype=_i,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}),es=[],is=0;256>is;is++)es[is]=(is+256).toString(16).substr(1);for(var ns=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var t,i=0;16>i;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=255&t>>>((3&i)<<3);return e}}(),rs=[],ss=0;256>ss;ss++)rs[ss]=(ss+256).toString(16).substr(1);ns();for(var os=/^\/?Date\((-?\d+)/i,as=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ls=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,us=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i,cs=Object.assign,ds=Object.values,fs={asBoolean:function(t,e){return"function"==typeof t&&(t=t()),null==t?e||null:0!=t},asNumber:function(t,e){return"function"==typeof t&&(t=t()),null==t?e||null:+t||e||null},asString:function(t,e){return"function"==typeof t&&(t=t()),null==t?e||null:t+""},asSize:function(t,e){return"function"==typeof t&&(t=t()),x(t)?t:_(t)?t+"px":e||null},asElement:function(t,e){return"function"==typeof t&&(t=t()),t||e||null}},ps={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),n=i[0].trim(),r=i[1].trim();e[n]=r}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}},gs={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}},ms=Object.freeze({isNumber:_,recursiveDOMDelete:w,isString:x,isObject:S,isDate:k,isMoment:C,fillIfDefined:T,extend:cs,selectiveExtend:M,selectiveDeepExtend:E,selectiveNotDeepExtend:D,deepExtend:P,equalArray:O,convert:N,getType:L,copyAndExtendArray:I,copyArray:F,getAbsoluteLeft:R,getAbsoluteRight:z,getAbsoluteTop:B,addClassName:j,removeClassName:H,forEach:Y,toArray:ds,updateProperty:V,throttle:q,addEventListener:W,removeEventListener:U,preventDefault:G,getTarget:X,hasParent:K,option:fs,hexToRGB:Z,overrideOpacity:Q,RGBToHex:$,parseColor:J,RGBToHSV:tt,addCssText:et,removeCssText:it,HSVToRGB:nt,HSVToHex:rt,hexToHSV:st,isValidHex:ot,isValidRGB:at,isValidRGBA:ht,selectiveBridgeObject:lt,bridgeObject:ut,insertSort:ct,mergeOptions:dt,binarySearchCustom:ft,binarySearchValue:pt,easingFunctions:gs,getScrollBarWidth:gt,topMost:mt,randomUUID:b}),vs=Object.freeze({default:ms,HSVToHex:rt,HSVToRGB:nt,RGBToHSV:tt,RGBToHex:$,addClassName:j,addCssText:et,addEventListener:W,binarySearchCustom:ft,binarySearchValue:pt,bridgeObject:ut,convert:N,copyAndExtendArray:I,copyArray:F,deepExtend:P,easingFunctions:gs,equalArray:O,extend:cs,fillIfDefined:T,forEach:Y,getAbsoluteLeft:R,getAbsoluteRight:z,getAbsoluteTop:B,getScrollBarWidth:gt,getTarget:X,getType:L,hasParent:K,hexToHSV:st,hexToRGB:Z,insertSort:ct,isDate:k,isMoment:C,isNumber:_,isObject:S,isString:x,isValidHex:ot,isValidRGB:at,isValidRGBA:ht,mergeOptions:dt,option:fs,overrideOpacity:Q,parseColor:J,preventDefault:G,randomUUID:b,recursiveDOMDelete:w,removeClassName:H,removeCssText:it,removeEventListener:U,selectiveBridgeObject:lt,selectiveDeepExtend:E,selectiveExtend:M,selectiveNotDeepExtend:D,throttle:q,toArray:ds,topMost:mt,updateProperty:V}),ys=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},bs=vt(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},i(n)}t.exports=i}),_s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ws=function(t,e,i){return e&&yt(t.prototype,e),i&&yt(t,i),t},xs=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},Ss=function(t,e){return!e||"object"!==bs(e)&&"function"!=typeof e?xs(t):e},ks=vt(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(i)}t.exports=e}),Cs=vt(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e}),As=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cs(t,e)},Ts=[],Ms=0;256>Ms;Ms++)Ts[Ms]=(Ms+256).toString(16).substr(1);for(var Es=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var t,i=0;16>i;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=255&t>>>((3&i)<<3);return e}}(),Ds=[],Ps=0;256>Ps;Ps++)Ds[Ps]=(Ps+256).toString(16).substr(1);Es(),"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self||self:global:window:globalThis;for(var Os=function(t,e){return function(t){t.exports=function(){function e(){return ce.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){for(var i in e)g(e,i)&&(t[i]=e[i]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function v(t,e,i,n){return Mt(t,e,i,n,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function b(t){if(null==t._isValid){var e=y(t),i=de.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function _(t){var e=v(NaN);return null==t?y(e).userInvalidated=!0:m(y(e),t),e}function w(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=y(e)),o(e._locale)||(t._locale=e._locale),0<fe.length)for(i=0;i<fe.length;i++)o(r=e[n=fe[i]])||(t[n]=r);return t}function x(t){w(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===pe&&(pe=!0,e.updateOffset(this),pe=!1)}function S(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function k(t){return 0>t?a(t)||0:d(t)}function C(t){var e=+t,i=0;return 0!=e&&isFinite(e)&&(i=k(e)),i}function A(t,e,i){var n,r=p(t.length,e.length),s=h(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&C(t[n])!==C(e[n]))&&o++;return o+s}function T(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,i){var n=!0;return m(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}T(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function E(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),ge[t]||(T(i),ge[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var i,r=m({},t);for(i in e)g(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},m(r[i],t[i]),m(r[i],e[i])):null==e[i]?delete r[i]:r[i]=e[i]);for(i in t)g(t,i)&&!g(e,i)&&n(t[i])&&(r[i]=m({},r[i]));return r}function O(t){null!=t&&this.set(t)}function N(t,e){var i=t.toLowerCase();ve[i]=ve[i+"s"]=ve[e]=t}function L(t){return"string"==typeof t?ve[t]||ve[t.toLowerCase()]:void 0}function I(t){var e,i,n={};for(i in t)g(t,i)&&(e=L(i))&&(n[e]=t[i]);return n}function F(t,e){ye[t]=e}function R(t,e,i){var n=""+h(t);return(0<=t?i?"+":"":"-")+s(10,f(0,e-n.length)).toString().substr(1)+n}function z(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(xe[t]=r),e&&(xe[e[0]]=function(){return R(r.apply(this,arguments),e[1],e[2])}),i&&(xe[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function j(t,e){return t.isValid()?(e=H(e,t.localeData()),we[e]=we[e]||function(t){var e,i,n=t.match(be);for(e=0,i=n.length;e<i;e++)n[e]=xe[n[e]]?xe[n[e]]:B(n[e]);return function(e){var r,s="";for(r=0;r<i;r++)s+=D(n[r])?n[r].call(e,t):n[r];return s}}(e),we[e](t)):t.localeData().invalidDate()}function H(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(_e.lastIndex=0;0<=n&&_e.test(t);)t=t.replace(_e,i),_e.lastIndex=0,n-=1;return t}function Y(t,e,i){Be[t]=D(e)?e:function(t){return t&&i?i:e}}function V(t,e){return g(Be,t)?Be[t](e._strict,e._locale):new RegExp(function(t){return q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}(t))}function q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),l(e)&&(n=function(t,i){i[e]=C(t)}),i=0;i<t.length;i++)je[t[i]]=n}function U(t,e){W(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function G(t,e,i){null!=e&&g(je,t)&&je[t](e,i._a,i,t)}function X(t){return K(t)?366:365}function K(t){return 0==t%4&&0!=t%100||0==t%400}function Z(t,i){return function(n){return null==n?Q(this,t):($(this,t,n),e.updateOffset(this,i),this)}}function Q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function $(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&K(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),J(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function J(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?K(t)?29:28:31-i%7%2}function tt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return i=p(t.date(),J(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function et(t){return null==t?Q(this,"Month"):(tt(this,t),e.updateOffset(this,!0),this)}function it(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;12>e;e++)i=v([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;12>e;e++)n[e]=q(n[e]),r[e]=q(r[e]);for(e=0;24>e;e++)s[e]=q(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function nt(t){var e;if(100>t&&0<=t){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function rt(t,e,i){var n=7+e-i;return-(7+nt(t,0,n).getUTCDay()-e)%7+n-1}function st(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+rt(t,n,r);return 0>=a?o=X(s=t-1)+a:a>X(t)?(s=t+1,o=a-X(t)):(s=t,o=a),{year:s,dayOfYear:o}}function ot(t,e,i){var n,r,s=rt(t.year(),e,i),o=d((t.dayOfYear()-s-1)/7)+1;return 1>o?n=o+at(r=t.year()-1,e,i):o>at(t.year(),e,i)?(n=o-at(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function at(t,e,i){var n=rt(t,e,i),r=rt(t+1,e,i);return(X(t)-n+r)/7}function ht(t,e){return t.slice(e,7).concat(t.slice(0,e))}function lt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],h=[],l=[];for(e=0;7>e;e++)i=v([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),h.push(s),l.push(n),l.push(r),l.push(s);for(o.sort(t),a.sort(t),h.sort(t),l.sort(t),e=0;7>e;e++)a[e]=q(a[e]),h[e]=q(h[e]),l[e]=q(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ut(){return this.hours()%12||12}function ct(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function dt(t,e){return e._meridiemParse}function ft(t){return t?t.toLowerCase().replace("_","-"):t}function pt(e){var i=null;if(!Ke[e]&&t&&t.exports)try{i=Ue._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),gt(i)}catch(e){}return Ke[e]}function gt(t,e){var i;return t&&((i=o(e)?vt(t):mt(t,e))?Ue=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ue._abbr}function mt(t,e){if(null!==e){var i,n=Xe;if(e.abbr=t,null!=Ke[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ke[t]._config;else if(null!=e.parentLocale)if(null!=Ke[e.parentLocale])n=Ke[e.parentLocale]._config;else{if(null==(i=pt(e.parentLocale)))return Ze[e.parentLocale]||(Ze[e.parentLocale]=[]),Ze[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Ke[t]=new O(P(n,e)),Ze[t]&&Ze[t].forEach(function(t){mt(t.name,t.config)}),gt(t),Ke[t]}return delete Ke[t],null}function vt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ue;if(!i(t)){if(e=pt(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=ft(t[s]).split("-")).length,i=(i=ft(t[s+1]))?i.split("-"):null;0<e;){if(n=pt(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&A(r,i,!0)>=e-1)break;e--}s++}return Ue}(t)}function yt(t){var e,i=t._a;return i&&-2===y(t).overflow&&(e=0>i[1]||11<i[1]?1:1>i[2]||i[2]>J(i[0],i[1])?2:0>i[3]||24<i[3]||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:0>i[4]||59<i[4]?4:0>i[5]||59<i[5]?5:0>i[6]||999<i[6]?6:-1,y(t)._overflowDayOfYear&&(0>e||2<e)&&(e=2),y(t)._overflowWeeks&&-1===e&&(e=7),y(t)._overflowWeekday&&-1===e&&(e=8),y(t).overflow=e),t}function bt(t,e,i){return null==t?null==e?i:e:t}function _t(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function wt(t){var e,i,n,r,s,o=[];if(!t._d){for(n=_t(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=bt(e.GG,t._a[0],ot(Et(),1,4).year),n=bt(e.W,1),(1>(r=bt(e.E,1))||7<r)&&(h=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var l=ot(Et(),s,o);i=bt(e.gg,t._a[0],l.year),n=bt(e.w,l.week),null==e.d?null==e.e?r=s:(r=e.e+s,(0>e.e||6<e.e)&&(h=!0)):(0>(r=e.d)||6<r)&&(h=!0)}1>n||n>at(i,s,o)?y(t)._overflowWeeks=!0:null==h?(a=st(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear):y(t)._overflowWeekday=!0}(t),null!=t._dayOfYear&&(s=bt(t._a[0],n[0]),(t._dayOfYear>X(s)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),i=nt(s,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?nt:function(t,e,i,n,r,s,o){var a;return 100>t&&0<=t?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(y(t).weekdayMismatch=!0)}}function xt(t){var e,i,n,r,s,o,a=t._i,h=Qe.exec(a)||$e.exec(a);if(h){for(y(t).iso=!0,e=0,i=ti.length;e<i;e++)if(ti[e][1].exec(h[1])){r=ti[e][0],n=!1!==ti[e][2];break}if(null==r)return void(t._isValid=!1);if(h[3]){for(e=0,i=ei.length;e<i;e++)if(ei[e][1].exec(h[3])){s=(h[2]||" ")+ei[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(h[4]){if(!Je.exec(h[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),Ct(t)}else t._isValid=!1}function St(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}function kt(t){var e=ni.exec(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(t._i));if(e){var i=function(t,e,i,n,r,s){var o=[St(t),qe.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,i){return!t||We.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(y(i).weekdayMismatch=!0,i._isValid=!1,!1)}(e[1],i,t))return;t._a=i,t._tzm=function(t,e,i){if(t)return ri[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(e[8],e[9],e[10]),t._d=nt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Ct(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],y(t).empty=!0;var i,n,r,s,o,a=""+t._i,h=a.length,l=0;for(r=H(t._f,t._locale).match(be)||[],i=0;i<r.length;i++)(n=(a.match(V(s=r[i],t))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),xe[s]?(n?y(t).empty=!1:y(t).unusedTokens.push(s),G(s,n,t)):t._strict&&!n&&y(t).unusedTokens.push(s);y(t).charsLeftOver=h-l,0<a.length&&y(t).unusedInput.push(a),12>=t._a[3]&&!0===y(t).bigHour&&0<t._a[3]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null==t.meridiemHour?null==t.isPM?e:((n=t.isPM(i))&&12>e&&(e+=12),n||12!==e||(e=0),e):t.meridiemHour(e,i)}(t._locale,t._a[3],t._meridiem),wt(t),yt(t)}else kt(t);else xt(t)}function At(t){var e=t._i,n=t._f;return t._locale=t._locale||vt(t._l),null===e||void 0===n&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new x(yt(e)):(u(e)?t._d=e:i(n)?function(t){var e,i,n,r,s;if(0===t._f.length)return y(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Ct(e),b(e)&&(s+=y(e).charsLeftOver,s+=10*y(e).unusedTokens.length,y(e).score=s,(null==n||s<n)&&(n=s,i=e));m(t,i||e)}(t):n?Ct(t):Tt(t),b(t)||(t._d=null),t))}function Tt(t){var r=t._i;o(r)?t._d=new Date(e.now()):u(r)?t._d=new Date(r.valueOf()):"string"==typeof r?function(t){var i=ii.exec(t._i);null===i?(xt(t),!1===t._isValid&&(delete t._isValid,kt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+i[1])}(t):i(r)?(t._a=c(r.slice(0),function(t){return parseInt(t,10)}),wt(t)):n(r)?function(t){if(!t._d){var e=I(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),wt(t)}}(t):l(r)?t._d=new Date(r):e.createFromInputFallback(t)}function Mt(t,e,r,s,o){var a={};return(!0===r||!1===r)&&(s=r,r=void 0),(n(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=r,a._i=t,a._f=e,a._strict=s,function(t){var e=new x(yt(At(a)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}()}function Et(t,e,i,n){return Mt(t,e,i,n,!1)}function Dt(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Et();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Pt(t){var e=I(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,h=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===He.call(ai,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<ai.length;++n)if(t[ai[n]]){if(i)return!1;parseFloat(t[ai[n]])!==C(t[ai[n]])&&(i=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*h+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=vt(),this._bubble()}function Ot(t){return t instanceof Pt}function Nt(t){return 0>t?-1*r(-1*t):r(t)}function Lt(t,e){z(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+R(~~(t/60),2)+e+R(~~t%60,2)})}function It(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(hi)||["-",0,0],r=60*n[1]+C(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Ft(t,i){var n,r;return i._isUTC?(n=i.clone(),r=(S(t)||u(t)?t.valueOf():Et(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),e.updateOffset(n,!1),n):Et(t).local()}function Rt(t){return 15*-r(t._d.getTimezoneOffset()/15)}function zt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Bt(t,e){var i,n,r,s=t,o=null;return Ot(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(s={},e?s[e]=t:s.milliseconds=t):(o=li.exec(t))?(i="-"===o[1]?-1:1,s={y:0,d:C(o[2])*i,h:C(o[3])*i,m:C(o[4])*i,s:C(o[5])*i,ms:C(Nt(1e3*o[6]))*i}):(o=ui.exec(t))?s={y:jt(o[2],i="-"===o[1]?-1:1),M:jt(o[3],i),w:jt(o[4],i),d:jt(o[5],i),h:jt(o[6],i),m:jt(o[7],i),s:jt(o[8],i)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Ft(e,t),t.isBefore(e)?i=Ht(t,e):((i=Ht(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(Et(s.from),Et(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),n=new Pt(s),Ot(t)&&g(t,"_locale")&&(n._locale=t._locale),n}function jt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ht(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Yt(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Vt(this,Bt(i="string"==typeof i?+i:i,n),t),this}}function Vt(t,i,n,r){var s=i._milliseconds,o=Nt(i._days),a=Nt(i._months);t.isValid()&&(r=null==r||r,a&&tt(t,Q(t,"Month")+a*n),o&&$(t,"Date",Q(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&e.updateOffset(t,o||a))}function qt(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(0>e-n?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Wt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=vt(t))&&(this._locale=e),this)}function Ut(){return this._locale}function Gt(t,e){return(t%e+e)%e}function Xt(t,e,i){return 100>t&&0<=t?new Date(t+400,e,i)-126227808e5:new Date(t,e,i).valueOf()}function Kt(t,e,i){return 100>t&&0<=t?Date.UTC(t+400,e,i)-126227808e5:Date.UTC(t,e,i)}function Zt(t,e){z(0,[t,t.length],0,e)}function Qt(t,e,i,n,r){var s;return null==t?ot(this,n,r).year:(e>(s=at(t,n,r))&&(e=s),(function(t,e,i,n,r){var s=st(t,e,i,n,r),o=nt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}).call(this,t,e,i,n,r))}function $t(t,e){e[6]=C(1e3*("0."+t))}function Jt(t){return t}function te(t,e,i,n){var r=vt(),s=v().set(n,e);return r[i](s,t)}function ee(t,e,i){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return te(t,e,i,"month");var n,r=[];for(n=0;12>n;n++)r[n]=te(t,n,i,"month");return r}function ie(t,e,i,n){"boolean"==typeof t?(l(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,l(e)&&(i=e,e=void 0),e=e||"");var r=vt(),s=t?r._week.dow:0;if(null!=i)return te(e,(i+s)%7,n,"day");var o,a=[];for(o=0;7>o;o++)a[o]=te(e,(o+s)%7,n,"day");return a}function ne(t,e,i,n){var r=Bt(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function re(t){return 0>t?d(t):a(t)}function se(t){return 4800*t/146097}function oe(t){return 146097*t/4800}function ae(t){return function(){return this.as(t)}}function he(t){return function(){return this.isValid()?this._data[t]:NaN}}function le(t){return(0<t)-(0>t)||+t}function ue(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=ji(this._milliseconds)/1e3,n=ji(this._days),r=ji(this._months);t=k(i/60),e=k(t/60),i%=60,t%=60;var s=k(r/12),o=r%=12,a=n,h=e,l=t,u=i?i.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var d=0>c?"-":"",f=le(this._months)===le(c)?"":"-",p=le(this._days)===le(c)?"":"-",g=le(this._milliseconds)===le(c)?"":"-";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(h||l||u?"T":"")+(h?g+h+"H":"")+(l?g+l+"M":"")+(u?g+u+"S":"")}var ce,de;de=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var fe=e.momentProperties=[],pe=!1,ge={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var me=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)g(t,e)&&i.push(e);return i},ve={},ye={},be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_e=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,we={},xe={},Se=/\d/,ke=/\d\d/,Ce=/\d{3}/,Ae=/\d{4}/,Te=/[+-]?\d{6}/,Me=/\d\d?/,Ee=/\d\d\d\d?/,De=/\d\d\d\d\d\d?/,Pe=/\d{1,3}/,Oe=/\d{1,4}/,Ne=/[+-]?\d{1,6}/,Le=/\d+/,Ie=/[+-]?\d+/,Fe=/Z|[+-]\d\d:?\d\d/gi,Re=/Z|[+-]\d\d(?::?\d\d)?/gi,ze=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Be={},je={};z("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),N("year","y"),F("year",1),Y("Y",Ie),Y("YY",Me,ke),Y("YYYY",Oe,Ae),Y("YYYYY",Ne,Te),Y("YYYYYY",Ne,Te),W(["YYYYY","YYYYYY"],0),W("YYYY",function(t,i){i[0]=2===t.length?e.parseTwoDigitYear(t):C(t)}),W("YY",function(t,i){i[0]=e.parseTwoDigitYear(t)}),W("Y",function(t,e){e[0]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var He,Ye=Z("FullYear",!0);He=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),F("month",8),Y("M",Me),Y("MM",Me,ke),Y("MMM",function(t,e){return e.monthsShortRegex(t)}),Y("MMMM",function(t,e){return e.monthsRegex(t)}),W(["M","MM"],function(t,e){e[1]=C(t)-1}),W(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null==r?y(i).invalidMonth=t:e[1]=r});var Ve=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),F("week",5),F("isoWeek",5),Y("w",Me),Y("ww",Me,ke),Y("W",Me),Y("WW",Me,ke),U(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=C(t)}),z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),Y("d",Me),Y("e",Me),Y("E",Me),Y("dd",function(t,e){return e.weekdaysMinRegex(t)}),Y("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Y("dddd",function(t,e){return e.weekdaysRegex(t)}),U(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null==r?y(i).invalidWeekday=t:e.d=r}),U(["d","e","E"],function(t,e,i,n){e[n]=C(t)});var We=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];z("H",["HH",2],0,"hour"),z("h",["hh",2],0,ut),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+ut.apply(this)+R(this.minutes(),2)}),z("hmmss",0,0,function(){return""+ut.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),ct("a",!0),ct("A",!1),N("hour","h"),F("hour",13),Y("a",dt),Y("A",dt),Y("H",Me),Y("h",Me),Y("k",Me),Y("HH",Me,ke),Y("hh",Me,ke),Y("kk",Me,ke),Y("hmm",Ee),Y("hmmss",De),Y("Hmm",Ee),Y("Hmmss",De),W(["H","HH"],3),W(["k","kk"],function(t,e){var i=C(t);e[3]=24===i?0:i}),W(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),W(["h","hh"],function(t,e,i){e[3]=C(t),y(i).bigHour=!0}),W("hmm",function(t,e,i){var n=t.length-2;e[3]=C(t.substr(0,n)),e[4]=C(t.substr(n)),y(i).bigHour=!0}),W("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=C(t.substr(0,n)),e[4]=C(t.substr(n,2)),e[5]=C(t.substr(r)),y(i).bigHour=!0}),W("Hmm",function(t,e){var i=t.length-2;e[3]=C(t.substr(0,i)),e[4]=C(t.substr(i))}),W("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[3]=C(t.substr(0,i)),e[4]=C(t.substr(i,2)),e[5]=C(t.substr(n))});var Ue,Ge=Z("Hours",!0),Xe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:qe,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},Ke={},Ze={},Qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ei=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ii=/^\/?Date\((\-?\d+)/i,ni=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ri={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var si=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),oi=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),ai=["year","quarter","month","week","day","hour","minute","second","millisecond"];Lt("Z",":"),Lt("ZZ",""),Y("Z",Re),Y("ZZ",Re),W(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=It(Re,t)});var hi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var li=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ui=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Bt.fn=Pt.prototype,Bt.invalid=function(){return Bt(NaN)};var ci=Yt(1,"add"),di=Yt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var fi=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Zt("gggg","weekYear"),Zt("ggggg","weekYear"),Zt("GGGG","isoWeekYear"),Zt("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),Y("G",Ie),Y("g",Ie),Y("GG",Me,ke),Y("gg",Me,ke),Y("GGGG",Oe,Ae),Y("gggg",Oe,Ae),Y("GGGGG",Ne,Te),Y("ggggg",Ne,Te),U(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=C(t)}),U(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),N("quarter","Q"),F("quarter",7),Y("Q",Se),W("Q",function(t,e){e[1]=3*(C(t)-1)}),z("D",["DD",2],"Do","date"),N("date","D"),F("date",9),Y("D",Me),Y("DD",Me,ke),Y("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),W(["D","DD"],2),W("Do",function(t,e){e[2]=C(t.match(Me)[0])});var pi=Z("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),F("dayOfYear",4),Y("DDD",Pe),Y("DDDD",Ce),W(["DDD","DDDD"],function(t,e,i){i._dayOfYear=C(t)}),z("m",["mm",2],0,"minute"),N("minute","m"),F("minute",14),Y("m",Me),Y("mm",Me,ke),W(["m","mm"],4);var gi=Z("Minutes",!1);z("s",["ss",2],0,"second"),N("second","s"),F("second",15),Y("s",Me),Y("ss",Me,ke),W(["s","ss"],5);var mi,vi=Z("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),F("millisecond",16),Y("S",Pe,Se),Y("SS",Pe,ke),Y("SSS",Pe,Ce),mi="SSSS";9>=mi.length;mi+="S")Y(mi,Le);for(mi="S";9>=mi.length;mi+="S")W(mi,$t);var yi=Z("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var bi=x.prototype;bi.add=ci,bi.calendar=function(t,i){var n=t||Et(),r=Ft(n,this).startOf("day"),s=e.calendarFormat(this,r)||"sameElse",o=i&&(D(i[s])?i[s].call(this,n):i[s]);return this.format(o||this.localeData().calendar(s,this,Et(n)))},bi.clone=function(){return new x(this)},bi.diff=function(t,e,i){var n,r,s;return this.isValid()&&(n=Ft(t,this)).isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),s="year"===(e=L(e))?qt(this,n)/12:"month"===e?qt(this,n):"quarter"===e?qt(this,n)/3:"second"===e?(this-n)/1e3:"minute"===e?(this-n)/6e4:"hour"===e?(this-n)/36e5:"day"===e?(this-n-r)/864e5:"week"===e?(this-n-r)/6048e5:this-n,i?s:k(s)):NaN},bi.endOf=function(t){var i;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Kt:Xt;return"year"===t?i=n(this.year()+1,0,1)-1:"quarter"===t?i=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===t?i=n(this.year(),this.month()+1,1)-1:"week"===t?i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===t?i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===t||"date"===t?i=n(this.year(),this.month(),this.date()+1)-1:"hour"===t?(i=this._d.valueOf(),i+=36e5-Gt(i+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===t?(i=this._d.valueOf(),i+=6e4-Gt(i,6e4)-1):"second"===t&&(i=this._d.valueOf(),i+=1e3-Gt(i,1e3)-1),this._d.setTime(i),e.updateOffset(this,!0),this},bi.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=j(this,t);return this.localeData().postformat(i)},bi.from=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||Et(t).isValid())?Bt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},bi.fromNow=function(t){return this.from(Et(),t)},bi.to=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||Et(t).isValid())?Bt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},bi.toNow=function(t){return this.to(Et(),t)},bi.get=function(t){return D(this[t=L(t)])?this[t]():this},bi.invalidAt=function(){return y(this).overflow},bi.isAfter=function(t,e){var i=S(t)?t:Et(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},bi.isBefore=function(t,e){var i=S(t)?t:Et(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},bi.isBetween=function(t,e,i,n){var r=S(t)?t:Et(t),s=S(e)?e:Et(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},bi.isSame=function(t,e){var i,n=S(t)?t:Et(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},bi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},bi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},bi.isValid=function(){return b(this)},bi.lang=fi,bi.locale=Wt,bi.localeData=Ut,bi.max=oi,bi.min=si,bi.parsingFlags=function(){return m({},y(this))},bi.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:ye[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(D(this[t=L(t)]))return this[t](e);return this},bi.startOf=function(t){var i;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Kt:Xt;return"year"===t?i=n(this.year(),0,1):"quarter"===t?i=n(this.year(),this.month()-this.month()%3,1):"month"===t?i=n(this.year(),this.month(),1):"week"===t?i=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===t?i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===t||"date"===t?i=n(this.year(),this.month(),this.date()):"hour"===t?(i=this._d.valueOf(),i-=Gt(i+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===t?(i=this._d.valueOf(),i-=Gt(i,6e4)):"second"===t&&(i=this._d.valueOf(),i-=Gt(i,1e3)),this._d.setTime(i),e.updateOffset(this,!0),this},bi.subtract=di,bi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},bi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},bi.toDate=function(){return new Date(this.valueOf())},bi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return 0>i.year()||9999<i.year()?j(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(i,"Z")):j(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},bi.toJSON=function(){return this.isValid()?this.toISOString():null},bi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bi.unix=function(){return d(this.valueOf()/1e3)},bi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bi.year=Ye,bi.isLeapYear=function(){return K(this.year())},bi.weekYear=function(t){return Qt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bi.isoWeekYear=function(t){return Qt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},bi.quarter=bi.quarters=function(t){return null==t?a((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},bi.month=et,bi.daysInMonth=function(){return J(this.year(),this.month())},bi.week=bi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},bi.isoWeek=bi.isoWeeks=function(t){var e=ot(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},bi.weeksInYear=function(){var t=this.localeData()._week;return at(this.year(),t.dow,t.doy)},bi.isoWeeksInYear=function(){return at(this.year(),1,4)},bi.date=pi,bi.day=bi.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=function(t,e){return"string"==typeof t?isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10):t}(t,this.localeData()),this.add(t-e,"d"))},bi.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},bi.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},bi.dayOfYear=function(t){var e=r((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},bi.hour=bi.hours=Ge,bi.minute=bi.minutes=gi,bi.second=bi.seconds=vi,bi.millisecond=bi.milliseconds=yi,bi.utcOffset=function(t,i,n){var r,s=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>h(t)&&!n&&(t*=60);else if(null===(t=It(Re,t)))return this;return!this._isUTC&&i&&(r=Rt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!i||this._changeInProgress?Vt(this,Bt(t-s,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Rt(this)},bi.utc=function(t){return this.utcOffset(0,t)},bi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Rt(this),"m")),this},bi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=It(Fe,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},bi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Et(t).utcOffset():0,0==(this.utcOffset()-t)%60)},bi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bi.isLocal=function(){return!!this.isValid()&&!this._isUTC},bi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bi.isUtc=zt,bi.isUTC=zt,bi.zoneAbbr=function(){return this._isUTC?"UTC":""},bi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bi.dates=M("dates accessor is deprecated. Use date instead.",pi),bi.months=M("months accessor is deprecated. Use month instead",et),bi.years=M("years accessor is deprecated. Use year instead",Ye),bi.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)}),bi.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(w(t,this),(t=At(t))._a){var e=t._isUTC?v(t._a):Et(t._a);this._isDSTShifted=this.isValid()&&0<A(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var _i=O.prototype;_i.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n},_i.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},_i.invalidDate=function(){return this._invalidDate},_i.ordinal=function(t){return this._ordinal.replace("%d",t)},_i.preparse=Jt,_i.postformat=Jt,_i.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return D(r)?r(t,e,i,n):r.replace(/%d/i,t)},_i.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},_i.set=function(t){var e,i;for(i in t)D(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_i.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ve).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},_i.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ve.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_i.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return(function(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)s=v([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1===(r=He.call(this._shortMonthsParse,o))?null:r:-1===(r=He.call(this._longMonthsParse,o))?null:r:"MMM"===e?-1!==(r=He.call(this._shortMonthsParse,o))?r:-1===(r=He.call(this._longMonthsParse,o))?null:r:-1!==(r=He.call(this._longMonthsParse,o))?r:-1===(r=He.call(this._shortMonthsParse,o))?null:r}).call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(r=v([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_i.monthsRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||it.call(this),t?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=ze),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},_i.monthsShortRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||it.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=ze),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},_i.week=function(t){return ot(t,this._week.dow,this._week.doy).week},_i.firstDayOfYear=function(){return this._week.doy},_i.firstDayOfWeek=function(){return this._week.dow},_i.weekdays=function(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?ht(n,this._week.dow):t?n[t.day()]:n},_i.weekdaysMin=function(t){return!0===t?ht(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},_i.weekdaysShort=function(t){return!0===t?ht(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},_i.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return(function(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)s=v([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1===(r=He.call(this._weekdaysParse,o))?null:r:"ddd"===e?-1===(r=He.call(this._shortWeekdaysParse,o))?null:r:-1===(r=He.call(this._minWeekdaysParse,o))?null:r:"dddd"===e?-1!==(r=He.call(this._weekdaysParse,o))?r:-1!==(r=He.call(this._shortWeekdaysParse,o))?r:-1===(r=He.call(this._minWeekdaysParse,o))?null:r:"ddd"===e?-1!==(r=He.call(this._shortWeekdaysParse,o))?r:-1!==(r=He.call(this._weekdaysParse,o))?r:-1===(r=He.call(this._minWeekdaysParse,o))?null:r:-1!==(r=He.call(this._minWeekdaysParse,o))?r:-1!==(r=He.call(this._weekdaysParse,o))?r:-1===(r=He.call(this._shortWeekdaysParse,o))?null:r}).call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(r=v([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},_i.weekdaysRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||lt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},_i.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||lt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_i.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||lt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ze),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_i.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},_i.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},gt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),e.lang=M("moment.lang is deprecated. Use moment.locale instead.",gt),e.langData=M("moment.langData is deprecated. Use moment.localeData instead.",vt);var wi=h,xi=ae("ms"),Si=ae("s"),ki=ae("m"),Ci=ae("h"),Ai=ae("d"),Ti=ae("w"),Mi=ae("M"),Ei=ae("Q"),Di=ae("y"),Pi=he("milliseconds"),Oi=he("seconds"),Ni=he("minutes"),Li=he("hours"),Ii=he("days"),Fi=he("months"),Ri=he("years"),zi=r,Bi={ss:44,s:45,m:45,h:22,d:26,M:11},ji=h,Hi=Pt.prototype;return Hi.isValid=function(){return this._isValid},Hi.abs=function(){var t=this._data;return this._milliseconds=wi(this._milliseconds),this._days=wi(this._days),this._months=wi(this._months),t.milliseconds=wi(t.milliseconds),t.seconds=wi(t.seconds),t.minutes=wi(t.minutes),t.hours=wi(t.hours),t.months=wi(t.months),t.years=wi(t.years),this},Hi.add=function(t,e){return ne(this,t,e,1)},Hi.subtract=function(t,e){return ne(this,t,e,-1)},Hi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=L(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+se(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+r(oe(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return d(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Hi.asMilliseconds=xi,Hi.asSeconds=Si,Hi.asMinutes=ki,Hi.asHours=Ci,Hi.asDays=Ai,Hi.asWeeks=Ti,Hi.asMonths=Mi,Hi.asQuarters=Ei,Hi.asYears=Di,Hi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Hi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,h=this._data;return 0<=s&&0<=o&&0<=a||0>=s&&0>=o&&0>=a||(s+=864e5*re(oe(a)+o),o=0,a=0),h.milliseconds=s%1e3,t=k(s/1e3),h.seconds=t%60,e=k(t/60),h.minutes=e%60,i=k(e/60),h.hours=i%24,o+=k(i/24),a+=r=k(se(o)),o-=re(oe(r)),n=k(a/12),a%=12,h.days=o,h.months=a,h.years=n,this},Hi.clone=function(){return Bt(this)},Hi.get=function(t){return t=L(t),this.isValid()?this[t+"s"]():NaN},Hi.milliseconds=Pi,Hi.seconds=Oi,Hi.minutes=Ni,Hi.hours=Li,Hi.days=Ii,Hi.weeks=function(){return k(this.days()/7)},Hi.months=Fi,Hi.years=Ri,Hi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Bt(t).abs(),r=zi(n.as("s")),s=zi(n.as("m")),o=zi(n.as("h")),a=zi(n.as("d")),h=zi(n.as("M")),l=zi(n.as("y")),u=r<=Bi.ss&&["s",r]||r<Bi.s&&["ss",r]||1>=s&&["m"]||s<Bi.m&&["mm",s]||1>=o&&["h"]||o<Bi.h&&["hh",o]||1>=a&&["d"]||a<Bi.d&&["dd",a]||1>=h&&["M"]||h<Bi.M&&["MM",h]||1>=l&&["y"]||["yy",l];return u[2]=e,u[3]=0<+t,u[4]=i,(function(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}).apply(null,u)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Hi.toISOString=ue,Hi.toString=ue,Hi.toJSON=ue,Hi.locale=Wt,Hi.localeData=Ut,Hi.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ue),Hi.lang=fi,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Y("x",Ie),Y("X",/[+-]?\d+(\.\d{1,3})?/),W("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),W("x",function(t,e,i){i._d=new Date(C(t))}),e.version="2.24.0",ce=Et,e.fn=bi,e.min=function(){var t=[].slice.call(arguments,0);return Dt("isBefore",t)},e.max=function(){var t=[].slice.call(arguments,0);return Dt("isAfter",t)},e.now=function(){return Date.now?Date.now():+new Date},e.utc=v,e.unix=function(t){return Et(1e3*t)},e.months=function(t,e){return ee(t,e,"months")},e.isDate=u,e.locale=gt,e.invalid=_,e.duration=Bt,e.isMoment=S,e.weekdays=function(t,e,i){return ie(t,e,i,"weekdays")},e.parseZone=function(){return Et.apply(null,arguments).parseZone()},e.localeData=vt,e.isDuration=Ot,e.monthsShort=function(t,e){return ee(t,e,"monthsShort")},e.weekdaysMin=function(t,e,i){return ie(t,e,i,"weekdaysMin")},e.defineLocale=mt,e.updateLocale=function(t,e){if(null!=e){var i,n,r=Xe;null!=(n=pt(t))&&(r=n._config),(i=new O(e=P(r,e))).parentLocale=Ke[t],Ke[t]=i,gt(t)}else null!=Ke[t]&&(null==Ke[t].parentLocale?null!=Ke[t]&&delete Ke[t]:Ke[t]=Ke[t].parentLocale);return Ke[t]},e.locales=function(){return me(Ke)},e.weekdaysShort=function(t,e,i){return ie(t,e,i,"weekdaysShort")},e.normalizeUnits=L,e.relativeTimeRounding=function(t){return void 0===t?zi:"function"==typeof t&&(zi=t,!0)},e.relativeTimeThreshold=function(t,e){return void 0!==Bi[t]&&(void 0===e?Bi[t]:(Bi[t]=e,"s"===t&&(Bi.ss=e-1),!0))},e.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"},e.prototype=bi,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}()}(e={exports:{}}),e.exports}(),Ns=[],Ls=0;256>Ls;Ls++)Ns[Ls]=(Ls+256).toString(16).substr(1);for(var Is=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var t=new Uint8Array(16);return function(){return crypto.getRandomValues(t),t}}var e=Array(16);return function(){for(var t,i=0;16>i;i++)0==(3&i)&&(t=4294967296*Math.random()),e[i]=255&t>>>((3&i)<<3);return e}}(),Fs=[],Rs=0;256>Rs;Rs++)Fs[Rs]=(Rs+256).toString(16).substr(1);Is();var zs=/^\/?Date\((-?\d+)/i,Bs=function(){function t(e){_s(this,t),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(e)}return ws(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t,e=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++)(t=i[n]).original?e[t.name]=t.original:delete e[t.name];this._extended=null}}},{key:"replace",value:function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),0<this.queue.length&&"number"==typeof this.delay&&(this._timeout=setTimeout(function(){t.flush()},this.delay))}},{key:"flush",value:function(){this._queue.splice(0).forEach(function(t){t.fn.apply(t.context||t.fn,t.args||[])})}}],[{key:"extend",value:function(e,i){var n=new t(i);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s,o=0;o<i.replace.length;o++)r.push({name:s=i.replace[o],original:e[s]}),n.replace(e,s);return n._extended={object:e,methods:r},n}}]),t}(),js=function(t){return function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()},Hs=function(){function t(){_s(this,t),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=t.prototype.on,this.unsubscribe=t.prototype.off}return ws(t,[{key:"_trigger",value:function(t,e,i){if("*"===t)throw new Error("Cannot trigger event *");for(var n,r=[].concat(js(this._subscribers[t]),js(this._subscribers["*"])),s=0,o=r.length;s<o;s++)(n=r[s]).callback&&n.callback(t,e,null==i?null:i)}},{key:"on",value:function(t,e){this._subscribers[t].push({callback:e})}},{key:"off",value:function(t,e){this._subscribers[t]=this._subscribers[t].filter(function(t){return t.callback!==e})}}]),t}(),Ys=function(t){function e(t,i){var n;if(_s(this,e),n=Ss(this,ks(e).call(this)),t&&!Array.isArray(t)&&(i=t,t=[]),n._options=i||{},n._data=Object.create({}),n.length=0,n._idProp=n._options.fieldId||"id",n._type={},n._options.type)for(var r=Object.keys(n._options.type),s=0,o=r.length;s<o;s++){var a=r[s],h=n._options.type[a];n._type[a]="Date"==h||"ISODate"==h||"ASPDate"==h?"Date":h}return t&&t.length&&n.add(t),n.setOptions(i),n}return As(e,Hs),ws(e,[{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(!this._queue&&(this._queue=Bs.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===bs(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var i,n=[];if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)i=this._addItem(t[r]),n.push(i);else{if(!t||"object"!==bs(t))throw new Error("Unknown dataType");i=this._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n}},{key:"update",value:function(t,e){var i=this,n=[],r=[],s=[],o=[],a=this._idProp,h=function(t){var e=t[a];if(null!=e&&i._data[e]){var h=t,l=Object.assign({},i._data[e]),u=i._updateItem(h);r.push(u),o.push(h),s.push(l)}else{var c=i._addItem(t);n.push(c)}};if(Array.isArray(t))for(var l=0,u=t.length;l<u;l++)t[l]&&"object"===bs(t[l])?h(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!t||"object"!==bs(t))throw new Error("Unknown dataType");h(t)}return n.length&&this._trigger("add",{items:n},e),r.length&&this._trigger("update",{items:r,oldData:s,data:o},e),n.concat(r)}},{key:"get",value:function(t,e){var i=void 0,n=void 0,r=void 0;Ct(t)?(i=t,r=e):Array.isArray(t)?(n=t,r=e):r=t;var s=r&&"Object"===r.returnType?"Object":"Array",o=r&&r.type||this._options.type,a=r&&r.filter,h=[],l=null,u=null;if(null!=i)(l=this._getItem(i,o))&&a&&!a(l)&&(l=null);else if(null!=n)for(var c=0,d=n.length;c<d;c++)null!=(l=this._getItem(n[c],o))&&(!a||a(l))&&h.push(l);else for(var f=0,p=(u=Object.keys(this._data)).length;f<p;f++)null!=(l=this._getItem(u[f],o))&&(!a||a(l))&&h.push(l);if(r&&r.order&&null==i&&this._sort(h,r.order),r&&r.fields){var g=r.fields;if(null!=i&&null!=l)l=this._filterFields(l,g);else for(var m=0,v=h.length;m<v;m++)h[m]=this._filterFields(h[m],g)}if("Object"==s){for(var y={},b=0,_=h.length;b<_;b++){var w=h[b];y[w[this._idProp]]=w}return y}return null==i?h:l}},{key:"getIds",value:function(t){var e,i,n=this._data,r=t&&t.filter,s=t&&t.order,o=t&&t.type||this._options.type,a=Object.keys(n),h=[];if(r)if(s){i=[];for(var l=0,u=a.length;l<u;l++)r(e=this._getItem(a[l],o))&&i.push(e);this._sort(i,s);for(var c=0,d=i.length;c<d;c++)h.push(i[c][this._idProp])}else for(var f=0,p=a.length;f<p;f++)r(e=this._getItem(a[f],o))&&h.push(e[this._idProp]);else if(s){i=[];for(var g=0,m=a.length;g<m;g++)i.push(n[a[g]]);this._sort(i,s);for(var v=0,y=i.length;v<y;v++)h.push(i[v][this._idProp])}else for(var b=0,_=a.length;b<_;b++)h.push((e=n[a[b]])[this._idProp]);return h}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var i=e&&e.filter,n=e&&e.type||this._options.type,r=Object.keys(this._data);if(e&&e.order)for(var s=this.get(e),o=0,a=s.length;o<a;o++){var h=s[o];t(h,h[this._idProp])}else for(var l=0,u=r.length;l<u;l++){var c=r[l],d=this._getItem(c,n);(!i||i(d))&&t(d,c)}}},{key:"map",value:function(t,e){for(var i=e&&e.filter,n=e&&e.type||this._options.type,r=[],s=Object.keys(this._data),o=0,a=s.length;o<a;o++){var h=s[o],l=this._getItem(h,n);(!i||i(l))&&r.push(t(l,h))}return e&&e.order&&this._sort(r,e.order),r}},{key:"_filterFields",value:function(t,e){return t?(Array.isArray(e)?e:Object.keys(e)).reduce(function(e,i){return e[i]=t[i],e},{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var i=e;t.sort(function(t,e){var n=t[i],r=e[i];return n>r?1:n<r?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}}},{key:"remove",value:function(t,e){for(var i,n=[],r=[],s=Array.isArray(t)?t:[t],o=0,a=s.length;o<a;o++)if(i=this._remove(s[o])){var h=i[this._idProp];null!=h&&(n.push(h),r.push(i))}return n.length&&this._trigger("remove",{items:n,oldData:r},e),n}},{key:"_remove",value:function(t){var e;if(Ct(t)?e=t:t&&"object"===bs(t)&&(e=t[this._idProp]),null!=e&&this._data[e]){var i=this._data[e];return delete this._data[e],--this.length,i}return null}},{key:"clear",value:function(t){for(var e=Object.keys(this._data),i=[],n=0,r=e.length;n<r;n++)i.push(this._data[e[n]]);return this._data={},this.length=0,this._trigger("remove",{items:e,oldData:i},t),e}},{key:"max",value:function(t){for(var e=this._data,i=Object.keys(e),n=null,r=null,s=0,o=i.length;s<o;s++){var a=e[i[s]],h=a[t];null!=h&&(null==r||h>r)&&(n=a,r=h)}return n}},{key:"min",value:function(t){for(var e=this._data,i=Object.keys(e),n=null,r=null,s=0,o=i.length;s<o;s++){var a=e[i[s]],h=a[t];null!=h&&(null==r||h<r)&&(n=a,r=h)}return n}},{key:"distinct",value:function(t){for(var e=this._data,i=Object.keys(e),n=[],r=this._options.type&&this._options.type[t]||null,s=0,o=0,a=i.length;o<a;o++){for(var h=e[i[o]][t],l=!1,u=0;u<s;u++)if(n[u]==h){l=!0;break}l||void 0===h||(n[s]=h,s++)}if(r)for(var c=0,d=n.length;c<d;c++)n[c]=St(n[c],r);return n}},{key:"_addItem",value:function(t){var e=t[this._idProp];if(null==e)e=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,i=e&&(2<arguments.length?arguments[2]:void 0)||0;"string"==typeof t&&(e="binary"===t?Array(16):void 0,t={});var n=t.random||(t.rng||Es)();if(n[6]=64|15&n[6],n[8]=128|63&n[8],e)for(var r=0;16>r;r++)e[i+r]=n[r];return e||function(t,e){var i=0;return Ts[n[i++]]+Ts[n[i++]]+Ts[n[i++]]+Ts[n[i++]]+"-"+Ts[n[i++]]+Ts[n[i++]]+"-"+Ts[n[i++]]+Ts[n[i++]]+"-"+Ts[n[i++]]+Ts[n[i++]]+"-"+Ts[n[i++]]+Ts[n[i++]]+Ts[n[i++]]+Ts[n[i++]]+Ts[n[i++]]+Ts[n[i++]]}()}(),t[this._idProp]=e;else if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists");for(var i={},n=Object.keys(t),r=0,s=n.length;r<s;r++){var o=n[r];i[o]=St(t[o],this._type[o])}return this._data[e]=i,this.length++,e}},{key:"_getItem",value:function(t,e){var i=this._data[t];if(!i)return null;var n,r=Object.keys(i);if(e){n={};for(var s=0,o=r.length;s<o;s++){var a=r[s];n[a]=St(i[a],e[a])}}else n=function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?At(e,!0).forEach(function(i){ys(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):At(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},i);return null==n[this._idProp]&&(n[this._idProp]=i.id),n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=Object.keys(t),r=0,s=n.length;r<s;r++){var o=n[r];i[o]=St(t[o],this._type[o])}return e}}]),e}(),Vs=function(t){function e(t,i){var n;return _s(this,e),(n=Ss(this,ks(e).call(this))).length=0,n._ids={},n._options=i||{},n.listener=n._onEvent.bind(xs(n)),n.setData(t),n}return As(e,Hs),ws(e,[{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this.listener);var e=this._data.getIds({filter:this._options.filter}),i=this._data.get(e);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:i})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:this._options.filter}),r=0,s=n.length;r<s;r++)this._ids[n[r]]=!0;this.length=n.length,this._trigger("add",{items:n})}else this._data=new Ys;this._data.on&&this._data.on("*",this.listener)}},{key:"refresh",value:function(){for(var t,e=this._data.getIds({filter:this._options.filter}),i=Object.keys(this._ids),n={},r=[],s=[],o=[],a=0,h=e.length;a<h;a++)n[t=e[a]]=!0,this._ids[t]||(r.push(t),this._ids[t]=!0);for(var l=0,u=i.length;l<u;l++){var c=i[l],d=this._data.get(c);null==d?console.error("If you see this, report it please."):!n[c]&&(s.push(c),o.push(d),delete this._ids[c])}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r}),s.length&&this._trigger("remove",{items:s,oldData:o})}},{key:"get",value:function(t,e){if(null==this._data)return null;var i,n=null;Ct(t)||Array.isArray(t)?(n=t,i=e):i=t;var r=Object.assign({},this._options,i),s=this._options.filter,o=i&&i.filter;return s&&o&&(r.filter=function(t){return s(t)&&o(t)}),null==n?this._data.get(r):this._data.get(n,r)}},{key:"getIds",value:function(t){if(this._data.length){var e=this._options.filter,i=null==t?null:t.filter;return this._data.getIds({filter:i?e?function(t){return e(t)&&i(t)}:i:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var i=this._options.filter,n=e&&e.filter;this._data.forEach(t,{filter:n?i?function(t){return i(t)&&n(t)}:n:i,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var i=this._options.filter,n=e&&e.filter;return this._data.map(t,{filter:n?i?function(t){return i(t)&&n(t)}:n:i,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"_onEvent",value:function(t,e,i){if(e&&e.items&&this._data){var n=e.items,r=[],s=[],o=[],a=[],h=[],l=[];switch(t){case"add":for(var u=0,c=n.length;u<c;u++){var d=n[u];this.get(d)&&(this._ids[d]=!0,r.push(d))}break;case"update":for(var f=0,p=n.length;f<p;f++){var g=n[f];this.get(g)?this._ids[g]?(s.push(g),h.push(e.data[f]),a.push(e.oldData[f])):(this._ids[g]=!0,r.push(g)):this._ids[g]&&(delete this._ids[g],o.push(g),l.push(e.oldData[f]))}break;case"remove":for(var m,v=0,y=n.length;v<y;v++)this._ids[m=n[v]]&&(delete this._ids[m],o.push(m),l.push(e.oldData[v]))}this.length+=r.length-o.length,r.length&&this._trigger("add",{items:r},i),s.length&&this._trigger("update",{items:s,oldData:a,data:h},i),o.length&&this._trigger("remove",{items:o,oldData:l},i)}}}]),e}(),qs=Object.freeze({default:{DataSet:Ys,DataView:Vs,Queue:Bs},DataSet:Ys,DataView:Vs,Queue:Bs});"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*l,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var n=2*i,r=n/2,s=c(3)/6*n,o=c(n*n-r*r);this.moveTo(t,e-(o-s)),this.lineTo(t+r,e+s),this.lineTo(t-r,e+s),this.lineTo(t,e-(o-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var n=2*i,r=n/2,s=c(3)/6*n,o=c(n*n-r*r);this.moveTo(t,e+(o-s)),this.lineTo(t+r,e-s),this.lineTo(t-r,e-s),this.lineTo(t,e+(o-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,r){this.beginPath(),e+=.1*(r*=.82);for(var s,o=0;10>o;o++)this.lineTo(t+(s=0==o%2?1.3*r:.5*r)*n(2*o*l/10),e-s*i(2*o*l/10));this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,r){var s=l/180;0>i-2*r&&(r=i/2),0>n-2*r&&(r=n/2),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-r,e),this.arc(t+i-r,e+r,r,270*s,360*s,!1),this.lineTo(t+i,e+n-r),this.arc(t+i-r,e+n-r,r,0,90*s,!1),this.lineTo(t+r,e+n),this.arc(t+r,e+n-r,r,90*s,180*s,!1),this.lineTo(t,e+r),this.arc(t+r,e+r,r,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var r=.5522848,s=i/2*r,o=n/2*r,a=t+i,h=e+n,l=t+i/2,u=e+n/2;this.beginPath(),this.moveTo(t,u),this.bezierCurveTo(t,u-o,l-s,e,l,e),this.bezierCurveTo(l+s,e,a,u-o,a,u),this.bezierCurveTo(a,u+o,l+s,h,l,h),this.bezierCurveTo(l-s,h,t,u+o,t,u),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var r=n*(1/3),s=.5522848,o=i/2*s,a=r/2*s,h=t+i,l=e+r,u=t+i/2,c=e+r/2,d=e+(n-r/2),f=e+n;this.beginPath(),this.moveTo(h,c),this.bezierCurveTo(h,c+a,u+o,l,u,l),this.bezierCurveTo(u-o,l,t,c+a,t,c),this.bezierCurveTo(t,c-a,u-o,e,u,e),this.bezierCurveTo(u+o,e,h,c-a,h,c),this.lineTo(h,d),this.bezierCurveTo(h,d+a,u+o,f,u,f),this.bezierCurveTo(u-o,f,t,d+a,t,d),this.lineTo(t,c)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,r){this.beginPath(),this.moveTo(t,e);for(var s=r.length,o=i-t,a=n-e,h=a/o,l=c(o*o+a*a),u=0,d=!0,f=0,p=+r[0];.1<=l;)(p=+r[u++%s])>l&&(p=l),f=c(p*p/(1+h*h)),t+=f=0>o?-f:f,e+=h*f,!0===d?this.lineTo(t,e):this.moveTo(t,e),l-=p,d=!d},CanvasRenderingContext2D.prototype.hexagon=function(t,e,r){this.beginPath();var s=2*l/6;this.moveTo(t+r,e);for(var o=1;o<6;o++)this.lineTo(t+r*i(s*o),e+r*n(s*o));this.closePath()}),"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self||self:global:window:globalThis;var Ws=Tt(function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),Us={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Gs=Object.create(Us);Gs.color="color.color",Gs.style="dashes";var Xs,Ks={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Zs={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Qs="",$s=0,Js="",to="",eo=Ks.NULL,io=/[a-zA-Z_0-9.:#]/,no=function(t){var e=Mt(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:(t.label||t.id)+""};Ot(e,Ut(t.attr,Us)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return Ot(e,Ut(t.attr,Gs)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};e.edges.forEach(function(t){var e,r;e=t.from instanceof Object?t.from.nodes:{id:t.from},r=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);i.edges.push(e)}),function(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}(e,r,function(e,r){var s=Ft(i,e.id,r.id,t.type,t.attr),o=n(s);i.edges.push(o)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i},ro={parseDOT:Mt,DOTToGraph:no},so=Object.freeze({default:ro,__moduleExports:ro,parseDOT:Mt,DOTToGraph:no}),oo=Object.freeze({parseGephi:Gt}),ao=(Object.freeze({}),Tt(function(t){t.exports=function(t){var e,i=String.fromCharCode,n=t&&t.preventDefault||!1,r=t&&t.container||window,s={},o={keydown:{},keyup:{}},a={};for(e=97;122>=e;e++)a[i(e)]={code:e-97+65,shift:!1};for(e=65;90>=e;e++)a[i(e)]={code:e,shift:!0};for(e=0;9>=e;e++)a[""+e]={code:48+e,shift:!1};for(e=1;12>=e;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;9>=e;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var h=function(t){u(t,"keydown")},l=function(t){u(t,"keyup")},u=function(t,e){if(void 0!==o[e][t.keyCode]){for(var i=o[e][t.keyCode],r=0;r<i.length;r++)void 0===i[r].shift?i[r].fn(t):1==i[r].shift&&1==t.shiftKey?i[r].fn(t):0==i[r].shift&&0==t.shiftKey&&i[r].fn(t);1==n&&t.preventDefault()}};return s.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===o[i][a[t].code]&&(o[i][a[t].code]=[]),o[i][a[t].code].push({fn:e,shift:a[t].shift})},s.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),a)a.hasOwnProperty(i)&&s.bind(i,t,e)},s.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},s.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],r=o[i][a[t].code];if(void 0!==r)for(var s=0;s<r.length;s++)(r[s].fn!=e||r[s].shift!=a[t].shift)&&n.push(o[i][a[t].code][s]);o[i][a[t].code]=n}else o[i][a[t].code]=[]},s.reset=function(){o={keydown:{},keyup:{}}},s.destroy=function(){o={keydown:{},keyup:{}},r.removeEventListener("keydown",h,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",h,!0),r.addEventListener("keyup",l,!0),s}})),ho=Object.freeze({default:ao,__moduleExports:ao}),lo="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e,i=Object(t),n=1;n<arguments.length;n++)if(null!=(e=arguments[n]))for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i},uo=["","webkit","Moz","MS","ms","o"],co="undefined"==typeof document?{style:{}}:document.createElement("div"),fo=r,po=h,go=Date.now;Xs="undefined"==typeof window?{}:window;var mo=Qt(co.style,"touchAction"),vo=void 0!==mo,yo="compute",bo="none",_o="pan-x",wo="pan-y",xo=function(){if(!vo)return!1;var t={},e=Xs.CSS&&Xs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||Xs.CSS.supports("touch-action",i)}),t}(),So="ontouchstart"in Xs,ko=void 0!==Qt(Xs,"PointerEvent"),Co=So&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ao="touch",To="mouse",Mo=6,Eo=24,Do=Mo|Eo,Po=["x","y"],Oo=["clientX","clientY"],No=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===yo&&(t=this.compute()),vo&&this.manager.element.style&&xo[t]&&(this.manager.element.style[mo]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return $t(this.manager.recognizers,function(e){Jt(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(te(t,"none"))return"none";var e=te(t,"pan-x"),i=te(t,"pan-y");return e&&i?"none":e||i?e?"pan-x":"pan-y":te(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=te(n,bo)&&!xo[bo],s=te(n,wo)&&!xo[wo],o=te(n,_o)&&!xo[_o];if(r&&1===t.pointers.length&&2>t.distance&&250>t.deltaTime)return;return o&&s?void 0:r||s&&i&Mo||o&&i&Eo?this.preventSrc(e):void 0}e.preventDefault()},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}(),Lo=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Jt(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ue(this.element,this.evEl,this.domHandler),this.evTarget&&ue(this.target,this.evTarget,this.domHandler),this.evWin&&ue(de(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ce(this.element,this.evEl,this.domHandler),this.evTarget&&ce(this.target,this.evTarget,this.domHandler),this.evWin&&ce(de(this.element),this.evWin,this.domHandler)},t}(),Io={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Fo={2:Ao,3:"pen",4:To,5:"kinect"},Ro="pointerdown",zo="pointermove pointerup pointercancel";Xs.MSPointerEvent&&!Xs.PointerEvent&&(Ro="MSPointerDown",zo="MSPointerMove MSPointerUp MSPointerCancel");var Bo=function(t){function e(){var i,n=e.prototype;return n.evEl=Ro,n.evWin=zo,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Kt(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Io[n],s=Fo[t.pointerType]||t.pointerType,o=fe(e,t.pointerId,"pointerId");1&r&&(0===t.button||s===Ao)?0>o&&(e.push(t),o=e.length-1):12&r&&(i=!0),0>o||(e[o]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(o,1))},e}(Lo),jo={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ho=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return Kt(e,t),e.prototype.handler=function(t){var e=jo[t.type],i=(function(t,e){var i=pe(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=pe(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return ee(t.target,h)}),1===e)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),12&e&&delete n[o[r].identifier],r++;return a.length?[ge(s.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ao,srcEvent:t})},e}(Lo),Yo={mousedown:1,mousemove:2,mouseup:4},Vo=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return Kt(e,t),e.prototype.handler=function(t){var e=Yo[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:To,srcEvent:t}))},e}(Lo),qo=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===To;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(i.pointerType===Ao)(function(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,me.call(this,e)):12&t&&me.call(this,e)}).call(Zt(Zt(n)),e,i);else if(r&&(function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=h(e-r.x),o=h(i-r.y);if(s<=25&&o<=25)return!0}return!1}).call(Zt(Zt(n)),i))return;n.callback(t,e,i)}},n.touch=new Ho(n.manager,n.handler),n.mouse=new Vo(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Kt(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Lo),Wo=1,Uo=1,Go=function(){function t(t){void 0===t&&(t={}),this.options=Xt({enable:!0},t),this.id=Uo++,this.manager=null,this.state=Wo,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return lo(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(ve(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=ye(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return ve(t,"dropRecognizeWith",this)?this:(t=ye(t,this),delete this.simultaneous[t.id],this)},e.requireFailure=function(t){if(ve(t,"requireFailure",this))return this;var e=this.requireFail;return-1===fe(e,t=ye(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(ve(t,"dropRequireFailure",this))return this;t=ye(t,this);var e=fe(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<8&&e(i.options.event+be(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=8&&e(i.options.event+be(n))},e.tryEmit=function(t){return this.canEmit()?this.emit(t):void(this.state=32)},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Wo)))return!1;t++}return!0},e.recognize=function(t){var e=lo({},t);return Jt(this.options.enable,[this,e])?(56&this.state&&(this.state=Wo),this.state=this.process(e),void(30&this.state&&this.tryEmit(e))):(this.reset(),void(this.state=32))},e.process=function(){},e.getTouchAction=function(){},e.reset=function(){},t}(),Xo={domEvents:!1,touchAction:yo,enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ko=function(){function t(t,e){var i=this;this.options=lo({},Xo,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(ko?Bo:Co?Ho:So?qo:Vo))(t,he)}(this),this.touchAction=new No(this,this.options.touchAction),_e(this,!0),$t(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return lo(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!==r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(e.curRecognizer=i,r=i),s++}},e.get=function(t){if(t instanceof Go)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(ve(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(ve(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=fe(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return $t(le(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return $t(le(t),function(t){e?i[t]&&i[t].splice(fe(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&_e(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Zo={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Qo=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return Kt(e,t),e.prototype.handler=function(t){var e=Zo[t.type];if(1===e&&(this.started=!0),this.started){var i=(function(t,e){var i=pe(t.touches),n=pe(t.changedTouches);return 12&e&&(i=ge(i.concat(n),"identifier",!0)),[i,n]}).call(this,t,e);12&e&&0==i[0].length-i[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ao,srcEvent:t})}},e}(Lo),$o=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Xt({pointers:1},e))||this}Kt(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:32},e}(Go),Jo=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Xt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Kt(e,t);var i=e.prototype;return i.getTouchAction=function(){return["manipulation"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,s=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&s&&n){if(4!==t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||re(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Go),ta=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Xt({event:"pan",threshold:10,pointers:1,direction:Do},e))||this).pX=null,i.pY=null,i}Kt(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&Mo&&e.push(wo),t&Eo&&e.push(_o),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Mo?(r=0===s?1:0>s?2:4,i=s!==this.pX,n=h(t.deltaX)):(r=0===o?1:0>o?8:16,i=o!==this.pY,n=h(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},i.attrTest=function(t){return $o.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=we(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}($o),ea=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Xt({event:"swipe",threshold:10,velocity:.3,direction:Mo|Eo,pointers:1},e))||this}Kt(e,t);var i=e.prototype;return i.getTouchAction=function(){return ta.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&(Mo|Eo)?i=e.overallVelocity:n&Mo?i=e.overallVelocityX:n&Eo&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&po(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=we(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}($o),ia=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Xt({event:"pinch",threshold:0,pointers:2},e))||this}Kt(e,t);var i=e.prototype;return i.getTouchAction=function(){return[bo]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(h(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(1>e.scale?"in":"out")),t.prototype.emit.call(this,e)},e}($o),na=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Xt({event:"rotate",threshold:0,pointers:2},e))||this}Kt(e,t);var i=e.prototype;return i.getTouchAction=function(){return[bo]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(h(e.rotation)>this.options.threshold||2&this.state)},e}($o),ra=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Xt({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Kt(e,t);var i=e.prototype;return i.getTouchAction=function(){return["auto"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,r=t.distance<i.threshold,s=t.deltaTime>i.time;if(this._input=t,!r||!n||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(4&t.eventType)return 8;return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8!==this.state||(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=go(),this.manager.emit(this.options.event,this._input)))},e}(Go),sa=xe(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),oa=xe(function(t,e){return sa(t,e,!0)},"merge","Use `assign`."),aa=function(){var t=function(t,e){return void 0===e&&(e={}),new Ko(t,Xt({recognizers:[[na,{enable:!1}],[ia,{enable:!1},["rotate"]],[ea,{direction:Mo}],[ta,{direction:Mo},["swipe"]],[Jo],[Jo,{event:"doubletap",taps:2},["tap"]],[ra]]},e))};return t.VERSION="2.0.15",t.DIRECTION_ALL=Do,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=Mo,t.DIRECTION_VERTICAL=Eo,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=Wo,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=Ko,t.Input=Lo,t.TouchAction=No,t.TouchInput=Ho,t.MouseInput=Vo,t.PointerEventInput=Bo,t.TouchMouseInput=qo,t.SingleTouchInput=Qo,t.Recognizer=Go,t.AttrRecognizer=$o,t.Tap=Jo,t.Pan=ta,t.Swipe=ea,t.Pinch=ia,t.Rotate=na,t.Press=ra,t.on=ue,t.off=ce,t.each=$t,t.merge=oa,t.extend=sa,t.bindFn=ke,t.assign=lo,t.inherit=Se,t.bindFn=ke,t.prefixed=Qt,t.toArray=pe,t.inArray=fe,t.uniqueArray=ge,t.splitStr=le,t.boolOrFn=Jt,t.hasParent=ee,t.addEventListeners=ue,t.removeEventListeners=ce,t.defaults=Xo,t}(),ha=Tt(function(t){if("undefined"!=typeof window){var e=window.Hammer||aa;t.exports=e}else t.exports=function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()}}),la=Object.freeze({default:ha,__moduleExports:ha});Ws(Ce.prototype),Ce.current=null,Ce.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},Ce.prototype.activate=function(){Ce.current&&Ce.current.deactivate(),Ce.current=this,this.active=!0,this.dom.overlay.style.display="none",ms.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},Ce.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="block",ms.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},Ce.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var ua,ca=Tt(function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lsche Auswahl",back:"Zurck",addNode:"Knoten hinzufgen",addEdge:"Kante hinzufgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster knnen nicht gelscht werden.",editClusterError:"Cluster knnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar seleccin",back:"Atrs",addNode:"Aadir nodo",addEdge:"Aadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n",addEdge:"Adicionar aresta",editNode:"Editar n",editEdge:"Editar aresta",addDescription:"Clique em um espao em branco para adicionar um novo n",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",createEdgeError:"No foi possvel linkar arestas a um cluster.",deleteClusterError:"Clusters no puderam ser removidos.",editClusterError:"Clusters no puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"",del:" ",back:"",addNode:" ",addEdge:" ",editNode:" ",editEdge:" ",addDescription:"   ,    .",edgeDescription:"        ,   .",editEdgeDescription:"        ,    .",createEdgeError:"    .",deleteClusterError:"    ",editClusterError:"   ."},e.ru_RU=e.ru,e.cn={edit:"",del:"",back:"",addNode:"",addEdge:"",editNode:"",editEdge:"",addDescription:"",edgeDescription:"",editEdgeDescription:"",createEdgeError:"",deleteClusterError:"",editClusterError:""},e.zh_CN=e.cn,e.uk={edit:"",del:" ",back:"",addNode:" ",addEdge:" ",editNode:" ",editEdge:" ",addDescription:"K   ,    .",edgeDescription:"        ,   '.",editEdgeDescription:"        ,    .",createEdgeError:"  '   .",deleteClusterError:"    .",editClusterError:"   ."},e.uk_UA=e.uk,e.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de crer un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas tre ffacs.",editClusterError:"Les clusters ne peuvent pas tre dites."},e.fr_FR=e.fr,e.cs={edit:"Upravit",del:"Smazat vbr",back:"Zpt",addNode:"Pidat vrchol",addEdge:"Pidat hranu",editNode:"Upravit vrchol",editEdge:"Upravit hranu",addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",createEdgeError:"Nelze pipojit hranu ke shluku.",deleteClusterError:"Nelze mazat shluky.",editClusterError:"Nelze upravovat shluky."},e.cs_CZ=e.cs}),da=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},fa=function(t,e,i){return e&&Ae(t.prototype,e),i&&Ae(t,i),t},pa=function(){function t(){da(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return fa(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=d(e/2),n=d(e/4),r=d(e/8),s=d(e/16),o=d(t/2),a=d(t/4),h=d(t/8),l=d(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,o,i],[o,0,a,n],[o,n,h,r],[5*h,n,l,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],r=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,r,s){if(this.initialized())if(2<e){e*=.5;for(var o=0;2<e&&o<this.NUM_ITERATIONS;)e*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);var a=this.coordinates[o];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,r,s)}else t.drawImage(this.image,i,n,r,s)}}]),t}(),ga=function(){function t(e){da(this,t),this.images={},this.imageBroken={},this.callback=e}return fa(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){return void 0===t||void 0===i?void 0:void 0===e?void console.warn("No broken url image defined"):(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},void(i.image.src=e))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var r=new pa;return this.images[t]=r,r.image.onload=function(){i._fixImageCoordinates(r.image),r.init(),i._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),ma=function(){function t(){da(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},ms.extend(this.options,this.defaultOptions)}return fa(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)t.hasOwnProperty(i)&&-1===e.indexOf(i)&&this.add(i,t[i])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[r],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}(),va=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},ya=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()},ba=Tt(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(n){return t.exports=i="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},i(n)}t.exports=i}),_a=function(){function t(){da(this,t)}return fa(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],n=!0,r=ms.topMost(e,"chosen");if("boolean"==typeof r)n=r;else if("object"===ba(r)){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=ms.topMost(e,["chosen",t]);("boolean"==typeof s||"function"==typeof s)&&(n=s)}return n}},{key:"pointInRect",value:function(t,e,r){if(0>=t.width||0>=t.height)return!1;if(void 0!==r){var s={x:e.x-r.x,y:e.y-r.y};if(0!==r.angle){var o=-r.angle;e={x:i(o)*s.x-n(o)*s.y,y:n(o)*s.x+i(o)*s.y}}else e=s}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}(),wa=function(){function t(e){da(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return fa(t,[{key:"_add",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;(void 0===e||""===e)&&(n=" ");var r=this.measureText(n,i),s=Object.assign({},r.values);s.text=e,s.width=r.width,s.mod=i,(void 0===e||""===e)&&(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n,r=0;r<e.blocks.length;r++)i<(n=e.blocks[r]).height&&(i=n.height);e.height=i}}},{key:"determineLabelSize",value:function(){for(var t,e=0,i=0,n=0;n<this.lines.length;n++)(t=this.lines[n]).width>e&&(e=t.width),i+=t.height;this.width=e,this.height=i}},{key:"removeEmptyBlocks",value:function(){for(var t,e=[],i=0;i<this.lines.length;i++)if(0!==(t=this.lines[i]).blocks.length){if(i==this.lines.length-1&&0===t.width)continue;var n={};Object.assign(n,t),n.blocks=[];for(var r,s=void 0,o=[],a=0;a<t.blocks.length;a++)0===(r=t.blocks[a]).width?void 0===s&&(s=r):o.push(r);0===o.length&&void 0!==s&&o.push(s),n.blocks=o,e.push(n)}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),xa={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},Sa=function(){function t(e){da(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return fa(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}},{key:"match",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.prepareRegExp(t),n=ya(i,2),r=n[0],s=n[1],o=r.test(this.text.substr(this.position,s));return o&&e&&(this.position+=s-1),o}},{key:"parseEndTag",value:function(t,e,i){var n=this.mod()===t;return!(!(n="mono"===t?n&&this.mono:n&&!this.mono)||!this.match(e)||(void 0===i?this.unsetTag(t):(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t),0))}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var n=xa[t];i=void 0===n?new RegExp(t):n,e=t.length}return[i,e]}}]),t}(),ka=function(){function t(e,i,n,r){var s=this;da(this,t),this.ctx=e,this.parent=i,this.selected=n,this.hover=r,this.lines=new wa(function(t,i){if(void 0===t)return 0;var o=s.parent.getFormattingValues(e,n,r,i),a=0;return""!==t&&(a=s.ctx.measureText(t).width),{width:a,values:o}})}return fa(t,[{key:"process",value:function(t){if(!_a.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions,i=((t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"").split("\n"),n=i.length;if(e.multi){for(var r,s=0;s<n;s++)if(void 0!==(r=this.splitBlocks(i[s],e.multi))){if(0===r.length){this.lines.newLine("");continue}if(0<e.maxWdt)for(var o=0;o<r.length;o++)this.splitStringIntoLines(r[o].text,r[o].mod,!0);else for(var a=0;a<r.length;a++)this.lines.append(r[a].text,r[a].mod);this.lines.newLine()}}else if(0<e.maxWdt)for(var h=0;h<n;h++)this.splitStringIntoLines(i[h]);else for(var l=0;l<n;l++)this.lines.newLine(i[l]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":(!0===t||"html"===t)&&(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new Sa(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var n=e.text.charAt(e.position);e.parseWS(n)||/</.test(n)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(n)||e.add(n),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new Sa(t),n=!0,r=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),n=!1)),!0)};i.position<i.text.length;){var s=i.text.charAt(i.position);i.parseWS(s)||r(s)||(n||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(s),n=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal",i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var n,r=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");0<r.length;)if(0===(n=this.getLongestFit(r))){var s=r[0],o=this.getLongestFitWord(s);this.lines.newLine(s.slice(0,o),e),r[0]=s.slice(o)}else{var a=n;" "===r[n-1]?n--:" "===r[a]&&a++;var h=r.slice(0,n).join("");n==r.length&&i?this.lines.append(h,e):this.lines.newLine(h,e),r=r.slice(a)}}}]),t}(),Ca=["bold","ital","boldital","mono"],Aa=function(){function t(e,i){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];da(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return fa(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),_a.isValidLabel(t.label)?this.labelDirty=!0:t.label=void 0,null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===ba(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;return ms.forEach(Ca,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?void(this.fontOptions.vadjust=0):void ms.forEach(e,function(t,e){null!=t&&"object"!==ba(t)&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=ms.topMost(t,"widthConstraint");if("number"==typeof i)e.maxWdt=+i,e.minWdt=+i;else if("object"===ba(i)){var n=ms.topMost(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=+n);var r=ms.topMost(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=+r)}var s=ms.topMost(t,"heightConstraint");if("number"==typeof s)e.minHgt=+s;else if("object"===ba(s)){var o=ms.topMost(t,["heightConstraint","minimum"]);"number"==typeof o&&(e.minHgt=+o);var a=ms.topMost(t,["heightConstraint","valign"]);"string"==typeof a&&("top"===a||"bottom"===a)&&(e.valign=a)}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),ms.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=_a.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var r=e[n],s={};t.parseFontString(s,r)&&(r=s),ms.forEach(r,function(t,e){void 0===t||i.hasOwnProperty(e)||(i[e]=-1===Ca.indexOf(e)?t:{})})}return i}},{key:"getFontOption",value:function(e,i,n){for(var r,s,o=0;o<e.length;++o)if((s=e[o]).hasOwnProperty(i)){if(null==(r=s[i]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),r.hasOwnProperty(n))return r[n]}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i,n={},r=["color","size","face","mod","vadjust"],s=0;s<r.length;++s)n[i=r[s]]=this.getFontOption(t,e,i);return n}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(t){var n=Ca[t],r=e.fontOptions[n],s=e.getFontOptions(i,n);ms.forEach(s,function(t,e){r[e]=t}),r.size=+r.size,r.vadjust=+r.vadjust},r=0;r<Ca.length;++r)n(r)}},{key:"draw",value:function(t,e,i,n,r){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=+this.elementOptions.scaling.label.maxVisible/this.body.view.scale),this.calculateLabelSize(t,n,r,e,i,s),this._drawBackground(t),this._drawText(t,e,this.size.yLine,s,o))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle",r=4<arguments.length?arguments[4]:void 0,s=this._setAlignment(t,e,i,n),o=ya(s,2);e=o[0],i=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var a,h=0;h<this.lineCount;h++)if((a=this.lines[h])&&a.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-a.width);for(var u,c=0;c<a.blocks.length;c++){t.font=(u=a.blocks[c]).font;var d=this._getColor(u.color,r,u.strokeColor),f=ya(d,2),p=f[0],g=f[1];0<u.strokeWidth&&(t.lineWidth=u.strokeWidth,t.strokeStyle=g,t.lineJoin="round"),t.fillStyle=p,0<u.strokeWidth&&t.strokeText(u.text,e+l,i+u.vadjust),t.fillText(u.text,e+l,i+u.vadjust),l+=u.width}i+=a.height}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var s=f(0,p(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=ms.overrideOpacity(n,s),r=ms.overrideOpacity(r,s)}return[n,r]}},{key:"getTextSize",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0===t[e][i]?t[i]:t[e][i]},s={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,e,i));var o="";return void 0!==s.mod&&""!==s.mod&&(o+=s.mod+" "),t.font=(o+=s.size+"px "+s.face).replace(/"/g,""),s.font=t.font,s.height=s.size,s}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new ka(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);0<this.fontOptions.minWdt&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,0<this.fontOptions.minHgt&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),Ta=function(t,e){return!e||"object"!==ba(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e},Ma=Tt(function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(i)}t.exports=e}),Ea=Tt(function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e}),Da=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ea(t,e)},Pa=function(){function t(e,i,n){da(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return fa(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==ba(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var r=this.options.borderWidth;return this.resize(t),p(h(this.width/2/i(e)),h(this.height/2/n(e)))+r}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0===t.setLineDash?(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1):t.setLineDash([0]))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=p(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),0<i&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,r){void 0!==i&&this.resize(i,n,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,r=this.textSize.height;return 0===n&&(n=14,r=14),{width:n,height:r}}}]),t}(),Oa=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n)))._setMargins(n),r}return Da(e,Pa),fa(e,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),t.roundRect(this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function(t,e,i,n,r){this._updateBoundingBox(t,e,i,n,r),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var r=this.options.borderWidth;return p(h(this.width/2/i(e)),h(this.height/2/n(e)))+r}}]),e}(),Na=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n))).labelOffset=0,r.selected=!1,r}return Da(e,Pa),fa(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==ba(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),t.circle(e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var n=this._getImagePadding();this.imageObj.drawImageAtPosition(t,i,this.left+n.left,this.top+n.top,this.width-n.left-n.right,this.height-n.top-n.bottom),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,r){var s,o=0;if(void 0!==this.height){o=.5*this.height;var a=this.labelModule.getTextSize(t,n,r);1<=a.lineCount&&(o+=a.height/2)}s=i+o,this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,s,n,r,"hanging")}}]),e}(),La=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n)))._setMargins(n),r}return Da(e,Na),fa(e,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),r=f(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return this.resize(t),.5*this.width}}]),e}(),Ia=function(t){function e(t,i,n,r,s){var o;return da(this,e),(o=Ta(this,Ma(e).call(this,t,i,n))).setImages(r,s),o}return Da(e,Na),fa(e,[{key:"resize",value:function(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var n=2*this.options.size;return this.width=n,this.height=n,void(this.radius=.5*this.width)}this.needsRefresh(t,e)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),t.save(),t.clip(),this._drawImageAtPosition(t,s),t.restore(),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=p(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=f(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=f(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return this.resize(t),.5*this.width}}]),e}(),Fa=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n)))._setMargins(n),r}return Da(e,Pa),fa(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Ra=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Pa),fa(e,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var r=2*n.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,r,s,o,a){this.resize(t,s,o,a),this.left=n-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),t[e](n,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,r)),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,s,o,n,r,"hanging"),this.labelModule.draw(t,n,r+.5*this.height+.5*this.labelModule.size.height,s,o,"hanging")),this.updateBoundingBox(n,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=p(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=f(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=f(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(),za=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"diamond",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Ba=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"circle",2,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t){return this.resize(t),this.options.size}}]),e}(),ja=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Pa),fa(e,[{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,s),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,r),this.labelModule.draw(t,e,i,n,r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var r=.5*this.width,s=.5*this.height,o=n(e)*r,a=i(e)*s;return r*s/c(o*o+a*a)}}]),e}(),Ha=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n)))._setMargins(n),r}return Da(e,Pa),fa(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:+this.options.icon.size,height:+this.options.icon.size},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,r,s),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=p(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=f(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=f(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,r,s){var o=+this.options.icon.size;void 0===this.options.icon.code?console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally."):(t.font=[null==this.options.icon.weight?n?"bold":"":this.options.icon.weight,(null!=this.options.icon.weight&&n?5:0)+o+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,s),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,s))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Ya=function(t){function e(t,i,n,r,s){var o;return da(this,e),(o=Ta(this,Ma(e).call(this,t,i,n))).setImages(r,s),o}return Da(e,Na),fa(e,[{key:"resize",value:function(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var n=2*this.options.size;return this.width=n,void(this.height=n)}this.needsRefresh(t,e)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,r,s){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=p(this.width,(n?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,s),t.closePath()),this._drawImageAtPosition(t,s),this._drawImageLabel(t,e,i,n,r),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=p(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=f(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=f(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Va=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"square",2,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),qa=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"hexagon",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Wa=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"star",4,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Ua=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n)))._setMargins(n),r}return Da(e,Pa),fa(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,r,s){this.resize(t,n,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r),this.disableShadow(t,s),this.updateBoundingBox(e,i,t,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Ga=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"triangle",3,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Xa=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Ra),fa(e,[{key:"draw",value:function(t,e,i,n,r,s){this._drawShape(t,"triangleDown",3,e,i,n,r,s)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(),Ka=!1,Za="background: #FFeeee; color: #dd0000",Qa=function(){function t(){da(this,t)}return fa(t,null,[{key:"validate",value:function(e,i,n){Ka=!1,ua=i;var r=i;return void 0!==n&&(r=i[n]),t.parse(e,r,[]),Ka}},{key:"parse",value:function(e,i,n){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,i,n)}},{key:"check",value:function(e,i,n,r){if(void 0!==n[e]||void 0!==n.__any__){var s=e,o=!0;void 0===n[e]&&void 0!==n.__any__&&(s="__any__",o="object"===t.getType(i[e]));var a=n[s];o&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,s,a,r)}else t.getSuggestion(e,n,r)}},{key:"checkFields",value:function(e,i,n,r,s,o){var a=function(i){console.log("%c"+i+t.printLocation(o,e),Za)},h=t.getType(i[e]),l=s[h];void 0===l?void 0===s.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Object.keys(s))+". Received ["+h+'] "'+i[e]+'"'),Ka=!0):"array"===t.getType(l)&&-1===l.indexOf(i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(l)+' not "'+i[e]+'". '),Ka=!0):"object"===h&&"__any__"!==r&&(o=ms.copyAndExtendArray(o,e),t.parse(i[e],n[r],o))}},{key:"getType",value:function(t){var e=ba(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0===t.nodeType?!0===t._isAMomentObject?"moment":"object":"dom":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var r,s=t.findInOptions(e,i,n,!1),o=t.findInOptions(e,ua,[],!0);r=void 0===s.indexMatch?o.distance<=4&&s.distance>o.distance?" in "+t.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,e):". Did you mean one of these: "+t.print(Object.keys(i))+t.printLocation(n,e):" in "+t.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n',console.log('%cUnknown option detected: "'+e+'"'+r,Za),Ka=!0}},{key:"findInOptions",value:function(e,i,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],s=1e9,o="",a=[],h=e.toLowerCase(),l=void 0;for(var u in i){var c=void 0;if(void 0!==i[u].__type__&&!0===r){var d=t.findInOptions(e,i[u],ms.copyAndExtendArray(n,u));s>d.distance&&(o=d.closestMatch,a=d.path,s=d.distance,l=d.indexMatch)}else-1!==u.toLowerCase().indexOf(h)&&(l=u),s>(c=t.levenshteinDistance(e,u))&&(o=u,a=ms.copyArray(n),s=c)}return{closestMatch:o,path:a,distance:s,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",r=0;r<t.length;r++){for(var s=0;s<r+1;s++)n+="  ";n+=t[r]+": {\n"}for(var o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var h=0;h<t.length-a;h++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(n=0;n<=t.length;n++)r[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)r[i][n]=e.charAt(i-1)==t.charAt(n-1)?r[i-1][n-1]:p(r[i-1][n-1]+1,p(r[i][n-1]+1,r[i-1][n]+1));return r[e.length][t.length]}}]),t}(),$a=function(){function t(e,i,n,r,s,o){da(this,t),this.options=ms.bridgeObject(s),this.globalOptions=s,this.defaultOptions=o,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Aa(this.body,this.options,!1),this.setOptions(e)}return fa(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=_a.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0===this.options.image.selected?void 0:this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y)&&(t.shadow=!0)):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){null==this.options.label&&(this.options.label=""),t.updateGroupOptions(this.options,function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Te(e,!0).forEach(function(i){va(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Te(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},e,{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,i,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Oa(this.options,this.body,this.labelModule);break;case"circle":this.shape=new La(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Ia(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new Fa(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new za(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Ba(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new ja(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Ha(this.options,this.body,this.labelModule);break;case"image":this.shape=new Ya(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Va(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new qa(this.options,this.body,this.labelModule);break;case"star":this.shape=new Wa(this.options,this.body,this.labelModule);break;case"text":this.shape=new Ua(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Ga(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Xa(this.options,this.body,this.labelModule);break;default:this.shape=new ja(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+n*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&_a.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),_a.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var r=i.get(n),s=["font"];void 0!==e&&void 0!==e.color&&null!=e.color&&s.push("color"),ms.selectiveNotDeepExtend(s,t,r),t.color=ms.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=4<arguments.length?arguments[4]:void 0;if(ms.selectiveNotDeepExtend(["color","fixed","shadow"],e,i,n),t.checkMass(i),ms.mergeOptions(e,i,"shadow",r),null!=i.color){var o=ms.parseColor(i.color);ms.fillIfDefined(e.color,o)}else!0===n&&null===i.color&&(e.color=ms.bridgeObject(r.color));null!=i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=ms.bridgeObject(r.font)),t.updateGroupOptions(e,i,s),void 0!==i.scaling&&ms.mergeOptions(e.scaling,i.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&0>=t.mass){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Za),t.mass=1}}}]),t}(),Ja=function(){function t(e,i,n,r){var s=this;if(da(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:f(0,1/(e-t)*(n-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},0>=this.defaultOptions.mass)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ms.bridgeObject(this.defaultOptions),this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){ms.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if($a.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();(void 0!==t.hidden||void 0!==t.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.body.data.nodes;if(t instanceof Ys||t instanceof Vs)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new Ys,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Ys}if(i&&ms.forEach(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var n=this;ms.forEach(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=[],r=0;r<t.length;r++){var s=this.body.data.nodes.get(e=t[r]),o=this.create(s);n.push(o),this.body.nodes[e]=o}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,r=!1,s=0;s<t.length;s++){var o=t[s],a=n[o],h=e[s];void 0===a?(r=!0,a=this.create(h),n[o]=a):a.setOptions(h)&&(r=!0)}r||void 0===i||(r=e.some(function(t,e){var n=i[e];return n&&n.level!==t.level})),this.body.emitter.emit(!0===r?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:$a;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];ms.forEach(this.body.nodes,function(i,n){var r=t.body.data.nodes.get(n);void 0!==r&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(r))})}},{key:"getPositions",value:function(t){var e={};if(void 0===t)for(var i,n=0;n<this.body.nodeIndices.length;n++)e[this.body.nodeIndices[n]]={x:r((i=this.body.nodes[this.body.nodeIndices[n]]).x),y:r(i.y)};else if(!0===Array.isArray(t)){for(var s=0;s<t.length;s++)if(void 0!==this.body.nodes[t[s]]){var o=this.body.nodes[t[s]];e[t[s]]={x:r(o.x),y:r(o.y)}}}else if(void 0!==this.body.nodes[t]){var a=this.body.nodes[t];e[t]={x:r(a.x),y:r(a.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];(e._data[i].x!=r(n.x)||e._data[i].y!=r(n.y))&&t.push({id:n.id,x:r(n.x),y:r(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n,r=this.body.nodes[t],s={},o=0;o<r.edges.length;o++)n=r.edges[o],"to"!==e&&n.toId==r.id?void 0===s[n.fromId]&&(i.push(n.fromId),s[n.fromId]=!0):"from"!==e&&n.fromId==r.id&&void 0===s[n.toId]&&(i.push(n.toId),s[n.toId]=!0);return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0===this.body.nodes[t]?console.log("Node id supplied to moveNode does not exist. Provided: ",t):(this.body.nodes[t].x=+e,this.body.nodes[t].y=+i,setTimeout(function(){n.body.emitter.emit("startSimulation")},0))}}]),t}(),th=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ma(t)););return t},eh=Tt(function(t){function e(i,n,r){return t.exports=e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=th(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}},e(i,n,r||i)}t.exports=e}),ih=function(){function t(){da(this,t)}return fa(t,null,[{key:"transform",value:function(t,e){Array.isArray(t)||(t=[t]);for(var r=e.point.x,s=e.point.y,o=e.angle,a=e.length,h=0;h<t.length;++h){var l=t[h],u=l.x*i(o)-l.y*n(o),c=l.x*n(o)+l.y*i(o);l.x=r+a*u,l.y=s+a*c}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),nh=function(t){function e(){return da(this,e),Ta(this,Ma(e).apply(this,arguments))}return Da(e,ih),fa(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];ih.transform(i,e),ih.drawPath(t,i)}}]),e}(),rh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),sh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};ih.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=e.angle-l/2,r=e.angle+l/2;t.beginPath(),t.arc(i.x,i.y,.4*e.length,n,r,!1),t.stroke()}}]),t}(),oh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};ih.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var n=e.angle+l/2,r=e.angle+3*l/2;t.beginPath(),t.arc(i.x,i.y,.4*e.length,n,r,!1),t.stroke()}}]),t}(),ah=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),hh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),lh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};ih.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),uh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),ch=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),dh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),fh=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];ih.transform(i,e),ih.drawPath(t,i)}}]),t}(),ph=function(){function t(){da(this,t)}return fa(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":lh.draw(t,e);break;case"box":ch.draw(t,e);break;case"crow":rh.draw(t,e);break;case"curve":sh.draw(t,e);break;case"diamond":dh.draw(t,e);break;case"inv_curve":oh.draw(t,e);break;case"triangle":ah.draw(t,e);break;case"inv_triangle":hh.draw(t,e);break;case"bar":uh.draw(t,e);break;case"vee":fh.draw(t,e);break;case"arrow":default:nh.draw(t,e)}}}]),t}(),gh=function(){function t(e,i,n){da(this,t),this._body=i,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return fa(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1===e.dashes?this._drawLine(t,e,i):this._drawDashedLine(t,e,i)}},{key:"_drawLine",value:function(t,e,i,n,r){if(this.from!=this.to)this._line(t,e,i,n,r);else{var s=this._getCircleData(t),o=ya(s,3);this._circle(t,e,o[0],o[1],o[2])}}},{key:"_drawDashedLine",value:function(t,e,i){t.lineCap="round";var n=Array.isArray(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(n),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var r=this._getCircleData(t),s=ya(r,3);this._circle(t,e,s[0],s[1],s[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,n);else{var o=this._getCircleData(t),a=ya(o,3);this._circle(t,e,a[0],a[1],a[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from==this.to?this._findBorderPositionCircle(t,e,i):this._findBorderPosition(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e=this._getCircleData(t).slice(0,2),i=ya(e,2),n=i[0],r=i[1];return{from:this._findBorderPositionCircle(this.from,t,{x:n,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:n,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e,i,n=this.from,r=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-r):(e=n.x+r,i=n.y-.5*n.shape.height),[e,i,r]}},{key:"_pointOnCircle",value:function(t,e,r,s){var o=2*s*l;return{x:t+r*i(o),y:e-r*n(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var n,r=i.x,o=i.y,a=i.low,l=i.high,d=i.direction,f=this.options.selfReferenceSize,p=.5*(a+l),g=0;do{n=this._pointOnCircle(r,o,f,p=.5*(a+l));var m=u(t.y-n.y,t.x-n.x),v=t.distanceToBorder(e,m)-c(s(n.x-t.x,2)+s(n.y-t.y,2));if(h(v)<.05)break;0<v?0<d?a=p:l=p:0<d?l=p:a=p,++g}while(a<=l&&g<10);return function(t){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?Me(e,!0).forEach(function(i){va(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Me(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))});return t}({},n,{t:p})}},{key:"getLineWidth",value:function(t,e){return f(!0===t?this.selectionWidth:!0===e?this.hoverWidth:this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),n=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=Q(this.from.options.color.border,e.opacity),r=Q(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,r),i}return Q("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return Q(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,r){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,r,0,2*l,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,r,s){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,r,s);var o=this._getCircleData(void 0),a=ya(o,3),l=a[2],u=a[0]-r,d=a[1]-s;return h(c(u*u+d*d)-l)}},{key:"_getDistanceToLine",value:function(t,e,i,n,r,s){var o=i-t,a=n-e,h=((r-t)*o+(s-e)*a)/(o*o+a*a);1<h?h=1:0>h&&(h=0);var l=t+h*o-r,u=e+h*a-s;return c(l*l+u*u)}},{key:"getArrowData",value:function(t,e,r,s,o,a){var c,d,f,p,g,m,v,y=Math.hypot,b=a.width;"from"===e?(f=this.from,p=this.to,g=0>a.fromArrowScale,m=h(a.fromArrowScale),v=a.fromArrowType):"to"===e?(f=this.to,p=this.from,g=0>a.toArrowScale,m=h(a.toArrowScale),v=a.toArrowType):(f=this.to,p=this.from,g=0>a.middleArrowScale,m=h(a.middleArrowScale),v=a.middleArrowType);var _=15*m+3*b;if(f!=p){var w=_/y(f.x-p.x,f.y-p.y);if("middle"===e){var x=(g?-w:w)/2,S=this.getPoint(.5+x,r),k=this.getPoint(.5-x,r);c=u(S.y-k.y,S.x-k.x),d=this.getPoint(.5,r)}else if(!0===this.options.smooth.enabled){var C=this._findBorderPosition(f,t,{via:r}),A=this.getPoint(C.t+w*("from"===e?1:-1),r);c=u(C.y-A.y,C.x-A.x),d=C}else c=u(f.y-p.y,f.x-p.x),d=this._findBorderPosition(f,t)}else{var T=this._getCircleData(t),M=ya(T,3),E=M[0],D=M[1],P=M[2];if("from"===e){var O=this._findBorderPositionCircle(this.from,t,{x:E,y:D,low:.25,high:.6,direction:-1});c=-2*O.t*l+1.5*l+.1*l,d=O}else if("to"===e){var N=this._findBorderPositionCircle(this.from,t,{x:E,y:D,low:.6,high:1,direction:1});c=-2*N.t*l+1.5*l-1.1*l,d=N}else d=this._pointOnCircle(E,D,P,.175),c=3.9269908169872414}return{point:d,core:{x:d.x-.9*_*i(c),y:d.y-.9*_*n(c)},angle:c,length:_,type:v}}},{key:"drawArrowHead",value:function(t,e,i,n,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,ph.draw(t,r),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1===e)void 0===t.setLineDash?console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used."):t.setLineDash([]);else if(void 0!==t.setLineDash){var i=Array.isArray(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}(),mh=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,gh),fa(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,a=1,l=0,d=this.to;t.id===this.from.id&&(d=this.from,o=!0);var f=0;do{i=this.getPoint(n=.5*(l+a),r);var p=u(d.y-i.y,d.x-i.x),g=d.distanceToBorder(e,p),m=c(s(i.x-d.x,2)+s(i.y-d.y,2)),v=g-m;if(h(v)<.2)break;0>v?!1===o?l=n:a=n:!1===o?a=n:l=n,++f}while(l<=a&&f<10);return De({},i,{t:n})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,r,o,a){var h,l,u,c,d,f=1e9,p=t,g=e;for(l=1;10>l;l++)c=s(1-(u=.1*l),2)*t+2*u*(1-u)*a.x+s(u,2)*i,d=s(1-u,2)*e+2*u*(1-u)*a.y+s(u,2)*n,0<l&&(f=(h=this._getDistanceToLine(p,g,c,d,r,o))<f?h:f),p=c,g=d;return f}},{key:"_bezierCurve",value:function(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(),vh=function(t){function e(t,i,n){var r;return da(this,e),(r=Ta(this,Ma(e).call(this,t,i,n))).via=r.via,r._boundFunction=function(){r.positionBezierNode()},r._body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return Da(e,mh),fa(e,[{key:"setOptions",value:function(t){eh(Ma(e.prototype),"setOptions",this).call(this,t);var i=!1;this.options.physics!==t.physics&&(i=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),1==i&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics?{physics:!1}:this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var r=this._getCircleData(),o=ya(r,3),a=o[0],h=o[1],u=o[2],c=2*l*(1-t);return{x:a+u*n(c),y:h+u-u*(1-i(c))}}return{x:s(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+s(t,2)*this.toPoint.x,y:s(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+s(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){return this._getDistanceToBezierEdge(t,e,i,n,r,s,this.via)}}]),e}(),yh=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,mh),fa(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,r=this.options.smooth.roundness,s=this.options.smooth.type,o=h(this.from.x-this.to.x),a=h(this.from.y-this.to.y);if("discrete"===s||"diagonalCross"===s){var d,f;d=f=o<=a?r*a:r*o,this.from.x>this.to.x&&(d=-d),this.from.y>=this.to.y&&(f=-f);var p=this.from.x+d,g=this.from.y+f;return"discrete"===s&&(o<=a?p=o<r*a?this.from.x:p:g=a<r*o?this.from.y:g),{x:p,y:g}}if("straightCross"===s){var m=(1-r)*o,v=(1-r)*a;return o<=a?(m=0,this.from.y<this.to.y&&(v=-v)):(this.from.x<this.to.x&&(m=-m),v=0),{x:this.to.x+m,y:this.to.y+v}}if("horizontal"===s){var y=(1-r)*o;return this.from.x<this.to.x&&(y=-y),{x:this.to.x+y,y:this.from.y}}if("vertical"===s){var b=(1-r)*a;return this.from.y<this.to.y&&(b=-b),{x:this.from.x,y:this.to.y+b}}if("curvedCW"===s){var _=c((o=this.to.x-this.from.x)*o+(a=this.from.y-this.to.y)*a),w=l,x=(u(a,o)+(.5*r+.5)*w)%(2*w);return{x:this.from.x+(.5*r+.5)*_*n(x),y:this.from.y+(.5*r+.5)*_*i(x)}}if("curvedCCW"===s){var S=c((o=this.to.x-this.from.x)*o+(a=this.from.y-this.to.y)*a),k=l,C=(u(a,o)+(.5*-r+.5)*k)%(2*k);return{x:this.from.x+(.5*r+.5)*S*n(C),y:this.from.y+(.5*r+.5)*S*i(C)}}t=e=o<=a?r*a:r*o,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var A=this.from.x+t,T=this.from.y+e;return o<=a?A=this.from.x<=this.to.x?this.to.x<A?this.to.x:A:this.to.x>A?this.to.x:A:T=this.from.y>=this.to.y?this.to.y>T?this.to.y:T:this.to.y<T?this.to.y:T,{x:A,y:T}}},{key:"_findBorderPosition",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,r,s,o)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,n=s(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+s(i,2)*this.toPoint.x,r=s(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+s(i,2)*this.toPoint.y;return{x:n,y:r}}}]),e}(),bh=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,mh),fa(e,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,n,r,o,a,h){for(var l,u=1e9,c=t,d=e,f=[0,0,0,0],p=1;10>p;p++){f[0]=s(1-(l=.1*p),3),f[1]=3*l*s(1-l,2),f[2]=3*s(l,2)*(1-l),f[3]=s(l,3);var g=f[0]*t+f[1]*a.x+f[2]*h.x+f[3]*i,m=f[0]*e+f[1]*a.y+f[2]*h.y+f[3]*n;if(0<p){var v=this._getDistanceToLine(c,d,g,m,r,o);u=v<u?v:u}c=g,d=m}return u}}]),e}(),_h=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,bh),fa(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i[0],i[1])}},{key:"_getViaCoordinates",value:function(){var t,e,i,n,r=this.from.x-this.to.x,s=this.from.y-this.to.y,o=this.options.smooth.roundness;return(h(r)>h(s)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,n=this.to.y,t=this.from.x-o*r,i=this.to.x+o*r):(e=this.from.y-o*s,n=this.to.y+o*s,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:n}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),a=ya(o,2),h=a[0],l=a[1];return this._getDistanceToBezierEdge2(t,e,i,n,r,s,h,l)}},{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=ya(e,2),n=i[0],r=i[1],o=t,a=[s(1-o,3),3*o*s(1-o,2),3*s(o,2)*(1-o),s(o,3)],h=a[0]*this.fromPoint.x+a[1]*n.x+a[2]*r.x+a[3]*this.toPoint.x,l=a[0]*this.fromPoint.y+a[1]*n.y+a[2]*r.y+a[3]*this.toPoint.y;return{x:h,y:l}}}]),e}(),wh=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,gh),fa(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var r=u(i.y-n.y,i.x-n.x),s=i.x-n.x,o=i.y-n.y,a=c(s*s+o*o),h=(a-t.distanceToBorder(e,r))/a;return{x:(1-h)*n.x+h*i.x,y:(1-h)*n.y+h*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){return this._getDistanceToLine(t,e,i,n,r,s)}}]),e}(),xh=function(){function t(e,i,n,r){if(da(this,t),void 0===i)throw new Error("No body provided");this.options=ms.bridgeObject(n),this.globalOptions=n,this.defaultOptions=r,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Aa(this.body,this.options,!0),this.setOptions(e)}return fa(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;return t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.chooser=_a.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(!0!==this.chooser)"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0));else if(this.selected){var i=this.options.selectionWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=f(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var n=this.options.hoverWidth;"function"==typeof n?e.width=n(e.width):"number"==typeof n&&(e.width+=n),e.width=f(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else e.shadow=this.options.shadow.enabled,e.width=f(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof vh&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof _h&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof yh&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof wh&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new vh(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new _h(this.options,this.body,this.labelModule):new yh(this.options,this.body,this.labelModule):this.edgeType=new wh(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+n*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save();var s=this._getRotation(t);0!=s.angle&&(t.translate(s.x,s.y),t.rotate(s.angle)),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var o,a,h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(o=i.x+.5*i.shape.width,a=i.y-h):(o=i.x+h,a=i.y-.5*i.shape.height),r=this._pointOnCircle(o,a,h,.125),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();_a.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&10>this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.x-this.to.x,s=u(this.from.y-this.to.y,r);return(-1>s&&0>r||0<s&&0>r)&&(s+=l),n.angle=s,n}},{key:"_pointOnCircle",value:function(t,e,r,s){var o=2*s*l;return{x:t+r*i(o),y:e-r*n(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];if(ms.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],t,e,i),_a.isValidLabel(e.label)?t.label=e.label:!_a.isValidLabel(t.label)&&(t.label=void 0),ms.mergeOptions(t,e,"smooth",n),ms.mergeOptions(t,e,"shadow",n),ms.mergeOptions(t,e,"background",n),null!=e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Object.create(n.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),ms.mergeOptions(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=Object.create(n.scaling)),null==e.arrows)!0===i&&null===e.arrows&&(t.arrows=Object.create(n.arrows));else if("string"==typeof e.arrows){var s=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=s.indexOf("to"),t.arrows.middle.enabled=-1!=s.indexOf("middle"),t.arrows.from.enabled=-1!=s.indexOf("from")}else{if("object"!==ba(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));ms.mergeOptions(t.arrows,e.arrows,"to",n.arrows),ms.mergeOptions(t.arrows,e.arrows,"middle",n.arrows),ms.mergeOptions(t.arrows,e.arrows,"from",n.arrows)}if(null!=e.color){var o=ms.isString(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(r)ms.deepExtend(a,n.color,!1,i);else for(var h in a)a.hasOwnProperty(h)&&delete a[h];if(ms.isString(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===o.opacity&&(a.opacity=1);else{var l=!1;void 0!==o.color&&(a.color=o.color,l=!0),void 0!==o.highlight&&(a.highlight=o.highlight,l=!0),void 0!==o.hover&&(a.hover=o.hover,l=!0),void 0!==o.inherit&&(a.inherit=o.inherit),void 0!==o.opacity&&(a.opacity=p(1,f(0,o.opacity))),1==l?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===i&&null===e.color&&(t.color=ms.bridgeObject(n.color));!0===i&&null===e.font&&(t.font=ms.bridgeObject(n.font))}}]),t}(),Sh=function(){function t(e,i,n){var r=this;da(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:f(0,1/(e-t)*(n-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ms.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var n=!1;for(var r in t.body.edges)if(t.body.edges.hasOwnProperty(r)){var s=t.body.edges[r],o=t.body.data.edges._data[r];if(void 0!==o){var a=o.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(s.setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),n=!0)}}!0===i&&1==n&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){ms.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){xh.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();(void 0!==t.hidden||void 0!==t.physics||!0===e)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.data.edges;if(t instanceof Ys||t instanceof Vs)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new Ys,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Ys}if(n&&ms.forEach(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){ms.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.body.edges,n=this.body.data.edges,r=0;r<t.length;r++){var s=t[r],o=i[s];o&&o.disconnect();var a=n.get(s,{showInternalIds:!0});i[s]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,r=0;r<t.length;r++){var s=t[r],o=i.get(s),a=e[s];void 0===a?(this.body.edges[s]=this.create(o),n=!0):(a.disconnect(),n=a.setOptions(o)||n,a.connect())}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;ms.forEach(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;ms.forEach(this.body.edges,function(e,i){var n=t.body.data.edges._data[i];void 0!==n&&e.setOptions(n)})}},{key:"create",value:function(t){return new xh(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];ms.forEach(this.body.edges,function(i,n){var r=t.body.nodes[i.toId],s=t.body.nodes[i.fromId];void 0!==r&&!0===r.isCluster||void 0!==s&&!0===s.isCluster||(void 0===r||void 0===s)&&e.push(n)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];t.forEach(function(t,n){void 0===e[n]&&i.push(n)}),this.add(i,!0)}}}]),t}(),kh=function(){function t(e,i,n){da(this,t),this.body=e,this.physicsBody=i,this.setOptions(n),this.randomSeed=5}return fa(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-f(0,p(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*n(this.randomSeed++);return t-d(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(var s=0;s<n;s++)0<(t=e[i[s]]).options.mass&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,n,r;0<t.childrenCount&&((r=c((i=t.centerOfMass.x-e.x)*i+(n=t.centerOfMass.y-e.y)*n))*t.calcSize>this.thetaInversed?this._calculateForces(r,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,n,e,t))}},{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1),1>this.overlapAvoidanceFactor&&n.shape.radius&&(t=f(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass/s(t,3);this.physicsBody.forces[n.id].x+=e*o,this.physicsBody.forces[n.id].y+=i*o}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,n=e.length,r=t[e[0]].x,s=t[e[0]].y,o=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var u=t[e[l]],c=u.x,d=u.y;0<u.options.mass&&(c<r&&(r=c),c>o&&(o=c),d<s&&(s=d),d>a&&(a=d))}var p=h(o-r)-h(a-s);0<p?(s-=.5*p,a+=.5*p):(r+=.5*p,o-=.5*p);var g=f(1e-5,h(o-r)),m=.5*g,v=.5*(r+o),y=.5*(s+a),b={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-m,maxX:v+m,minY:y-m,maxY:y+m},size:g,calcSize:1/g,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(b.root);for(var _=0;_<n;_++)0<(i=t[e[_]]).options.mass&&this._placeInTree(b.root,i);return b}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,r=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=n;var s=f(f(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){(1!=i||void 0===i)&&this._updateBranchMass(t,e);var n=t.children.NW.range;this._placeInRegion(t,e,n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,n,r,s,o=.5*t.size;"NW"===e?(i=t.range.minX,n=t.range.minX+o,r=t.range.minY,s=t.range.minY+o):"NE"===e?(i=t.range.minX+o,n=t.range.maxX,r=t.range.minY,s=t.range.minY+o):"SW"===e?(i=t.range.minX,n=t.range.minX+o,r=t.range.minY+o,s=t.range.maxY):"SE"===e&&(i=t.range.minX+o,n=t.range.maxX,r=t.range.minY+o,s=t.range.maxY),t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:r,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),Ch=function(){function t(e,i,n){da(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return fa(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,s,o,a,h=this.body.nodes,l=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,d=this.options.nodeDistance,f=0;f<l.length-1;f++){o=h[l[f]];for(var p=f+1;p<l.length;p++)0===(i=c((t=(a=h[l[p]]).x-o.x)*t+(e=a.y-o.y)*e))&&(t=i=.1*Math.random()),i<2*d&&(s=i<.5*d?1:-2/3/d*i+4/3,r=e*(s/=i),u[o.id].x-=n=t*s,u[o.id].y-=r,u[a.id].x+=n,u[a.id].y+=r)}}}]),t}(),Ah=function(){function t(e,i,n){da(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return fa(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,r,o,a,h,l,u,d=this.body.nodes,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,g=this.options.nodeDistance;for(l=0;l<f.length-1;l++)for(a=d[f[l]],u=l+1;u<f.length;u++)a.level===(h=d[f[u]]).level&&(o=(i=c((t=h.x-a.x)*t+(e=h.y-a.y)*e))<g?-s(.05*i,2)+s(.05*g,2):0,0===i?i=.01:o/=i,r=e*o,p[a.id].x-=n=t*o,p[a.id].y-=r,p[h.id].x+=n,p[h.id].y+=r)}}]),t}(),Th=function(){function t(e,i,n){da(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return fa(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.physicsBody.physicsEdgeIndices,s=this.body.edges,o=0;o<r.length;o++)!0===(e=s[r[o]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0===e.edgeType.via?this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length):(n=e.from,this._calculateSpringForce(e.to,i=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(i,n,.5*t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,r=t.y-e.y,s=f(c(n*n+r*r),.01),o=this.options.springConstant*(i-s)/s,a=n*o,h=r*o;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}(),Mh=function(){function t(e,i,n){da(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return fa(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r,s,o,a,h,l=this.body.edges,u=this.physicsBody.physicsEdgeIndices,d=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,m=0;m<d.length;m++)g[h=d[m]].springFx=0,g[h].springFy=0;for(var v=0;v<u.length;v++)!0===(e=l[u[v]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,a=c((i=e.from.x-e.to.x)*i+(n=e.from.y-e.to.y)*n),r=i*(o=this.options.springConstant*(t-(a=0===a?.01:a))/a),s=n*o,e.to.level==e.from.level?(void 0!==g[e.toId]&&(g[e.toId].x-=.5*r,g[e.toId].y-=.5*s),void 0!==g[e.fromId]&&(g[e.fromId].x+=.5*r,g[e.fromId].y+=.5*s)):(void 0!==g[e.toId]&&(g[e.toId].springFx-=r,g[e.toId].springFy-=s),void 0!==g[e.fromId]&&(g[e.fromId].springFx+=r,g[e.fromId].springFy+=s)));o=1;for(var y,b,_,w=0;w<d.length;w++)y=p(o,f(-o,g[_=d[w]].springFx)),b=p(o,f(-o,g[_].springFy)),g[_].x+=y,g[_].y+=b;for(var x,S=0,k=0,C=0;C<d.length;C++)S+=g[x=d[C]].x,k+=g[x].y;for(var A,T=S/d.length,M=k/d.length,E=0;E<d.length;E++)g[A=d[E]].x-=T,g[A].y-=M}}]),t}(),Eh=function(){function t(e,i,n){da(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return fa(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,r=this.body.nodes,s=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,a=0;a<s.length;a++)i=c((t=-(n=r[s[a]]).x)*t+(e=-n.y)*e),this._calculateForces(i,t,e,o,n)}},{key:"_calculateForces",value:function(t,e,i,n,r){var s=0===t?0:this.options.centralGravity/t;n[r.id].x=e*s,n[r.id].y=i*s}}]),t}(),Dh=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,kh),fa(e,[{key:"_calculateForces",value:function(t,e,i,n,r){0===t&&(e=t=.1*Math.random()),1>this.overlapAvoidanceFactor&&n.shape.radius&&(t=f(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var o=this.options.gravitationalConstant*r.mass*n.options.mass*(n.edges.length+1)/s(t,2);this.physicsBody.forces[n.id].x+=e*o,this.physicsBody.forces[n.id].y+=i*o}}]),e}(),Ph=function(t){function e(t,i,n){return da(this,e),Ta(this,Ma(e).call(this,t,i,n))}return Da(e,Eh),fa(e,[{key:"_calculateForces",value:function(t,e,i,n,r){if(0<t){var s=this.options.centralGravity*(r.edges.length+1)*r.options.mass;n[r.id].x=e*s,n[r.id].y=i*s}}}]),e}(),Oh=function(){function t(e){da(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},ms.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,ms.selectiveNotDeepExtend(["stabilization"],this.options,t),ms.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new Dh(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new Th(this.body,this.physicsBody,t),this.gravitySolver=new Ph(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new Ch(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new Th(this.body,this.physicsBody,t),this.gravitySolver=new Eh(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new Ah(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new Mh(this.body,this.physicsBody,t),this.gravitySolver=new Eh(this.body,this.physicsBody,t)):(this.nodesSolver=new kh(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new Th(this.body,this.physicsBody,t),this.gravitySolver=new Eh(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=f(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(0==this.adaptiveCounter%this.adaptiveInterval?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var r,s=0;s<this.physicsBody.physicsNodeIndices.length;s++)this.physicsBody.forces[r=this.physicsBody.physicsNodeIndices[s]]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0});for(var o in this.physicsBody.velocities)void 0===t[o]&&delete this.physicsBody.velocities[o]}},{key:"revert",value:function(){var t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n,r=0;r<t.length;r++)void 0===e[n=t[r]]?delete this.previousStates[n]:!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y)}},{key:"_evaluateStepQuality",value:function(){var t,e=this.body.nodes,i=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==e[n]&&(t=e[n].y-i[n].positions.y,c(s(e[n].x-i[n].positions.x,2)+s(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var r=this._performStep(t[n]);e=f(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){var n=this.options.maxVelocity||1e9;return h(t+=(e-this.modelOptions.damping*t)/i*this.timestep)>n&&(t=0<t?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),c(s(n.x,2)+s(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;return"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return t._stabilizationBatch()},0))}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n=0;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],r=this.physicsBody.forces[i],o=c(s(r.x,2)+s(r.x,2)),a=p(f(5,o),15),h=ms.HSVToHex((180-180*p(1,f(0,.03*o)))/360,1,1),l={x:n.x+20*r.x,y:n.y+20*r.y};t.lineWidth=a,t.strokeStyle=h,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(l.x,l.y),t.stroke();var d=u(r.y,r.x);t.fillStyle=h,ph.draw(t,{type:"arrow",point:l,angle:d,length:3*a}),t.fill()}}}]),t}(),Nh=function(){function t(){da(this,t)}return fa(t,null,[{key:"getRange",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,o=-1e9;if(0<i.length)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).shape.boundingBox.left&&(s=e.shape.boundingBox.left),o<e.shape.boundingBox.right&&(o=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===o&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:r}}},{key:"getRangeCore",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=1e9,r=-1e9,s=1e9,o=-1e9;if(0<i.length)for(var a=0;a<i.length;a++)s>(e=t[i[a]]).x&&(s=e.x),o<e.x&&(o=e.x),n>e.y&&(n=e.y),r<e.y&&(r=e.y);return 1e9===s&&-1e9===o&&1e9===n&&-1e9===r&&(n=0,r=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(ms.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):ms.deepExtend(i,t.options,!0),i}}]),t}(),Lh=function(t){function e(t,i,n,r,s,o){var a;return da(this,e),(a=Ta(this,Ma(e).call(this,t,i,n,r,s,o))).isCluster=!0,a.containedNodes={},a.containedEdges={},a}return Da(e,$a),fa(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],ms.forEach(i.edges,function(t){delete e.containedEdges[t.id]}),ms.forEach(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},ms.forEach(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},ms.forEach(i.edges,function(t){ms.forEach(e.edges,function(i){var n=i.clusteringEdgeReplacingIds.indexOf(t.id);-1===n||(ms.forEach(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(n,1))})}),i.edges=[]}}]),e}(),Ih=function(){function t(e){var i=this;da(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},ms.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return fa(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===ba(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i,n=[],r=0;r<this.body.nodeIndices.length;r++)(i=this.body.nodes[this.body.nodeIndices[r]]).edges.length>=t&&n.push(i.id);for(var s=0;s<n.length;s++)this.clusterByConnection(n[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},r={};ms.forEach(this.body.nodes,function(i,s){i.options&&!0===e.joinCondition(i.options)&&(n[s]=i,ms.forEach(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)}))}),this._cluster(n,r,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,s,o,a=[],h={},l=function(n){var l={},u={},f=i.body.nodeIndices[n],p=i.body.nodes[f];if(void 0===h[f]){o=0,s=[];for(var g=0;g<p.edges.length;g++)void 0===i.clusteredEdges[(r=p.edges[g]).id]&&(r.toId!==r.fromId&&o++,s.push(r));if(o===t){c=function(t){if(null==e.joinCondition)return!0;var i=Nh.cloneOptions(t);return e.joinCondition(i)};for(var m=!0,v=0;v<s.length;v++){var y=i._getConnectedId(r=s[v],f);if(!c(p)){m=!1;break}u[r.id]=r,l[f]=p,l[y]=i.body.nodes[y],h[f]=!0}if(0<Object.keys(l).length&&0<Object.keys(u).length&&!0===m)if(void 0!==(d=function(){for(var t=0;t<a.length;++t)for(var e in l)if(void 0!==a[t].nodes[e])return a[t]}())){for(var b in l)void 0===d.nodes[b]&&(d.nodes[b]=l[b]);for(var _ in u)void 0===d.edges[_]&&(d.edges[_]=u[_])}else a.push({nodes:l,edges:u})}}},u=0;u<this.body.nodeIndices.length;u++){var c,d;l(u)}for(u=0;u<a.length;u++)this._cluster(a[u].nodes,a[u].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];void 0===(e=this._checkOptions(e,n)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var r={},s={},o=n.id,a=Nh.cloneOptions(n);r[o]=n;for(var h,l=0;l<n.edges.length;l++)if(void 0===this.clusteredEdges[(h=n.edges[l]).id]){var u=this._getConnectedId(h,o);if(void 0===this.clusteredNodes[u])if(u===o)s[h.id]=h;else if(void 0===e.joinCondition)s[h.id]=h,r[u]=this.body.nodes[u];else{var c=Nh.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(a,c)&&(s[h.id]=h,r[u]=this.body.nodes[u])}}var d=Object.keys(r).map(function(t){return r[t].id});for(p in r)if(r.hasOwnProperty(p))for(var f,p=r[p],g=0;g<p.edges.length;g++)-1<d.indexOf(this._getConnectedId(f=p.edges[g],p.id))&&(s[f.id]=f);this._cluster(r,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var r,s,o,a,h,l,u=Object.keys(t),c=[],d=0;d<u.length;d++){o=t[s=u[d]];for(var f=0;f<o.edges.length;f++)void 0===this.clusteredEdges[(r=o.edges[f]).id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(a=i.id,l=h=r.fromId):(h=i.id,l=a=r.toId),void 0===t[l]&&c.push({edge:r,fromId:h,toId:a}))}for(var p=[],g=function(t){for(var e=0;e<p.length;e++){var i=p[e];if(t.fromId===i.fromId&&t.toId===i.toId||t.fromId===i.toId&&t.toId===i.fromId)return i}return null},m=0;m<c.length;m++){var v=c[m],y=v.edge,b=g(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,n),p.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var o=0;o<r.length;++o)delete t[r[o]];if(0!=Object.keys(t).length&&(1!=Object.keys(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=ms.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var h=[];for(var l in t)if(t.hasOwnProperty(l)){var u=Nh.cloneOptions(t[l]);h.push(u)}var c=[];for(var d in e)if(e.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var f=Nh.cloneOptions(e[d],"edge");c.push(f)}if(!(a=i.processProperties(a,h,c)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+ms.randomUUID());var p,g=a.id;void 0===a.label&&(a.label="cluster"),void 0===a.x&&(p=this._getClusterPosition(t),a.x=p.x),void 0===a.y&&(void 0===p&&(p=this._getClusterPosition(t)),a.y=p.y),a.id=g;var m=this.body.functions.createNode(a,Lh);m.containedNodes=t,m.containedEdges=e,m.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=m,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0===this.body.nodes[t]?(console.log("Node does not exist."),!1):!0===this.body.nodes[t].isCluster}},{key:"_getClusterPosition",value:function(t){for(var e,i=Object.keys(t),n=t[i[0]].x,r=t[i[0]].x,s=t[i[0]].y,o=t[i[0]].y,a=1;a<i.length;a++)n=(e=t[i[a]]).x<n?e.x:n,r=e.x>r?e.x:r,s=e.y<s?e.y:s,o=e.y>o?e.y:o;return{x:.5*(n+r),y:.5*(s+o)}}},{key:"openCluster",value:function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),s=r.indexOf(t)-1;if(0<=s){var o=r[s],a=this.body.nodes[o];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var h=n.containedNodes,l=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var u={},c={x:n.x,y:n.y};for(var d in h)if(h.hasOwnProperty(d)){var f=this.body.nodes[d];u[d]={x:f.x,y:f.y}}var p=e.releaseFunction(c,u);for(var g in h)if(h.hasOwnProperty(g)){var m=this.body.nodes[g];void 0!==p[g]&&(m.x=void 0===p[g].x?n.x:p[g].x,m.y=void 0===p[g].y?n.y:p[g].y)}}else ms.forEach(h,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(var v in h)if(h.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=n.vx,y.vy=n.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],_=0;_<n.edges.length;_++)b.push(n.edges[_]);for(var w=0;w<b.length;w++){for(var x=b[w],S=this._getConnectedId(x,t),k=this.clusteredNodes[S],C=0;C<x.clusteringEdgeReplacingIds.length;C++){var A=x.clusteringEdgeReplacingIds[C],T=this.body.edges[A];if(void 0!==T)if(void 0!==k){var M=this.body.nodes[k.clusterId];M.containedEdges[T.id]=T,delete l[T.id];var E=T.fromId,D=T.toId;T.toId==S?D=k.clusterId:E=k.clusterId,this._createClusteredEdge(E,D,T,M.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(T)}x.remove()}for(var P in l)l.hasOwnProperty(P)&&this._restoreEdge(l[P]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],n=0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),i.reverse(),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e,i=[t],n=[],r=[],s=0;0<i.length&&s<100;)if(void 0!==(e=i.pop())){var o=this.body.edges[e];if(void 0!==o){s++;var a=o.clusteringEdgeReplacingIds;if(void 0===a)r.push(e);else for(var h,l=0;l<a.length;++l)h=a[l],-1===i.indexOf(a)&&-1===n.indexOf(a)&&i.push(h);n.push(e)}}return r}},{key:"_getConnectedId",value:function(t,e){return t.toId==e?t.fromId:t.toId}},{key:"_getHubSize",value:function(){for(var t,e=0,i=0,n=0,r=0,o=0;o<this.body.nodeIndices.length;o++)(t=this.body.nodes[this.body.nodeIndices[o]]).edges.length>r&&(r=t.edges.length),e+=t.edges.length,i+=s(t.edges.length,2),n+=1;var a=(i/=n)-s(e/=n,2),h=c(a),l=d(e+2*h);return l>r&&(l=r),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,r){var s=Nh.cloneOptions(i,"edge");ms.deepExtend(s,n),s.from=t,s.to=e,s.id="clusterEdge:"+ms.randomUUID(),void 0!==r&&ms.deepExtend(s,r);var o=this.body.functions.createEdge(s);return o.clusteringEdgeReplacingIds=[i.id],o.connect(),this.body.edges[o.id]=o,o}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof xh){var r={};r[e.id]=e,e=r}if(t instanceof $a){var s={};s[t.id]=t,t=s}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var o in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(e.hasOwnProperty(o)&&void 0!==this.body.edges[o]){var a=this.body.edges[o];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var h in t)t.hasOwnProperty(h)&&(this.clusteredNodes[h]={clusterId:i.id,node:this.body.nodes[h]},this.body.nodes[h].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;return void 0===i?void 0:this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return ms.forEach(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t,e=this,i=[],n={},r=function(t){ms.forEach(e.body.nodes,function(e){!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(t)&&void 0===this.body.nodes[t]&&i.push(t);r(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];ms.forEach(this.clusteredEdges,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(n[t]=t)}),r(function(t){ms.forEach(t.containedEdges,function(t,e){t.endPointsValid()||n[e]||(n[e]=e)})}),ms.forEach(this.body.edges,function(t,i){var r=!0,s=t.clusteringEdgeReplacingIds;if(void 0!==s){var o=0;ms.forEach(s,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(o+=1)}),r=0<o}t.endPointsValid()&&r||(n[i]=i)}),r(function(t){ms.forEach(n,function(i){delete t.containedEdges[i],ms.forEach(t.edges,function(r,s){return r.id===i?void(t.edges[s]=null):void(r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,function(t){return!n[t]}))}),t.edges=e._filter(t.edges,function(t){return null!==t})})}),ms.forEach(n,function(t){delete e.clusteredEdges[t]}),ms.forEach(n,function(t){delete e.body.edges[t]});var o=Object.keys(this.body.edges);ms.forEach(o,function(t){var i=e.body.edges[t],n=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(n!==e._isClusteredEdge(i.id))if(n){var r=e._getClusterNodeForNode(i.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[i.fromId],i,r);var s=e._getClusterNodeForNode(i.toId);void 0!==s&&e._clusterEdges(e.body.nodes[i.toId],i,s)}else delete e._clusterEdges[t],e._restoreEdge(i)});for(var a=!1,h=!0,l=function(){var t=[];r(function(e){var i=Object.keys(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&1>i||!n&&2>i)&&t.push(e.id)});for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);h=0<t.length,a=a||h};h;)l();a&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}(),Fh=function(){function t(e,i){da(this,t),function(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}(),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},ms.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=window.setTimeout(function(){t.zooming=!1,t._requestRedraw.bind(t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=0<t.renderRequests,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&ms.selectiveDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var n in i)i.hasOwnProperty(n)&&((e=i[n]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,s=[],o=20,a=this.canvas.DOMtoCanvas({x:-o,y:-o}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+o,y:this.canvas.frame.canvas.clientHeight+o}),l={top:a.y,left:a.x,bottom:h.y,right:h.x},u=0;u<r.length;u++)(e=n[r[u]]).isSelected()?s.push(r[u]):!0===i?e.draw(t):!0===e.isBoundingBoxOverlappingWith(l)?e.draw(t):e.updateBoundingBox(t,e.selected);for(var c=0;c<s.length;c++)(e=n[s[c]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e,i=this.body.edges,n=this.body.edgeIndices,r=0;r<n.length;r++)!0===(e=i[n[r]]).connected&&e.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1==t.indexOf("msie 9.0")?-1!=t.indexOf("safari")&&-1>=t.indexOf("chrome")&&(this.requiresTimeout=!0):this.requiresTimeout=!0}else this.requiresTimeout=!0}}]),t}(),Rh=Tt(function(t,e){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}}),zh=function(){function t(e){da(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},ms.extend(this.options,this.defaultOptions),this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&ms.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),ms.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),ms.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1==t?1!=e&&(i=this.cameraState.scale*e):i=this.cameraState.scale*t,this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ha(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ha.DIRECTION_ALL}),Rh.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new ha(this.frame),Rh.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=r(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=r(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var a=r(this.frame.canvas.clientWidth*this.pixelRatio),h=r(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==h)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==h&&(this.frame.canvas.height=h,i=!0)}return 1==i&&(this.body.emitter.emit("resize",{width:r(this.frame.canvas.width/this.pixelRatio),height:r(this.frame.canvas.height/this.pixelRatio),oldWidth:r(n/this.pixelRatio),oldHeight:r(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}(),Bh=function(){function t(e,i){var n=this;da(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return fa(t,[{key:"setOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t,e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if((void 0===(i=Object.assign({},i)).nodes||0===i.nodes.length)&&(i.nodes=this.body.nodeIndices),!0===n){var r=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var o=this.body.nodes[s];!0===o.predefinedPosition&&(r+=1)}if(r>.5*this.body.nodeIndices.length)return void this.fit(i,!1);t=Nh.getRange(this.body.nodes,i.nodes);var a=this.body.nodeIndices.length;e=12.662/(a+7.4147)+.0964822;var l=p(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);e*=l}else{this.body.emitter.emit("_resizeNodes"),t=Nh.getRange(this.body.nodes,i.nodes);var u=1.1*h(t.maxX-t.minX),c=1.1*h(t.maxY-t.minY),d=this.canvas.frame.canvas.clientWidth/u,f=this.canvas.frame.canvas.clientHeight/c;e=d<=f?d:f}1<e?e=1:0===e&&(e=1);var g=Nh.findCenter(t),m={position:g,scale:e,animation:i.animation};this.moveTo(m)}},{key:"focus",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){var e=Number.isFinite;if(void 0!==t){if(null!=t.offset){if(null==t.offset.x)t.offset.x=0;else if(t.offset.x=+t.offset.x,!e(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.');if(null==t.offset.y)t.offset.x=0;else if(t.offset.y=+t.offset.y,!e(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset={x:0,y:0};if(null!=t.position){if(null==t.position.x)t.position.x=0;else if(t.position.x=+t.position.x,!e(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.');if(null==t.position.y)t.position.x=0;else if(t.position.y=+t.position.y,!e(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position=this.getViewPosition();if(null==t.scale)t.scale=this.body.view.scale;else if(t.scale=+t.scale,!(0<t.scale))throw new TypeError('The option "scale" has to be a number greater than zero.');void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?null==this.lockedOnNodeId?(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=this.body.view.translation;this.body.view.translation={x:n.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+(i.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=ms.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}(),jh=function(){function t(e,i){var n=this;da(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return fa(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var r=new ha(this.navigationDOM[e[n]]);Rh.onTouch(r,"_fit"===i[n]?this._fit.bind(this):this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(r)}var s=new ha(this.canvas.frame);Rh.onRelease(s,function(){t._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,r=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=ao(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}(),Hh=function(){function t(e,i){da(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return fa(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,s=0,o=0;if("flip"==this.overflowMethod){var a=!1,h=!0;this.y-e<this.padding&&(h=!1),this.x+i>r-this.padding&&(a=!0),s=a?this.x-i:this.x,o=h?this.y-e:this.y}else(o=this.y-e)+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding),(s=this.x)+i+this.padding>r&&(s=r-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),Yh=function(){function t(e,i,n){da(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new jh(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},ms.extend(this.options,this.defaultOptions),this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(ms.selectiveNotDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),ms.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(ms.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=ms.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-ms.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-ms.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if(10<(new Date).valueOf()-this.touchTime){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=this.selectionHandler.getSelection(),r=!1;r=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var s=this.selectionHandler.getSelection(),o=this._determineDifference(n,s),a=this._determineDifference(s,n);0<o.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),r=!0),0<o.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),r=!0),0<a.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),0<a.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i,n=[],r=0;r<t.length;r++)-1===e.indexOf(i=t[r])&&n.push(i);return n};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=ms.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n],s={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var r=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;n.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i,n=this.body.view.scale;1e-5>t&&(t=1e-5),10<t&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,s=t/n,o=(1-s)*e.x+r.x*s,a=(1-s)*e.y+r.y*s;if(this.body.view.scale=t,this.body.view.translation={x:o,y:a},null!=i){var h=this.canvas.canvasToDOM(i);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",n<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!=e){var i=this.body.view.scale,n=e*(this.options.zoomSpeed/10);0>e&&(n/=1-n),i*=1+n;var r=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,r)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),!this.drag.dragging&&(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,o="node";if(void 0===this.popupObj){for(var a,h=this.body.nodeIndices,l=this.body.nodes,u=[],c=0;c<h.length;c++)!0===(a=l[h[c]]).isOverlappingWith(n)&&(s=!0,void 0!==a.getTitle()&&u.push(h[c]));0<u.length&&(this.popupObj=l[u[u.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var d,f=this.body.edgeIndices,p=this.body.edges,g=[],m=0;m<f.length;m++)!0===(d=p[f[m]]).isOverlappingWith(n)&&!0===d.connected&&void 0!==d.getTitle()&&g.push(f[m]);0<g.length&&(this.popupObj=p[g[g.length-1]],o="edge")}void 0===this.popupObj?void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup")):this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new Hh(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"!==this.popup.popupTargetType)void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));else if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),Vh=function(){function t(e,i){var n=this;da(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},ms.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return fa(t,[{key:"setOptions",value:function(t){void 0!==t&&ms.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){return{pointer:{DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},event:t}}},{key:"_generateClickEvent",value:function(t,e,i,n){var r=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],s=this._initBaseEvent(e,i);if(!0===r)s.nodes=[],s.edges=[];else{var o=this.getSelection();s.nodes=o.nodes,s.edges=o.edges}void 0!==n&&(s.previousSelection=n),"click"==t&&(s.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(s.controlEdge=e.controlEdge),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof $a&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e,i=[],n=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++)n[e=this.body.nodeIndices[r]].isOverlappingWith(t)&&i.push(e);return i}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return 0<n.length?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i,n=this.body.edges,r=0;r<this.body.edgeIndices.length;r++)n[i=this.body.edgeIndices[r]].isOverlappingWith(t)&&e.push(i)}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,r=null,s=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var a=this.body.edgeIndices[o],h=s[a];if(h.connected){var l=h.from.x,u=h.from.y,c=h.to.x,d=h.to.y,f=h.edgeType.getDistanceToEdge(l,u,c,d,i.x,i.y);f<n&&(r=a,n=f)}}return null===r?void 0:!0===e?this.body.edges[r]:r}},{key:"_addToSelection",value:function(t){t instanceof $a?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof $a?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof $a?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&1<this.selectionObj.nodes[t].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e,i=0;i<t.edges.length;i++)(e=t.edges[i]).select(),this._addToSelection(e)}},{key:"_hoverConnectedEdges",value:function(t){for(var e,i=0;i<t.edges.length;i++)(e=t.edges[i]).hover=!0,this._addToHover(e)}},{key:"_unselectConnectedEdges",value:function(t){for(var e,i=0;i<t.edges.length;i++)(e=t.edges[i]).unselect(),this._removeFromSelection(e)}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof $a?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof $a?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),r}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===i||i instanceof $a&&i.id!=r||i instanceof xh)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],n=!0);for(var s in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(s)&&(!0===n?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof xh&&i.id!=s||i instanceof $a&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(void 0!==i){var o=Object.keys(this.hoverObj.edges).length,a=Object.keys(this.hoverObj.nodes).length;(n||i instanceof xh&&0===o&&0===a||i instanceof $a&&0===o&&0===a)&&(n=this.emitHoverEvent(t,e,i)),i instanceof $a&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((n.unselectAll||void 0===n.unselectAll)&&this.unselectAll(),t.nodes)for(e=0;e<t.nodes.length;e++){var r=this.body.nodes[i=t.nodes[e]];if(!r)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(r,n.highlightEdges)}if(t.edges)for(e=0;e<t.edges.length;e++){var s=this.body.edges[i=t.edges[e]];if(!s)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,r=this.body.nodes,s=n.length-1;0<=s;s--){var o=r[n[s]].getItemsOnPoint(e);i.push.apply(i,o)}for(var a=this.body.edgeIndices,h=this.body.edges,l=a.length-1;0<=l;l--){var u=h[a[l]].getItemsOnPoint(e);i.push.apply(i,u)}return i}}]),t}(),qh=Tt(function(t,e){!function(t){function e(t){return 1e5>t?100>t?10>t?0:1:1e4>t?1e3>t?2:3:4:1e7>t?1e6>t?5:6:1e9>t?1e8>t?7:8:9}function i(t,i){if(t===i)return 0;if(~~t===t&&~~i===i){if(0===t||0===i)return t<i?-1:1;if(0>t||0>i){if(0<=i)return-1;if(0<=t)return 1;t=-t,i=-i}var n=e(t),r=e(i),s=0;return n<r?(t*=l[r-n-1],i/=10,s=-1):n>r&&(i*=l[n-r-1],t/=10,s=1),t===i?s:t<i?-1:1}var o=t+"",a=i+"";return o===a?0:o<a?-1:1}function n(t,e,i,n){var r=e+1;if(r===i)return 1;if(0>n(t[r++],t[e])){for(;r<i&&0>n(t[r],t[r-1]);)r++;!function(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&0<=n(t[r],t[r-1]);)r++;return r-e}function r(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var s=t[n],o=e,a=n;o<a;){var h=o+a>>>1;0>r(s,t[h])?a=h:o=h+1}var l=n-o;switch(l){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;0<l;)t[o+l]=t[o+l-1],l--}t[o]=s}}function s(t,e,i,n,r,s){var o=0,a=0,h=1;if(0<s(t,e[i+r])){for(a=n-r;h<a&&0<s(t,e[i+r+h]);)o=h,0>=(h=1+(h<<1))&&(h=a);h>a&&(h=a),o+=r,h+=r}else{for(a=r+1;h<a&&0>=s(t,e[i+r-h]);)o=h,0>=(h=1+(h<<1))&&(h=a);h>a&&(h=a);var l=o;o=r-h,h=r-l}for(o++;o<h;){var u=o+(h-o>>>1);0<s(t,e[i+u])?o=u+1:h=u}return h}function o(t,e,i,n,r,s){var o=0,a=0,h=1;if(0>s(t,e[i+r])){for(a=r+1;h<a&&0>s(t,e[i+r-h]);)o=h,0>=(h=1+(h<<1))&&(h=a);h>a&&(h=a);var l=o;o=r-h,h=r-l}else{for(a=n-r;h<a&&0<=s(t,e[i+r+h]);)o=h,0>=(h=1+(h<<1))&&(h=a);h>a&&(h=a),o+=r,h+=r}for(o++;o<h;){var u=o+(h-o>>>1);0>s(t,e[i+u])?h=u:o=u+1}return h}t.__esModule=!0,t.sort=function(t,e,s,o){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");e?"function"!=typeof e&&(o=s,s=e,e=i):e=i,s||(s=0),o||(o=t.length);var a=o-s;if(!(2>a)){var h=0;if(32>a)return void r(t,s,o,s+(h=n(t,s,o,e)),e);var l=new u(t,e),c=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(a);do{if((h=n(t,s,o,e))<c){var d=a;d>c&&(d=c),r(t,s,s+d,s+h,e),h=d}l.pushRun(s,h),l.mergeRuns(),a-=h,s+=h}while(0!==a);l.forceMergeRuns()}};var a=7,h=256,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],u=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.array=null,this.compare=null,this.minGallop=a,this.length=0,this.tmpStorageLength=h,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=e,this.compare=i,this.length=e.length,this.length<2*h&&(this.tmpStorageLength=this.length>>>1),this.tmp=Array(this.tmpStorageLength),this.stackLength=120>this.length?5:1542>this.length?10:119151>this.length?19:40,this.runStart=Array(this.stackLength),this.runLength=Array(this.stackLength)}return t.prototype.pushRun=function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;1<this.stackSize;){var t=this.stackSize-2;if(1<=t&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||2<=t&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;1<this.stackSize;){var t=this.stackSize-2;0<t&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var e=this.compare,i=this.array,n=this.runStart[t],r=this.runLength[t],a=this.runStart[t+1],h=this.runLength[t+1];this.runLength[t]=r+h,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var l=o(i[a],i,n,r,0,e);n+=l,0!=(r-=l)&&(0===(h=s(i[n+r-1],i,a,h,h-1,e))||(r<=h?this.mergeLow(n,r,a,h):this.mergeHigh(n,r,a,h)))},t.prototype.mergeLow=function(t,e,i,n){var r=this.compare,h=this.array,l=this.tmp,u=0;for(u=0;u<e;u++)l[u]=h[t+u];var c=0,d=i,f=t;if(h[f++]=h[d++],0!=--n)if(1!==e){for(var p=this.minGallop;;){var g=0,m=0,v=!1;do{if(0>r(h[d],l[c])){if(h[f++]=h[d++],m++,g=0,0==--n){v=!0;break}}else if(h[f++]=l[c++],g++,m=0,1==--e){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!==(g=o(h[d],l,c,e,0,r))){for(u=0;u<g;u++)h[f+u]=l[c+u];if(f+=g,c+=g,1>=(e-=g)){v=!0;break}}if(h[f++]=h[d++],0==--n){v=!0;break}if(0!==(m=s(l[c],h,d,n,0,r))){for(u=0;u<m;u++)h[f+u]=h[d+u];if(f+=m,d+=m,0==(n-=m)){v=!0;break}}if(h[f++]=l[c++],1==--e){v=!0;break}p--}while(g>=a||m>=a);if(v)break;0>p&&(p=0),p+=2}if(this.minGallop=p,1>p&&(this.minGallop=1),1===e){for(u=0;u<n;u++)h[f+u]=h[d+u];h[f+n]=l[c]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(u=0;u<e;u++)h[f+u]=l[c+u]}}else{for(u=0;u<n;u++)h[f+u]=h[d+u];h[f+n]=l[c]}else for(u=0;u<e;u++)h[f+u]=l[c+u]},t.prototype.mergeHigh=function(t,e,i,n){var r=this.compare,h=this.array,l=this.tmp,u=0;for(u=0;u<n;u++)l[u]=h[i+u];var c=t+e-1,d=n-1,f=i+n-1,p=0,g=0;if(h[f--]=h[c--],0!=--e)if(1!==n){for(var m=this.minGallop;;){var v=0,y=0,b=!1;do{if(0>r(l[d],h[c])){if(h[f--]=h[c--],v++,y=0,0==--e){b=!0;break}}else if(h[f--]=l[d--],y++,v=0,1==--n){b=!0;break}}while((v|y)<m);if(b)break;do{if(0!=(v=e-o(l[d],h,t,e,e-1,r))){for(e-=v,g=1+(f-=v),p=1+(c-=v),u=v-1;0<=u;u--)h[g+u]=h[p+u];if(0===e){b=!0;break}}if(h[f--]=l[d--],1==--n){b=!0;break}if(0!=(y=n-s(h[c],l,0,n,n-1,r))){for(n-=y,g=1+(f-=y),p=1+(d-=y),u=0;u<y;u++)h[g+u]=l[p+u];if(1>=n){b=!0;break}}if(h[f--]=h[c--],0==--e){b=!0;break}m--}while(v>=a||y>=a);if(b)break;0>m&&(m=0),m+=2}if(this.minGallop=m,1>m&&(this.minGallop=1),1===n){for(g=1+(f-=e),p=1+(c-=e),u=e-1;0<=u;u--)h[g+u]=h[p+u];h[f]=l[d]}else{if(0===n)throw new Error("mergeHigh preconditions were not respected");for(p=f-(n-1),u=0;u<n;u++)h[p+u]=l[u]}}else{for(g=1+(f-=e),p=1+(c-=e),u=e-1;0<=u;u--)h[g+u]=h[p+u];h[f]=l[d]}else for(p=f-(n-1),u=0;u<n;u++)h[p+u]=l[u]},t}()}(e)});qh&&qh.__esModule&&Object.prototype.hasOwnProperty.call(qh,"default");var Wh=qh,Uh=Wh.sort,Gh=function(){function t(){da(this,t)}return fa(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),Xh=function(t){function e(t){var i;return da(this,e),(i=Ta(this,Ma(e).call(this))).layout=t,i}return Da(e,Gh),fa(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){Uh(t,function(t,e){return t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),Kh=function(t){function e(t){var i;return da(this,e),(i=Ta(this,Ma(e).call(this))).layout=t,i}return Da(e,Gh),fa(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){Uh(t,function(t,e){return t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(),Zh=function(){function t(){da(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return fa(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(1<this.parentReference[t].length)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0===e||void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=f(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var r=e.levels[n];if(e.childrenReference[n]){var s=e.childrenReference[n];if(0<s.length)for(var o=0;o<s.length;o++)r=f(r,t(s[o]))}return i[n]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=p(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,r=1e9,s=-1e9;for(var o in this.trees)if(this.trees.hasOwnProperty(o)&&this.trees[o]===e){var a=t[o];i=p(a.x,i),n=f(a.x,n),r=p(a.y,r),s=f(a.y,s)}return{min_x:i,max_x:n,min_y:r,max_y:s}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var r=0;r<i.length;r++)for(var s=0;s<n.length;s++)if(i[r]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return Object.keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var r in n)if(n[r]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),Qh=function(){function t(e){da(this,t),this.body=e,this.initialRandomSeed=r(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},ms.extend(this.options,this.defaultOptions),this.bindEventListeners()}return fa(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(ms.selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),ms.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?0<i.levelSeparation&&(i.levelSeparation*=-1):0>i.levelSeparation&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),ms.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===ba(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*n(this.randomSeed++);return t-d(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,r=0;r<t.length;r++){var s=t[r],o=2*l*this.seededRandom();void 0===s.x&&(s.x=e*i(o)),void 0===s.y&&(s.y=e*n(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,r=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var o=t.length;t.length>r&&10>=n;){var a=t.length;if(0==(n+=1)%3?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),a==t.length&&0!=n%3)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:f(150,2*o)})}10<n&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var h,l=0;l<t.length;l++)!1===(h=this.body.nodes[t[l]]).predefinedPosition&&(h.x+=70*(.5-this.seededRandom()),h.y+=70*(.5-this.seededRandom()));this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t,e=Nh.getRangeCore(this.body.nodes,this.body.nodeIndices),i=Nh.findCenter(e),n=0;n<this.body.nodeIndices.length;n++)(t=this.body.nodes[this.body.nodeIndices[n]]).x-=i.x,t.y-=i.y}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new Zh,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0===(t=this.body.nodes[e]).options.level?n=!0:(i=!0,this.hierarchical.levels[e]=t.options.level));if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.hierarchical.ensureLevel(s);var o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(e,i){var n=t.hierarchical.trees;for(var r in n)n.hasOwnProperty(r)&&n[r]===e&&t.direction.shift(r,i)},o=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var r=t.hierarchical.childrenReference[i.id];if(0<r.length)for(var s=0;s<r.length;s++)e(t.body.nodes[r[s]],n)}},a=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,s=1e9,o=-1e9;for(var a in e)if(e.hasOwnProperty(a)){var h=t.body.nodes[a],l=t.hierarchical.levels[h.id],u=t.direction.getPosition(h),c=t._getSpaceAroundNode(h,e),d=ya(c,2),g=d[0],m=d[1];n=p(g,n),r=p(m,r),l<=i&&(s=p(u,s),o=f(u,o))}return[s,o,n,r]},l=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(i.id);return p(n,r)},u=function(e,i,n){for(var r=t.hierarchical,s=0;s<i.length;s++){var o=r.distributionOrdering[i[s]];if(1<o.length)for(var a=0;a<o.length-1;a++){var h=o[a],l=o[a+1];r.hasSameParent(h,l)&&r.inSameSubNetwork(h,l)&&e(h,l,n)}}},d=function(i,n){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],s=t.direction.getPosition(i),u=t.direction.getPosition(n),c=h(u-s),d=t.options.hierarchical.nodeSpacing;if(c>d){var f={},p={};o(i,f),o(n,p);var g=l(i,n),m=a(f,g),v=a(p,g),y=m[1],b=v[0],_=v[2],w=h(y-b);if(w>d){var x=y-b+d;x<-_+d&&(x=-_+d),0>x&&(t._shiftBlock(n.id,x),e=!0,!0===r&&t._centerParent(n))}}},g=function(n,h){for(var l,u=h.id,d=h.edges,g=t.hierarchical.levels[h.id],m=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,v={},y=[],b=0;b<d.length;b++)if((l=d[b]).toId!=l.fromId){var _=l.toId==u?l.from:l.to;v[d[b].id]=_,t.hierarchical.levels[_.id]<g&&y.push(l)}var w=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==v[i[r].id]){var s=t.direction.getPosition(v[i[r].id])-e;n+=s/c(s*s+m)}return n},x=function(e,i){for(var n=0,r=0;r<i.length;r++)if(void 0!==v[i[r].id]){var o=t.direction.getPosition(v[i[r].id])-e;n-=m*s(o*o+m,-1.5)}return n},S=function(e,i){for(var n=t.direction.getPosition(h),s={},o=0;o<e;o++){var a=w(n,i),l=x(n,i);if(void 0!==s[n-=f(-40,p(40,r(a/l)))])break;s[n]=o}return n},k=S(n,y);(function(n){var r=t.direction.getPosition(h);if(void 0===i[h.id]){var s={};o(h,s),i[h.id]=s}var l=a(i[h.id]),u=l[2],c=n-r,d=0;0<c?d=p(c,l[3]-t.options.hierarchical.nodeSpacing):0>c&&(d=-p(-c,u-t.options.hierarchical.nodeSpacing)),0!=d&&(t._shiftBlock(h.id,d),e=!0)})(k),function(i){var n=t.direction.getPosition(h),r=t._getSpaceAroundNode(h),s=ya(r,2),o=s[0],a=i-n,l=n;0<a?l=p(n+(s[1]-t.options.hierarchical.nodeSpacing),i):0>a&&(l=f(n-(o-t.options.hierarchical.nodeSpacing),i)),l!==n&&(t.direction.setPosition(h,l),e=!0)}(k=S(n,d))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var r=0;r<5&&(e=!1,u(d,n,!0),!0===e);r++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var r=0;r<20;r++){e=!1;for(var s=0;s<n.length;s++)for(var o=t.hierarchical.distributionOrdering[n[s]],a=0;a<o.length;a++)g(1e3,o[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var n=t.hierarchical.distributionOrdering[e[i]],r=0;r<n.length;r++)t._centerParent(n[r])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,r=0;r<e.length-1;r++)n(r+1,i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[t.id],s=this.direction.getPosition(t),o=this.hierarchical.distributionOrdering[n],a=1e9,h=1e9;if(0!==r){var l=o[r-1];(1==i&&void 0===e[l.id]||0==i)&&(a=s-this.direction.getPosition(l))}if(r!=o.length-1){var u=o[r+1];if(1==i&&void 0===e[u.id]||0==i){var c=this.direction.getPosition(u);h=p(h,c-s)}}return[a,h]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],r=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var o=this._getCenterPosition(s),a=this.direction.getPosition(r),l=this._getSpaceAroundNode(r),u=ya(l,2),c=u[0],d=u[1],f=a-o;(0>f&&h(f)<d-this.options.hierarchical.nodeSpacing||0<f&&h(f)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,o)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=Object.keys(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var n,r=0,s=0;s<i.length;s++)if(void 0===this.positionedNodes[(n=i[s]).id]){var o=this.options.hierarchical.nodeSpacing,a=o*r;0<r&&(a=this.direction.getPosition(i[s-1])+o),this.direction.setPosition(n,a,e),this._validatePositionAndContinue(n,e,a),r++}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var n=[],r=0;r<i.length;r++)n.push(this.body.nodes[i[r]]);this.direction.sort(n);for(var s=0;s<n.length;s++){var o=n[s],a=this.hierarchical.levels[o.id];if(!(a>e&&void 0===this.positionedNodes[o.id]))return;var h,l=this.options.hierarchical.nodeSpacing;h=0==s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[s-1])+l,this.direction.setPosition(o,h,a),this._validatePositionAndContinue(o,a,h)}var u=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],u,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(this.body.nodes.hasOwnProperty(t)){var n=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e=this.body.nodes[t],n),void 0===i[n]&&(i[n]={}),i[n][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return ms.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={};ms.forEach(this.body.nodeIndices,function(i){var n=t._getActiveEdges(t.body.nodes[i]).length;e[n]=!0});var i=[];return ms.forEach(e,function(t){i.push(+t)}),Wh.sort(i,function(t,e){return e-t}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(n){var r=i[n];return 0===r?"break":void ms.forEach(t.body.nodeIndices,function(i){r===t._getActiveEdges(t.body.nodes[i]).length&&t._crawlNetwork(e,i)})},r=0;r<i.length&&"break"!==n(r);++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(e,i,n){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var s=(Nh.cloneOptions(e,"node"),Nh.cloneOptions(i,"node"),void Nh.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=r+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this;this.hierarchical.levels=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.create(null),i=t.length,n=!0,r=!1,s=void 0;try{for(var o,a,h=function(){var n=o.value;if(!n.edges.every(function(t){return t.to===n}))return"continue";e[n.id]=0;for(var r=[n],s=0,a=void 0;a=r.pop();){var h=a.edges,l=e[a.id]-1,u=!0,c=!1,d=void 0;try{for(var f,p,g=h[Symbol.iterator]();!(u=(f=g.next()).done);u=!0)if((p=f.value).connected&&p.to===a&&p.to!==p.from){var m=p.fromId,v=e[m];(null==v||v>l)&&(e[m]=l,r.push(p.from))}}catch(t){c=!0,d=t}finally{try{u||null==g.return||g.return()}finally{if(c)throw d}}if(s>i)return{v:Pe(t,e)};++s}},l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)switch(a=h(),a){case"continue":continue;default:if("object"===ba(a))return a.v}}catch(t){r=!0,s=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}return e}(this.body.nodeIndices.map(function(e){return t.body.nodes[e]}),this.hierarchical.levels),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},i=1<arguments.length?arguments[1]:void 0,n={},r=function i(r,s){if(void 0===n[r.id]){t.hierarchical.setTreeIndex(r,s),n[r.id]=!0;for(var o,a,h=t._getActiveEdges(r),l=0;l<h.length;l++)!0===(a=h[l]).connected&&r.id!=(o=a.toId==r.id?a.from:a.to).id&&(e(r,o,a),i(o,s))}};if(void 0===i){for(var s,o=0,a=0;a<this.body.nodeIndices.length;a++)if(void 0===n[s=this.body.nodeIndices[a]]){var h=this.body.nodes[s];r(h,o),o+=1}}else{var l=this.body.nodes[i];if(void 0===l)return void console.error("Node not found:",i);r(l)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(r){if(!n[r]){n[r]=!0,i.direction.shift(r,e);var s=i.hierarchical.childrenReference[r];if(void 0!==s)for(var o=0;o<s.length;o++)t(s[o])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var s,o=0;o<r.length;o++)e[s=r[o]]=!0,t(e,s)}(n,t),function t(e,n){var r=i.hierarchical.parentReference[n];if(void 0!==r)for(var s,o=0;o<r.length;o++){if(void 0!==e[s=r[o]])return{foundParent:s,withChild:n};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new Xh(this):new Kh(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var r=this.direction.getPosition(void 0!==t[n].id?t[n]:this.body.nodes[t[n]]);e=p(e,r),i=f(i,r)}return.5*(e+i)}}]),t}(),$h=function(){function t(e,i,n){var r=this;da(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},ms.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){r._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return fa(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(this.options.locale=void 0===e.locale?i.locale:e.locale,this.options.locales=void 0===e.locales?i.locales:e.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,ms.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=this.options.locales[this.options.locale],n=!1;!1!==this.options.addNode&&(this._createAddNodeButton(i),n=!0),!1!==this.options.addEdge&&(!0===n?this._createSeperator(1):n=!0,this._createAddEdgeButton(i)),1===t&&"function"==typeof this.options.editNode?(!0===n?this._createSeperator(2):n=!0,this._createEditNodeButton(i)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===n?this._createSeperator(3):n=!0,this._createEditEdgeButton(i)),0!==t+e&&(0<t&&!1!==this.options.deleteNode?(!0===n&&this._createSeperator(4),this._createDeleteButton(i)):0===t&&!1!==this.options.deleteEdge&&(!0===n&&this._createSeperator(4),this._createDeleteButton(i))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0===e)this.showManipulatorToolbar();else{if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=ms.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==ba(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),n=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var r=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=r.from.x,i.y=r.from.y),!1===n.selected&&(n.x=r.to.x,n.y=r.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var r=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(r.from.id,r.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(0<e.length){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else 0<i.length&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n({nodes:e,edges:i},function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=ms.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+ms.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},ms.recursiveDOMDelete(this.editModeDiv);var t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(ms.recursiveDOMDelete(this.editModeDiv),ms.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),ms.recursiveDOMDelete(this.manipulationDiv),ms.recursiveDOMDelete(this.editModeDiv),ms.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new ha(t,{});Rh.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=ms.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.selectionHandler._pointerToPositionObject(this.lastTouch),e=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=e.isOverlappingWith(t),s=i.isOverlappingWith(t);!0===r?(this.selectedControlNode=e,n.edgeType.from=e):!0===s&&(this.selectedControlNode=i,n.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;0<=o;o--)if(r[o]!==this.selectedControlNode.id){s=this.body.nodes[r[o]];break}void 0===s||void 0===this.selectedControlNode?(n.updateEdgeType(),this.body.emitter.emit("restorePhysics")):!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(100<(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=ms.extend({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(e.x,e.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var n=this.body.functions.createEdge({id:"connectionEdge"+ms.randomUUID(),from:e.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;0<=o;o--)if(-1===this.temporaryIds.nodes.indexOf(r[o])){s=this.body.nodes[r[o]];break}if(t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var a=this.body.nodes[this.temporaryIds.nodes[0]];a.x=this.canvas._XconvertDOMtoCanvas(e.x),a.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,o=r.length-1;0<=o;o--)if(-1===this.temporaryIds.nodes.indexOf(r[o])){s=this.body.nodes[r[o]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(n,s.id)),t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:ms.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"!=typeof this.options.addNode)this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar();else{if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()})}}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"!=typeof this.options.addEdge)this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},r=this.options.editEdge;if("object"===ba(r)&&(r=r.editWithoutDrag),"function"!=typeof r)this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}}}]),t}(),Jh={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},tl=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;da(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return fa(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return Jh[t]}},{key:"setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===ms.isString(t)){if(!0===ms.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===ms.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===ms.isValidHex(t)){var o=ms.hexToRGB(t);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0===t.a?"1.0":t.a;i={r:t.r,g:t.g,b:t.b,a:a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=ms.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0===this.previousColor?alert("There is no last color to load..."):this.setColor(this.previousColor,!1)}},{key:"_setColor",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=ms.extend({},t)),this.color=t;var r=ms.RGBToHSV(t.r,t.g,t.b),s=2*l,o=this.r*r.s,a=this.centerCoordinates.x+o*n(s*r.h),h=this.centerCoordinates.y+o*i(s*r.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=ms.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=ms.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,e=ms.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new ha(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Rh.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,r,s,o,a=this.colorPickerCanvas.clientWidth,h=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,a,h),this.centerCoordinates={x:.5*a,y:.5*h},this.r=.49*a;var u,c=2*l/360,d=1/this.r;for(s=0;360>s;s++)for(o=0;o<this.r;o++)e=this.centerCoordinates.x+o*n(c*s),r=this.centerCoordinates.y+o*i(c*s),u=ms.HSVToRGB(s*(1/360),o*d,1),t.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",t.fillRect(e-.5,r-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,a,h)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),r=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,o=t.center.x-e.left-s,a=t.center.y-e.top-r,h=u(o,a),d=.98*p(c(o*o+a*a),s),f=i(h)*d+r,g=n(h)*d+s;this.colorPickerSelector.style.top=f-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=g-.5*this.colorPickerSelector.clientWidth+"px";var m=h/(2*l);m=0>m?m+1:m;var v=d/this.r,y=ms.RGBToHSV(this.color.r,this.color.g,this.color.b);y.h=m,y.s=v;var b=ms.HSVToRGB(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}(),el=function(){function t(e,i,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;da(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ms.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tl(r),this.wrapper=void 0}return fa(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(t instanceof Array)this.options.filter=t.join();else if("object"===ba(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=this.options.filter,e=0,i=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):(!0===t||-1!==t.indexOf(n))&&(i=!0),!1!==i&&(this.allowCreation=!0,0<e&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==t.indexOf(e)&&(r=t.indexOf(e));for(var s,o=0;o<t.length;o++)(s=document.createElement("option")).value=t[o],o==r&&(s.selected="selected"),s.innerHTML=t[o],n.appendChild(s);var a=this;n.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],r=t[1],s=t[2],o=t[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=r,h.max=s}catch(t){}h.step=o;var l="",u=0;if(void 0!==e){var c=1.2;0>e&&e*c<r?(h.min=a(e*c),u=h.min,l="range increased"):e/c<r&&(h.min=a(e/c),u=h.min,l="range increased"),e*c>s&&1!==s&&(h.max=a(e*c),u=h.max,l="range increased"),h.value=e}else h.value=n;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=h.value;var f=this;h.onchange=function(){d.value=this.value,f._update(+this.value,i)},h.oninput=function(){d.value=this.value};var p=this._makeLabel(i[i.length-1],i),g=this._makeItem(i,p,h,d);""!=l&&this.popupHistory[g]!==u&&(this.popupHistory[g]=u,this._setupPopup(l,g))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===ba(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var r=this;n.onchange=function(){r._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,r=t[1],s=document.createElement("div");"none"===(e=void 0===e?r:e)?s.className="vis-configuration vis-config-colorBlock none":(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e),e=void 0===e?r:e,s.onclick=function(){n._showColorPicker(e,s,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,s)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,n._update(r,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=!1,r=this.options.filter,s=!1;for(var o in t)if(t.hasOwnProperty(o)){n=!0;var a=t[o],h=ms.copyAndExtendArray(e,o);if("function"==typeof r&&!1===(n=r(o,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,h,!0),this.allowCreation=!1===i),!1!==n){s=!0;var l=this._getValue(h);if(a instanceof Array)this._handleArray(a,l,h);else if("string"==typeof a)this._makeTextInput(a,l,h);else if("boolean"==typeof a)this._makeCheckbox(a,l,h);else if(a instanceof Object){var u=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==o&&(u=!1),1==u)if(void 0!==a.enabled){var c=ms.copyAndExtendArray(h,"enabled"),d=this._getValue(c);if(!0===d){var f=this._makeLabel(o,h,!0);this._makeItem(h,f),s=this._handleObject(a,h)||s}else this._makeCheckbox(a,d,h)}else{var p=this._makeLabel(o,h,!0);this._makeItem(h,p),s=this._handleObject(a,h)||s}}else console.error("dont know how to handle",a,o,h)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:+e}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===n[e[r]]&&(n[e[r]]={}),r==e.length-1?n[e[r]]=t:n=n[e[r]]);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),il="string",nl="boolean",rl="number",sl="array",ol="object",al=["arrow","circle","bar"],hl={configure:{enabled:{boolean:nl},filter:{boolean:nl,string:il,array:sl,function:"function"},container:{dom:"dom"},showButton:{boolean:nl},__type__:{object:ol,boolean:nl,string:il,array:sl,function:"function"}},edges:{arrows:{to:{enabled:{boolean:nl},scaleFactor:{number:rl},type:{string:al},__type__:{object:ol,boolean:nl}},middle:{enabled:{boolean:nl},scaleFactor:{number:rl},type:{string:al},__type__:{object:ol,boolean:nl}},from:{enabled:{boolean:nl},scaleFactor:{number:rl},type:{string:al},__type__:{object:ol,boolean:nl}},__type__:{string:["from","to","middle"],object:ol}},arrowStrikethrough:{boolean:nl},background:{enabled:{boolean:nl},color:{string:il},size:{number:rl},dashes:{boolean:nl,array:sl},__type__:{object:ol,boolean:nl}},chosen:{label:{boolean:nl,function:"function"},edge:{boolean:nl,function:"function"},__type__:{object:ol,boolean:nl}},color:{color:{string:il},highlight:{string:il},hover:{string:il},inherit:{string:["from","to","both"],boolean:nl},opacity:{number:rl},__type__:{object:ol,string:il}},dashes:{boolean:nl,array:sl},font:{color:{string:il},size:{number:rl},face:{string:il},background:{string:il},strokeWidth:{number:rl},strokeColor:{string:il},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:rl},multi:{boolean:nl,string:il},bold:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},boldital:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},ital:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},mono:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},__type__:{object:ol,string:il}},hidden:{boolean:nl},hoverWidth:{function:"function",number:rl},label:{string:il,undefined:"undefined"},labelHighlightBold:{boolean:nl},length:{number:rl,undefined:"undefined"},physics:{boolean:nl},scaling:{min:{number:rl},max:{number:rl},label:{enabled:{boolean:nl},min:{number:rl},max:{number:rl},maxVisible:{number:rl},drawThreshold:{number:rl},__type__:{object:ol,boolean:nl}},customScalingFunction:{function:"function"},__type__:{object:ol}},selectionWidth:{function:"function",number:rl},selfReferenceSize:{number:rl},shadow:{enabled:{boolean:nl},color:{string:il},size:{number:rl},x:{number:rl},y:{number:rl},__type__:{object:ol,boolean:nl}},smooth:{enabled:{boolean:nl},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:rl},forceDirection:{string:["horizontal","vertical","none"],boolean:nl},__type__:{object:ol,boolean:nl}},title:{string:il,undefined:"undefined"},width:{number:rl},widthConstraint:{maximum:{number:rl},__type__:{object:ol,boolean:nl,number:rl}},value:{number:rl,undefined:"undefined"},__type__:{object:ol}},groups:{useDefaultGroups:{boolean:nl},__any__:"get from nodes, will be overwritten below",__type__:{object:ol}},interaction:{dragNodes:{boolean:nl},dragView:{boolean:nl},hideEdgesOnDrag:{boolean:nl},hideEdgesOnZoom:{boolean:nl},hideNodesOnDrag:{boolean:nl},hover:{boolean:nl},keyboard:{enabled:{boolean:nl},speed:{x:{number:rl},y:{number:rl},zoom:{number:rl},__type__:{object:ol}},bindToWindow:{boolean:nl},__type__:{object:ol,boolean:nl}},multiselect:{boolean:nl},navigationButtons:{boolean:nl},selectable:{boolean:nl},selectConnectedEdges:{boolean:nl},hoverConnectedEdges:{boolean:nl},tooltipDelay:{number:rl},zoomView:{boolean:nl},zoomSpeed:{number:rl},__type__:{object:ol}},layout:{randomSeed:{undefined:"undefined",number:rl},improvedLayout:{boolean:nl},clusterThreshold:{number:rl},hierarchical:{enabled:{boolean:nl},levelSeparation:{number:rl},nodeSpacing:{number:rl},treeSpacing:{number:rl},blockShifting:{boolean:nl},edgeMinimization:{boolean:nl},parentCentralization:{boolean:nl},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:ol,boolean:nl}},__type__:{object:ol}},manipulation:{enabled:{boolean:nl},initiallyActive:{boolean:nl},addNode:{boolean:nl,function:"function"},addEdge:{boolean:nl,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ol,boolean:nl,function:"function"}},deleteNode:{boolean:nl,function:"function"},deleteEdge:{boolean:nl,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:ol,boolean:nl}},nodes:{borderWidth:{number:rl},borderWidthSelected:{number:rl,undefined:"undefined"},brokenImage:{string:il,undefined:"undefined"},chosen:{label:{boolean:nl,function:"function"},node:{boolean:nl,function:"function"},__type__:{object:ol,boolean:nl}},color:{border:{string:il},background:{string:il},highlight:{border:{string:il},background:{string:il},__type__:{object:ol,string:il}},hover:{border:{string:il},background:{string:il},__type__:{object:ol,string:il}},__type__:{object:ol,string:il}},fixed:{x:{boolean:nl},y:{boolean:nl},__type__:{object:ol,boolean:nl}},font:{align:{string:il},color:{string:il},size:{number:rl},face:{string:il},background:{string:il},strokeWidth:{number:rl},strokeColor:{string:il},vadjust:{number:rl},multi:{boolean:nl,string:il},bold:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},boldital:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},ital:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},mono:{color:{string:il},size:{number:rl},face:{string:il},mod:{string:il},vadjust:{number:rl},__type__:{object:ol,string:il}},__type__:{object:ol,string:il}},group:{string:il,number:rl,undefined:"undefined"},heightConstraint:{minimum:{number:rl},valign:{string:il},__type__:{object:ol,boolean:nl,number:rl}},hidden:{boolean:nl},icon:{face:{string:il},code:{string:il},size:{number:rl},color:{string:il},weight:{string:il,number:rl},__type__:{object:ol}},id:{string:il,number:rl},image:{selected:{string:il,undefined:"undefined"},unselected:{string:il,undefined:"undefined"},__type__:{object:ol,string:il}},imagePadding:{top:{number:rl},right:{number:rl},bottom:{number:rl},left:{number:rl},__type__:{object:ol,number:rl}},label:{string:il,undefined:"undefined"},labelHighlightBold:{boolean:nl},level:{number:rl,undefined:"undefined"},margin:{top:{number:rl},right:{number:rl},bottom:{number:rl},left:{number:rl},__type__:{object:ol,number:rl}},mass:{number:rl},physics:{boolean:nl},scaling:{min:{number:rl},max:{number:rl},label:{enabled:{boolean:nl},min:{number:rl},max:{number:rl},maxVisible:{number:rl},drawThreshold:{number:rl},__type__:{object:ol,boolean:nl}},customScalingFunction:{function:"function"},__type__:{object:ol}},shadow:{enabled:{boolean:nl},color:{string:il},size:{number:rl},x:{number:rl},y:{number:rl},__type__:{object:ol,boolean:nl}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:nl,array:sl},borderRadius:{number:rl},interpolation:{boolean:nl},useImageSize:{boolean:nl},useBorderWithImage:{boolean:nl},__type__:{object:ol}},size:{number:rl},title:{string:il,dom:"dom",undefined:"undefined"},value:{number:rl,undefined:"undefined"},widthConstraint:{minimum:{number:rl},maximum:{number:rl},__type__:{object:ol,boolean:nl,number:rl}},x:{number:rl},y:{number:rl},__type__:{object:ol}},physics:{enabled:{boolean:nl},barnesHut:{gravitationalConstant:{number:rl},centralGravity:{number:rl},springLength:{number:rl},springConstant:{number:rl},damping:{number:rl},avoidOverlap:{number:rl},__type__:{object:ol}},forceAtlas2Based:{gravitationalConstant:{number:rl},centralGravity:{number:rl},springLength:{number:rl},springConstant:{number:rl},damping:{number:rl},avoidOverlap:{number:rl},__type__:{object:ol}},repulsion:{centralGravity:{number:rl},springLength:{number:rl},springConstant:{number:rl},nodeDistance:{number:rl},damping:{number:rl},__type__:{object:ol}},hierarchicalRepulsion:{centralGravity:{number:rl},springLength:{number:rl},springConstant:{number:rl},nodeDistance:{number:rl},damping:{number:rl},__type__:{object:ol}},maxVelocity:{number:rl},minVelocity:{number:rl},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:nl},iterations:{number:rl},updateInterval:{number:rl},onlyDynamicEdges:{boolean:nl},fit:{boolean:nl},__type__:{object:ol,boolean:nl}},timestep:{number:rl},adaptiveTimestep:{boolean:nl},__type__:{object:ol,boolean:nl}},autoResize:{boolean:nl},clickToUse:{boolean:nl},locale:{string:il},locales:{__any__:{any:"any"},__type__:{object:ol}},height:{string:il},width:{string:il},__type__:{object:ol}};hl.groups.__any__=hl.nodes,hl.manipulation.controlNodeStyle=hl.nodes;var ll={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}},ul=Object.freeze({allOptions:hl,configureOptions:ll}),cl=function(){function t(){da(this,t)}return fa(t,[{key:"getDistances",value:function(t,e,i){for(var n={},r=t.edges,s=0;s<e.length;s++){var o={};n[e[s]]=o;for(var a=0;a<e.length;a++)o[e[a]]=s==a?0:1e9}for(var h,l=0;l<i.length;l++)!0===(h=r[i[l]]).connected&&void 0!==n[h.fromId]&&void 0!==n[h.toId]&&(n[h.fromId][h.toId]=1,n[h.toId][h.fromId]=1);for(var u=e.length,c=0;c<u;c++)for(var d=e[c],f=n[d],g=0;g<u-1;g++)for(var m=e[g],v=n[m],y=g+1;y<u;y++){var b=e[y],_=n[b],w=p(v[b],v[d]+f[b]);v[b]=w,_[m]=w}return n}}]),t}(),dl=function(){function t(e,i,n){da(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new cl}return fa(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();for(var r=0,s=f(1e3,p(10*this.body.nodeIndices.length,6e3)),o=1e9,a=0,h=0,l=0,u=0,c=0;o>.01&&r<s;){r+=1;var d=this._getHighestEnergyNode(i),g=ya(d,4);for(a=g[0],h=g[2],l=g[3],u=o=g[1],c=0;u>1&&c<5;){c+=1,this._moveNode(a,h,l);var m=this._getEnergy(a),v=ya(m,3);u=v[0],h=v[1],l=v[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e,i=this.body.nodeIndices,n=this.body.nodes,r=0,s=i[0],o=0,a=0,h=0;h<i.length;h++)if(!1===n[e=i[h]].predefinedPosition||!0===n[e].isCluster&&!0===t||!0===n[e].options.fixed.x||!0===n[e].options.fixed.y){var l=this._getEnergy(e),u=ya(l,3),c=u[0];r<c&&(r=c,s=e,o=u[1],a=u[2])}return[s,r,o,a]}},{key:"_getEnergy",value:function(t){var e=ya(this.E_sums[t],2),i=e[0],n=e[1];return[c(s(i,2)+s(n,2)),i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n,r=this.body.nodeIndices,o=this.body.nodes,a=0,h=0,l=0,u=o[t].x,c=o[t].y,d=this.K_matrix[t],f=this.L_matrix[t],p=0;p<r.length;p++)if((n=r[p])!==t){var g=o[n].x,m=o[n].y,v=d[n],y=f[n],b=1/s(s(u-g,2)+s(c-m,2),1.5);a+=v*(1-y*s(c-m,2)*b),h+=v*(y*(u-g)*(c-m)*b),l+=v*(1-y*s(u-g,2)*b)}var _=(e/a+i/h)/(h/a-l/h);o[t].x+=-(h*_+e)/a,o[t].y+=_,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[n]][e[r]]=i*t[e[n]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[n]][e[r]]=i*s(t[e[n]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var r,o=t[n],a=e[o].x,h=e[o].y,l=0,u=0,d=n;d<t.length;d++)if((r=t[d])!==o){var f=e[r].x,p=e[r].y,g=1/c(s(a-f,2)+s(h-p,2));this.E_matrix[o][d]=[this.K_matrix[o][r]*(a-f-this.L_matrix[o][r]*(a-f)*g),this.K_matrix[o][r]*(h-p-this.L_matrix[o][r]*(h-p)*g)],this.E_matrix[r][n]=this.E_matrix[o][d],l+=this.E_matrix[o][d][0],u+=this.E_matrix[o][d][1]}this.E_sums[o]=[l,u]}}},{key:"_updateE_matrix",value:function(t){for(var e,i=this.body.nodeIndices,n=this.body.nodes,r=this.E_matrix[t],o=this.K_matrix[t],a=this.L_matrix[t],h=n[t].x,l=n[t].y,u=0,d=0,f=0;f<i.length;f++)if((e=i[f])!==t){var p=r[f],g=p[0],m=p[1],v=n[e].x,y=n[e].y,b=1/c(s(h-v,2)+s(l-y,2)),_=o[e]*(h-v-a[e]*(h-v)*b),w=o[e]*(l-y-a[e]*(l-y)*b);r[f]=[_,w],u+=_,d+=w;var x=this.E_sums[e];x[0]+=_-g,x[1]+=w-m}this.E_sums[t]=[u,d]}}]),t}();Ws(Oe.prototype),Oe.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===Qa.validate(t,hl)&&console.log("%cErrors have been found in the supplied options object.",Za),ms.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(!this.configurator&&(this.configurator=new el(this,this.body.container,ll,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ms.deepExtend(i.nodes,this.nodesHandler.options),ms.deepExtend(i.edges,this.edgesHandler.options),ms.deepExtend(i.layout,this.layoutEngine.options),ms.deepExtend(i.interaction,this.selectionHandler.options),ms.deepExtend(i.interaction,this.renderer.options),ms.deepExtend(i.interaction,this.interactionHandler.options),ms.deepExtend(i.manipulation,this.manipulation.options),ms.deepExtend(i.physics,this.physics.options),ms.deepExtend(i.global,this.canvas.options),ms.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0===t.clickToUse?this.body.emitter.emit("activate"):!0===t.clickToUse?void 0===this.activator&&(this.activator=new Ce(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Oe.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],s=t[r.fromId],o=t[r.toId];!this.clustering._isClusteredEdge(n)&&!1===r.options.hidden&&void 0!==s&&void 0!==o&&!1===s.options.hidden&&!1===o.options.hidden&&this.body.edgeIndices.push(r.id)}},Oe.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},Oe.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=ro.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=Gt(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Oe.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];ms.recursiveDOMDelete(this.body.container)},Oe.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,r=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:p(s,i),n=void 0===n?s:f(s,n),r+=s)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,r)},Oe.prototype.isActive=function(){return!this.activator||this.activator.active},Oe.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Oe.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Oe.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Oe.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Oe.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Oe.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Oe.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Oe.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Oe.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Oe.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Oe.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Oe.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Oe.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Oe.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Oe.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Oe.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Oe.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Oe.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Oe.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Oe.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Oe.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Oe.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Oe.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Oe.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Oe.prototype.getConnectedNodes=function(t){return void 0===this.body.nodes[t]?this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments):this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)},Oe.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Oe.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Oe.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Oe.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Oe.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Oe.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Oe.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},Oe.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},Oe.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},Oe.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},Oe.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Oe.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Oe.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},Oe.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Oe.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Oe.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Oe.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Oe.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Oe.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Oe.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Oe.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var fl=Tt(function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?0<e[t].redundant.length?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var r;return e.hasOwnProperty(t)?0<e[t].redundant.length?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0===n?i.appendChild(r):i.insertBefore(r,n)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0===n?i.appendChild(r):i.insertBefore(r,n)),e[t].used.push(r),r},e.drawPoint=function(t,i,n,r,s,o){var a;if("circle"==n.style?((a=e.getSVGElement("circle",r,s)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):((a=e.getSVGElement("rect",r,s)).setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),o){var h=e.getSVGElement("text",r,s);o.xOffset&&(t+=o.xOffset),o.yOffset&&(i+=o.yOffset),o.content&&(h.textContent=o.content),o.className&&h.setAttributeNS(null,"class",o.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,r,s,o,a,h){if(0!=r){0>r&&(i-=r*=-1);var l=e.getSVGElement("rect",o,a);l.setAttributeNS(null,"x",t-.5*n),l.setAttributeNS(null,"y",i),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",r),l.setAttributeNS(null,"class",s),h&&l.setAttributeNS(null,"style",h)}}}),pl=Object.freeze({default:fl,__moduleExports:fl,prepareElements:fl.prepareElements,cleanupElements:fl.cleanupElements,resetElements:fl.resetElements,getSVGElement:fl.getSVGElement,getDOMElement:fl.getDOMElement,drawPoint:fl.drawPoint,drawBar:fl.drawBar}),gl=Tt(function(t){t.exports=function(){function e(){return ce.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){for(var i in e)g(e,i)&&(t[i]=e[i]);return g(e,"toString")&&(t.toString=e.toString),g(e,"valueOf")&&(t.valueOf=e.valueOf),t}function v(t,e,i,n){return Mt(t,e,i,n,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function b(t){if(null==t._isValid){var e=y(t),i=de.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function _(t){var e=v(NaN);return null==t?y(e).userInvalidated=!0:m(y(e),t),e}function w(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=y(e)),o(e._locale)||(t._locale=e._locale),0<fe.length)for(i=0;i<fe.length;i++)o(r=e[n=fe[i]])||(t[n]=r);return t}function x(t){w(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===pe&&(pe=!0,e.updateOffset(this),pe=!1)}function S(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function k(t){return 0>t?a(t)||0:d(t)}function C(t){var e=+t,i=0;return 0!=e&&isFinite(e)&&(i=k(e)),i}function A(t,e,i){var n,r=p(t.length,e.length),s=h(t.length-e.length),o=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&C(t[n])!==C(e[n]))&&o++;return o+s}function T(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,i){var n=!0;return m(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}T(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function E(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),ge[t]||(T(i),ge[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var i,r=m({},t);for(i in e)g(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},m(r[i],t[i]),m(r[i],e[i])):null==e[i]?delete r[i]:r[i]=e[i]);for(i in t)g(t,i)&&!g(e,i)&&n(t[i])&&(r[i]=m({},r[i]));return r}function O(t){null!=t&&this.set(t)}function N(t,e){var i=t.toLowerCase();ve[i]=ve[i+"s"]=ve[e]=t}function L(t){return"string"==typeof t?ve[t]||ve[t.toLowerCase()]:void 0}function I(t){var e,i,n={};for(i in t)g(t,i)&&(e=L(i))&&(n[e]=t[i]);return n}function F(t,e){ye[t]=e}function R(t,e,i){var n=""+h(t);return(0<=t?i?"+":"":"-")+s(10,f(0,e-n.length)).toString().substr(1)+n}function z(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(xe[t]=r),e&&(xe[e[0]]=function(){return R(r.apply(this,arguments),e[1],e[2])}),i&&(xe[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function j(t,e){return t.isValid()?(e=H(e,t.localeData()),we[e]=we[e]||function(t){var e,i,n=t.match(be);for(e=0,i=n.length;e<i;e++)n[e]=xe[n[e]]?xe[n[e]]:B(n[e]);return function(e){var r,s="";for(r=0;r<i;r++)s+=D(n[r])?n[r].call(e,t):n[r];return s}}(e),we[e](t)):t.localeData().invalidDate()}function H(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(_e.lastIndex=0;0<=n&&_e.test(t);)t=t.replace(_e,i),_e.lastIndex=0,n-=1;return t}function Y(t,e,i){Be[t]=D(e)?e:function(t){return t&&i?i:e}}function V(t,e){return g(Be,t)?Be[t](e._strict,e._locale):new RegExp(function(t){return q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r}))}(t))}function q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),l(e)&&(n=function(t,i){i[e]=C(t)}),i=0;i<t.length;i++)je[t[i]]=n}function U(t,e){W(t,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function G(t,e,i){null!=e&&g(je,t)&&je[t](e,i._a,i,t)}function X(t){return K(t)?366:365}function K(t){return 0==t%4&&0!=t%100||0==t%400}function Z(t,i){return function(n){return null==n?Q(this,t):($(this,t,n),e.updateOffset(this,i),this)}}function Q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function $(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&K(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),J(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function J(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%12+12)%12}(e);return t+=(e-i)/12,1===i?K(t)?29:28:31-i%7%2}function tt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return i=p(t.date(),J(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function et(t){return null==t?Q(this,"Month"):(tt(this,t),e.updateOffset(this,!0),this)}function it(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],s=[];for(e=0;12>e;e++)i=v([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),s.sort(t),e=0;12>e;e++)n[e]=q(n[e]),r[e]=q(r[e]);for(e=0;24>e;e++)s[e]=q(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function nt(t){var e;if(100>t&&0<=t){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function rt(t,e,i){var n=7+e-i;return-(7+nt(t,0,n).getUTCDay()-e)%7+n-1}function st(t,e,i,n,r){var s,o,a=1+7*(e-1)+(7+i-n)%7+rt(t,n,r);return 0>=a?o=X(s=t-1)+a:a>X(t)?(s=t+1,o=a-X(t)):(s=t,o=a),{year:s,dayOfYear:o}}function ot(t,e,i){var n,r,s=rt(t.year(),e,i),o=d((t.dayOfYear()-s-1)/7)+1;return 1>o?n=o+at(r=t.year()-1,e,i):o>at(t.year(),e,i)?(n=o-at(t.year(),e,i),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function at(t,e,i){var n=rt(t,e,i),r=rt(t+1,e,i);return(X(t)-n+r)/7}function ht(t,e){return t.slice(e,7).concat(t.slice(0,e))}function lt(){function t(t,e){return e.length-t.length}var e,i,n,r,s,o=[],a=[],h=[],l=[];for(e=0;7>e;e++)i=v([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),s=this.weekdays(i,""),o.push(n),a.push(r),h.push(s),l.push(n),l.push(r),l.push(s);for(o.sort(t),a.sort(t),h.sort(t),l.sort(t),e=0;7>e;e++)a[e]=q(a[e]),h[e]=q(h[e]),l[e]=q(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ut(){return this.hours()%12||12}function ct(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function dt(t,e){return e._meridiemParse}function ft(t){return t?t.toLowerCase().replace("_","-"):t}function pt(e){var i=null;if(!Ke[e]&&t&&t.exports)try{i=Ue._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),gt(i)}catch(e){}return Ke[e]}function gt(t,e){var i;return t&&((i=o(e)?vt(t):mt(t,e))?Ue=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ue._abbr}function mt(t,e){if(null!==e){var i,n=Xe;if(e.abbr=t,null!=Ke[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ke[t]._config;else if(null!=e.parentLocale)if(null!=Ke[e.parentLocale])n=Ke[e.parentLocale]._config;else{if(null==(i=pt(e.parentLocale)))return Ze[e.parentLocale]||(Ze[e.parentLocale]=[]),Ze[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Ke[t]=new O(P(n,e)),Ze[t]&&Ze[t].forEach(function(t){mt(t.name,t.config)}),gt(t),Ke[t]}return delete Ke[t],null}function vt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ue;if(!i(t)){if(e=pt(t))return e;t=[t]}return function(t){for(var e,i,n,r,s=0;s<t.length;){for(e=(r=ft(t[s]).split("-")).length,i=(i=ft(t[s+1]))?i.split("-"):null;0<e;){if(n=pt(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&A(r,i,!0)>=e-1)break;e--}s++}return Ue}(t)}function yt(t){var e,i=t._a;return i&&-2===y(t).overflow&&(e=0>i[1]||11<i[1]?1:1>i[2]||i[2]>J(i[0],i[1])?2:0>i[3]||24<i[3]||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:0>i[4]||59<i[4]?4:0>i[5]||59<i[5]?5:0>i[6]||999<i[6]?6:-1,y(t)._overflowDayOfYear&&(0>e||2<e)&&(e=2),y(t)._overflowWeeks&&-1===e&&(e=7),y(t)._overflowWeekday&&-1===e&&(e=8),y(t).overflow=e),t}function bt(t,e,i){return null==t?null==e?i:e:t}function _t(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function wt(t){var e,i,n,r,s,o=[];if(!t._d){for(n=_t(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,r,s,o,a,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,o=4,i=bt(e.GG,t._a[0],ot(Et(),1,4).year),n=bt(e.W,1),(1>(r=bt(e.E,1))||7<r)&&(h=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var l=ot(Et(),s,o);i=bt(e.gg,t._a[0],l.year),n=bt(e.w,l.week),null==e.d?null==e.e?r=s:(r=e.e+s,(0>e.e||6<e.e)&&(h=!0)):(0>(r=e.d)||6<r)&&(h=!0)}1>n||n>at(i,s,o)?y(t)._overflowWeeks=!0:null==h?(a=st(i,n,r,s,o),t._a[0]=a.year,t._dayOfYear=a.dayOfYear):y(t)._overflowWeekday=!0}(t),null!=t._dayOfYear&&(s=bt(t._a[0],n[0]),(t._dayOfYear>X(s)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),i=nt(s,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?nt:function(t,e,i,n,r,s,o){var a;return 100>t&&0<=t?(a=new Date(t+400,e,i,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,r,s,o),a}).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(y(t).weekdayMismatch=!0)}}function xt(t){var e,i,n,r,s,o,a=t._i,h=Qe.exec(a)||$e.exec(a);if(h){for(y(t).iso=!0,e=0,i=ti.length;e<i;e++)if(ti[e][1].exec(h[1])){r=ti[e][0],n=!1!==ti[e][2];break}if(null==r)return void(t._isValid=!1);if(h[3]){for(e=0,i=ei.length;e<i;e++)if(ei[e][1].exec(h[3])){s=(h[2]||" ")+ei[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(h[4]){if(!Je.exec(h[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),Ct(t)}else t._isValid=!1}function St(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}function kt(t){var e=ni.exec(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(t._i));if(e){var i=function(t,e,i,n,r,s){var o=[St(t),qe.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,i){return!t||We.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(y(i).weekdayMismatch=!0,i._isValid=!1,!1)}(e[1],i,t))return;t._a=i,t._tzm=function(t,e,i){if(t)return ri[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(e[8],e[9],e[10]),t._d=nt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Ct(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],y(t).empty=!0;var i,n,r,s,o,a=""+t._i,h=a.length,l=0;for(r=H(t._f,t._locale).match(be)||[],i=0;i<r.length;i++)(n=(a.match(V(s=r[i],t))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),xe[s]?(n?y(t).empty=!1:y(t).unusedTokens.push(s),G(s,n,t)):t._strict&&!n&&y(t).unusedTokens.push(s);y(t).charsLeftOver=h-l,0<a.length&&y(t).unusedInput.push(a),12>=t._a[3]&&!0===y(t).bigHour&&0<t._a[3]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null==t.meridiemHour?null==t.isPM?e:((n=t.isPM(i))&&12>e&&(e+=12),n||12!==e||(e=0),e):t.meridiemHour(e,i)}(t._locale,t._a[3],t._meridiem),wt(t),yt(t)}else kt(t);else xt(t)}function At(t){var e=t._i,n=t._f;return t._locale=t._locale||vt(t._l),null===e||void 0===n&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new x(yt(e)):(u(e)?t._d=e:i(n)?function(t){var e,i,n,r,s;if(0===t._f.length)return y(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Ct(e),b(e)&&(s+=y(e).charsLeftOver,s+=10*y(e).unusedTokens.length,y(e).score=s,(null==n||s<n)&&(n=s,i=e));m(t,i||e)}(t):n?Ct(t):Tt(t),b(t)||(t._d=null),t))}function Tt(t){var r=t._i;o(r)?t._d=new Date(e.now()):u(r)?t._d=new Date(r.valueOf()):"string"==typeof r?function(t){var i=ii.exec(t._i);null===i?(xt(t),!1===t._isValid&&(delete t._isValid,kt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+i[1])}(t):i(r)?(t._a=c(r.slice(0),function(t){return parseInt(t,10)}),wt(t)):n(r)?function(t){if(!t._d){var e=I(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),wt(t)}}(t):l(r)?t._d=new Date(r):e.createFromInputFallback(t)}function Mt(t,e,r,s,o){var a={};return(!0===r||!1===r)&&(s=r,r=void 0),(n(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=r,a._i=t,a._f=e,a._strict=s,function(t){var e=new x(yt(At(a)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}()}function Et(t,e,i,n){return Mt(t,e,i,n,!1)}function Dt(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Et();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Pt(t){var e=I(t),i=e.year||0,n=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,h=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===He.call(ai,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<ai.length;++n)if(t[ai[n]]){if(i)return!1;parseFloat(t[ai[n]])!==C(t[ai[n]])&&(i=!0)}return!0}(e),this._milliseconds=+u+1e3*l+6e4*h+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*i,this._data={},this._locale=vt(),this._bubble()}function Ot(t){return t instanceof Pt}function Nt(t){return 0>t?-1*r(-1*t):r(t)}function Lt(t,e){z(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+R(~~(t/60),2)+e+R(~~t%60,2)})}function It(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(hi)||["-",0,0],r=60*n[1]+C(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Ft(t,i){var n,r;return i._isUTC?(n=i.clone(),r=(S(t)||u(t)?t.valueOf():Et(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),e.updateOffset(n,!1),n):Et(t).local()}function Rt(t){return 15*-r(t._d.getTimezoneOffset()/15)}function zt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Bt(t,e){var i,n,r,s=t,o=null;return Ot(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(s={},e?s[e]=t:s.milliseconds=t):(o=li.exec(t))?(i="-"===o[1]?-1:1,s={y:0,d:C(o[2])*i,h:C(o[3])*i,m:C(o[4])*i,s:C(o[5])*i,ms:C(Nt(1e3*o[6]))*i}):(o=ui.exec(t))?s={y:jt(o[2],i="-"===o[1]?-1:1),M:jt(o[3],i),w:jt(o[4],i),d:jt(o[5],i),h:jt(o[6],i),m:jt(o[7],i),s:jt(o[8],i)}:null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Ft(e,t),t.isBefore(e)?i=Ht(t,e):((i=Ht(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(Et(s.from),Et(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),n=new Pt(s),Ot(t)&&g(t,"_locale")&&(n._locale=t._locale),n}function jt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ht(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Yt(t,e){return function(i,n){var r;return null===n||isNaN(+n)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Vt(this,Bt(i="string"==typeof i?+i:i,n),t),this}}function Vt(t,i,n,r){var s=i._milliseconds,o=Nt(i._days),a=Nt(i._months);t.isValid()&&(r=null==r||r,a&&tt(t,Q(t,"Month")+a*n),o&&$(t,"Date",Q(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&e.updateOffset(t,o||a))}function qt(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(0>e-n?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Wt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=vt(t))&&(this._locale=e),this)}function Ut(){return this._locale}function Gt(t,e){return(t%e+e)%e}function Xt(t,e,i){return 100>t&&0<=t?new Date(t+400,e,i)-126227808e5:new Date(t,e,i).valueOf()}function Kt(t,e,i){return 100>t&&0<=t?Date.UTC(t+400,e,i)-126227808e5:Date.UTC(t,e,i)}function Zt(t,e){z(0,[t,t.length],0,e)}function Qt(t,e,i,n,r){var s;return null==t?ot(this,n,r).year:(e>(s=at(t,n,r))&&(e=s),(function(t,e,i,n,r){var s=st(t,e,i,n,r),o=nt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}).call(this,t,e,i,n,r))}function $t(t,e){e[6]=C(1e3*("0."+t))}function Jt(t){return t}function te(t,e,i,n){var r=vt(),s=v().set(n,e);return r[i](s,t)}function ee(t,e,i){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return te(t,e,i,"month");var n,r=[];for(n=0;12>n;n++)r[n]=te(t,n,i,"month");return r}function ie(t,e,i,n){"boolean"==typeof t?(l(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,l(e)&&(i=e,e=void 0),e=e||"");var r=vt(),s=t?r._week.dow:0;if(null!=i)return te(e,(i+s)%7,n,"day");var o,a=[];for(o=0;7>o;o++)a[o]=te(e,(o+s)%7,n,"day");return a}function ne(t,e,i,n){var r=Bt(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function re(t){return 0>t?d(t):a(t)}function se(t){return 4800*t/146097}function oe(t){return 146097*t/4800}function ae(t){return function(){return this.as(t)}}function he(t){return function(){return this.isValid()?this._data[t]:NaN}}function le(t){return(0<t)-(0>t)||+t}function ue(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=ji(this._milliseconds)/1e3,n=ji(this._days),r=ji(this._months);t=k(i/60),e=k(t/60),i%=60,t%=60;var s=k(r/12),o=r%=12,a=n,h=e,l=t,u=i?i.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var d=0>c?"-":"",f=le(this._months)===le(c)?"":"-",p=le(this._days)===le(c)?"":"-",g=le(this._milliseconds)===le(c)?"":"-";return d+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(a?p+a+"D":"")+(h||l||u?"T":"")+(h?g+h+"H":"")+(l?g+l+"M":"")+(u?g+u+"S":"")}var ce,de;de=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var fe=e.momentProperties=[],pe=!1,ge={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var me=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)g(t,e)&&i.push(e);return i},ve={},ye={},be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_e=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,we={},xe={},Se=/\d/,ke=/\d\d/,Ce=/\d{3}/,Ae=/\d{4}/,Te=/[+-]?\d{6}/,Me=/\d\d?/,Ee=/\d\d\d\d?/,De=/\d\d\d\d\d\d?/,Pe=/\d{1,3}/,Oe=/\d{1,4}/,Ne=/[+-]?\d{1,6}/,Le=/\d+/,Ie=/[+-]?\d+/,Fe=/Z|[+-]\d\d:?\d\d/gi,Re=/Z|[+-]\d\d(?::?\d\d)?/gi,ze=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Be={},je={};z("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),N("year","y"),F("year",1),Y("Y",Ie),Y("YY",Me,ke),Y("YYYY",Oe,Ae),Y("YYYYY",Ne,Te),Y("YYYYYY",Ne,Te),W(["YYYYY","YYYYYY"],0),W("YYYY",function(t,i){i[0]=2===t.length?e.parseTwoDigitYear(t):C(t)}),W("YY",function(t,i){i[0]=e.parseTwoDigitYear(t)}),W("Y",function(t,e){e[0]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var He,Ye=Z("FullYear",!0);He=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),F("month",8),Y("M",Me),Y("MM",Me,ke),Y("MMM",function(t,e){return e.monthsShortRegex(t)}),Y("MMMM",function(t,e){return e.monthsRegex(t)}),W(["M","MM"],function(t,e){e[1]=C(t)-1}),W(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null==r?y(i).invalidMonth=t:e[1]=r});var Ve=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),F("week",5),F("isoWeek",5),Y("w",Me),Y("ww",Me,ke),Y("W",Me),Y("WW",Me,ke),U(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=C(t)}),z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),Y("d",Me),Y("e",Me),Y("E",Me),Y("dd",function(t,e){return e.weekdaysMinRegex(t)}),Y("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Y("dddd",function(t,e){return e.weekdaysRegex(t)}),U(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null==r?y(i).invalidWeekday=t:e.d=r}),U(["d","e","E"],function(t,e,i,n){e[n]=C(t)});var We=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];z("H",["HH",2],0,"hour"),z("h",["hh",2],0,ut),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+ut.apply(this)+R(this.minutes(),2)}),z("hmmss",0,0,function(){return""+ut.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),ct("a",!0),ct("A",!1),N("hour","h"),F("hour",13),Y("a",dt),Y("A",dt),Y("H",Me),Y("h",Me),Y("k",Me),Y("HH",Me,ke),Y("hh",Me,ke),Y("kk",Me,ke),Y("hmm",Ee),Y("hmmss",De),Y("Hmm",Ee),Y("Hmmss",De),W(["H","HH"],3),W(["k","kk"],function(t,e){var i=C(t);e[3]=24===i?0:i}),W(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),W(["h","hh"],function(t,e,i){e[3]=C(t),y(i).bigHour=!0}),W("hmm",function(t,e,i){var n=t.length-2;e[3]=C(t.substr(0,n)),e[4]=C(t.substr(n)),y(i).bigHour=!0}),W("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[3]=C(t.substr(0,n)),e[4]=C(t.substr(n,2)),e[5]=C(t.substr(r)),y(i).bigHour=!0}),W("Hmm",function(t,e){var i=t.length-2;e[3]=C(t.substr(0,i)),e[4]=C(t.substr(i))}),W("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[3]=C(t.substr(0,i)),e[4]=C(t.substr(i,2)),e[5]=C(t.substr(n))});var Ue,Ge=Z("Hours",!0),Xe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:qe,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},Ke={},Ze={},Qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ei=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ii=/^\/?Date\((\-?\d+)/i,ni=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ri={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var si=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),oi=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),ai=["year","quarter","month","week","day","hour","minute","second","millisecond"];Lt("Z",":"),Lt("ZZ",""),Y("Z",Re),Y("ZZ",Re),W(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=It(Re,t)});var hi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var li=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ui=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Bt.fn=Pt.prototype,Bt.invalid=function(){return Bt(NaN)};var ci=Yt(1,"add"),di=Yt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var fi=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Zt("gggg","weekYear"),Zt("ggggg","weekYear"),Zt("GGGG","isoWeekYear"),Zt("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),Y("G",Ie),Y("g",Ie),Y("GG",Me,ke),Y("gg",Me,ke),Y("GGGG",Oe,Ae),Y("gggg",Oe,Ae),Y("GGGGG",Ne,Te),Y("ggggg",Ne,Te),U(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=C(t)}),U(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),N("quarter","Q"),F("quarter",7),Y("Q",Se),W("Q",function(t,e){e[1]=3*(C(t)-1)}),z("D",["DD",2],"Do","date"),N("date","D"),F("date",9),Y("D",Me),Y("DD",Me,ke),Y("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),W(["D","DD"],2),W("Do",function(t,e){e[2]=C(t.match(Me)[0])});var pi=Z("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),F("dayOfYear",4),Y("DDD",Pe),Y("DDDD",Ce),W(["DDD","DDDD"],function(t,e,i){i._dayOfYear=C(t)}),z("m",["mm",2],0,"minute"),N("minute","m"),F("minute",14),Y("m",Me),Y("mm",Me,ke),W(["m","mm"],4);var gi=Z("Minutes",!1);z("s",["ss",2],0,"second"),N("second","s"),F("second",15),Y("s",Me),Y("ss",Me,ke),W(["s","ss"],5);var mi,vi=Z("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),F("millisecond",16),Y("S",Pe,Se),Y("SS",Pe,ke),Y("SSS",Pe,Ce),mi="SSSS";9>=mi.length;mi+="S")Y(mi,Le);for(mi="S";9>=mi.length;mi+="S")W(mi,$t);var yi=Z("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var bi=x.prototype;bi.add=ci,bi.calendar=function(t,i){var n=t||Et(),r=Ft(n,this).startOf("day"),s=e.calendarFormat(this,r)||"sameElse",o=i&&(D(i[s])?i[s].call(this,n):i[s]);return this.format(o||this.localeData().calendar(s,this,Et(n)))},bi.clone=function(){return new x(this)},bi.diff=function(t,e,i){var n,r,s;return this.isValid()&&(n=Ft(t,this)).isValid()?(r=6e4*(n.utcOffset()-this.utcOffset()),s="year"===(e=L(e))?qt(this,n)/12:"month"===e?qt(this,n):"quarter"===e?qt(this,n)/3:"second"===e?(this-n)/1e3:"minute"===e?(this-n)/6e4:"hour"===e?(this-n)/36e5:"day"===e?(this-n-r)/864e5:"week"===e?(this-n-r)/6048e5:this-n,i?s:k(s)):NaN},bi.endOf=function(t){var i;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Kt:Xt;return"year"===t?i=n(this.year()+1,0,1)-1:"quarter"===t?i=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===t?i=n(this.year(),this.month()+1,1)-1:"week"===t?i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===t?i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===t||"date"===t?i=n(this.year(),this.month(),this.date()+1)-1:"hour"===t?(i=this._d.valueOf(),i+=36e5-Gt(i+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===t?(i=this._d.valueOf(),i+=6e4-Gt(i,6e4)-1):"second"===t&&(i=this._d.valueOf(),i+=1e3-Gt(i,1e3)-1),this._d.setTime(i),e.updateOffset(this,!0),this},bi.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=j(this,t);return this.localeData().postformat(i)},bi.from=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||Et(t).isValid())?Bt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},bi.fromNow=function(t){return this.from(Et(),t)},bi.to=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||Et(t).isValid())?Bt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},bi.toNow=function(t){return this.to(Et(),t)},bi.get=function(t){return D(this[t=L(t)])?this[t]():this},bi.invalidAt=function(){return y(this).overflow},bi.isAfter=function(t,e){var i=S(t)?t:Et(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},bi.isBefore=function(t,e){var i=S(t)?t:Et(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},bi.isBetween=function(t,e,i,n){var r=S(t)?t:Et(t),s=S(e)?e:Et(e);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},bi.isSame=function(t,e){var i,n=S(t)?t:Et(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},bi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},bi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},bi.isValid=function(){return b(this)},bi.lang=fi,bi.locale=Wt,bi.localeData=Ut,bi.max=oi,bi.min=si,bi.parsingFlags=function(){return m({},y(this))},bi.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:ye[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(D(this[t=L(t)]))return this[t](e);return this},bi.startOf=function(t){var i;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Kt:Xt;return"year"===t?i=n(this.year(),0,1):"quarter"===t?i=n(this.year(),this.month()-this.month()%3,1):"month"===t?i=n(this.year(),this.month(),1):"week"===t?i=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===t?i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===t||"date"===t?i=n(this.year(),this.month(),this.date()):"hour"===t?(i=this._d.valueOf(),i-=Gt(i+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===t?(i=this._d.valueOf(),i-=Gt(i,6e4)):"second"===t&&(i=this._d.valueOf(),i-=Gt(i,1e3)),this._d.setTime(i),e.updateOffset(this,!0),this},bi.subtract=di,bi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},bi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},bi.toDate=function(){return new Date(this.valueOf())},bi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return 0>i.year()||9999<i.year()?j(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(i,"Z")):j(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},bi.toJSON=function(){return this.isValid()?this.toISOString():null},bi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bi.unix=function(){return d(this.valueOf()/1e3)},bi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bi.year=Ye,bi.isLeapYear=function(){return K(this.year())},bi.weekYear=function(t){return Qt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bi.isoWeekYear=function(t){return Qt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},bi.quarter=bi.quarters=function(t){return null==t?a((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},bi.month=et,bi.daysInMonth=function(){return J(this.year(),this.month())},bi.week=bi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},bi.isoWeek=bi.isoWeeks=function(t){var e=ot(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},bi.weeksInYear=function(){var t=this.localeData()._week;return at(this.year(),t.dow,t.doy)},bi.isoWeeksInYear=function(){return at(this.year(),1,4)},bi.date=pi,bi.day=bi.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=function(t,e){return"string"==typeof t?isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10):t}(t,this.localeData()),this.add(t-e,"d"))},bi.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},bi.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},bi.dayOfYear=function(t){var e=r((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},bi.hour=bi.hours=Ge,bi.minute=bi.minutes=gi,bi.second=bi.seconds=vi,bi.millisecond=bi.milliseconds=yi,bi.utcOffset=function(t,i,n){var r,s=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>h(t)&&!n&&(t*=60);else if(null===(t=It(Re,t)))return this;return!this._isUTC&&i&&(r=Rt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!i||this._changeInProgress?Vt(this,Bt(t-s,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Rt(this)},bi.utc=function(t){return this.utcOffset(0,t)},bi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Rt(this),"m")),this},bi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=It(Fe,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},bi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Et(t).utcOffset():0,0==(this.utcOffset()-t)%60)},bi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bi.isLocal=function(){return!!this.isValid()&&!this._isUTC},bi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bi.isUtc=zt,bi.isUTC=zt,bi.zoneAbbr=function(){return this._isUTC?"UTC":""},bi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bi.dates=M("dates accessor is deprecated. Use date instead.",pi),bi.months=M("months accessor is deprecated. Use month instead",et),bi.years=M("years accessor is deprecated. Use year instead",Ye),bi.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)}),bi.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(w(t,this),(t=At(t))._a){var e=t._isUTC?v(t._a):Et(t._a);this._isDSTShifted=this.isValid()&&0<A(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var _i=O.prototype;_i.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n},_i.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},_i.invalidDate=function(){return this._invalidDate},_i.ordinal=function(t){return this._ordinal.replace("%d",t)},_i.preparse=Jt,_i.postformat=Jt,_i.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return D(r)?r(t,e,i,n):r.replace(/%d/i,t)},_i.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},_i.set=function(t){var e,i;for(i in t)D(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_i.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ve).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},_i.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ve.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_i.monthsParse=function(t,e,i){var n,r,s;if(this._monthsParseExact)return(function(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)s=v([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1===(r=He.call(this._shortMonthsParse,o))?null:r:-1===(r=He.call(this._longMonthsParse,o))?null:r:"MMM"===e?-1!==(r=He.call(this._shortMonthsParse,o))?r:-1===(r=He.call(this._longMonthsParse,o))?null:r:-1!==(r=He.call(this._longMonthsParse,o))?r:-1===(r=He.call(this._shortMonthsParse,o))?null:r}).call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(r=v([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_i.monthsRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||it.call(this),t?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=ze),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},_i.monthsShortRegex=function(t){return this._monthsParseExact?(g(this,"_monthsRegex")||it.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=ze),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},_i.week=function(t){return ot(t,this._week.dow,this._week.doy).week},_i.firstDayOfYear=function(){return this._week.doy},_i.firstDayOfWeek=function(){return this._week.dow},_i.weekdays=function(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?ht(n,this._week.dow):t?n[t.day()]:n},_i.weekdaysMin=function(t){return!0===t?ht(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},_i.weekdaysShort=function(t){return!0===t?ht(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},_i.weekdaysParse=function(t,e,i){var n,r,s;if(this._weekdaysParseExact)return(function(t,e,i){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)s=v([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1===(r=He.call(this._weekdaysParse,o))?null:r:"ddd"===e?-1===(r=He.call(this._shortWeekdaysParse,o))?null:r:-1===(r=He.call(this._minWeekdaysParse,o))?null:r:"dddd"===e?-1!==(r=He.call(this._weekdaysParse,o))?r:-1!==(r=He.call(this._shortWeekdaysParse,o))?r:-1===(r=He.call(this._minWeekdaysParse,o))?null:r:"ddd"===e?-1!==(r=He.call(this._shortWeekdaysParse,o))?r:-1!==(r=He.call(this._weekdaysParse,o))?r:-1===(r=He.call(this._minWeekdaysParse,o))?null:r:-1!==(r=He.call(this._minWeekdaysParse,o))?r:-1!==(r=He.call(this._weekdaysParse,o))?r:-1===(r=He.call(this._shortWeekdaysParse,o))?null:r}).call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(r=v([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},_i.weekdaysRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||lt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},_i.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||lt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_i.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||lt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ze),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_i.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},_i.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},gt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),e.lang=M("moment.lang is deprecated. Use moment.locale instead.",gt),e.langData=M("moment.langData is deprecated. Use moment.localeData instead.",vt);var wi=h,xi=ae("ms"),Si=ae("s"),ki=ae("m"),Ci=ae("h"),Ai=ae("d"),Ti=ae("w"),Mi=ae("M"),Ei=ae("Q"),Di=ae("y"),Pi=he("milliseconds"),Oi=he("seconds"),Ni=he("minutes"),Li=he("hours"),Ii=he("days"),Fi=he("months"),Ri=he("years"),zi=r,Bi={ss:44,s:45,m:45,h:22,d:26,M:11},ji=h,Hi=Pt.prototype;return Hi.isValid=function(){return this._isValid},Hi.abs=function(){var t=this._data;return this._milliseconds=wi(this._milliseconds),this._days=wi(this._days),this._months=wi(this._months),t.milliseconds=wi(t.milliseconds),t.seconds=wi(t.seconds),t.minutes=wi(t.minutes),t.hours=wi(t.hours),t.months=wi(t.months),t.years=wi(t.years),this},Hi.add=function(t,e){return ne(this,t,e,1)},Hi.subtract=function(t,e){return ne(this,t,e,-1)},Hi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=L(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+se(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+r(oe(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return d(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Hi.asMilliseconds=xi,Hi.asSeconds=Si,Hi.asMinutes=ki,Hi.asHours=Ci,Hi.asDays=Ai,Hi.asWeeks=Ti,Hi.asMonths=Mi,Hi.asQuarters=Ei,Hi.asYears=Di,Hi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Hi._bubble=function(){var t,e,i,n,r,s=this._milliseconds,o=this._days,a=this._months,h=this._data;return 0<=s&&0<=o&&0<=a||0>=s&&0>=o&&0>=a||(s+=864e5*re(oe(a)+o),o=0,a=0),h.milliseconds=s%1e3,t=k(s/1e3),h.seconds=t%60,e=k(t/60),h.minutes=e%60,i=k(e/60),h.hours=i%24,o+=k(i/24),a+=r=k(se(o)),o-=re(oe(r)),n=k(a/12),a%=12,h.days=o,h.months=a,h.years=n,this},Hi.clone=function(){return Bt(this)},Hi.get=function(t){return t=L(t),this.isValid()?this[t+"s"]():NaN},Hi.milliseconds=Pi,Hi.seconds=Oi,Hi.minutes=Ni,Hi.hours=Li,Hi.days=Ii,Hi.weeks=function(){return k(this.days()/7)},Hi.months=Fi,Hi.years=Ri,Hi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Bt(t).abs(),r=zi(n.as("s")),s=zi(n.as("m")),o=zi(n.as("h")),a=zi(n.as("d")),h=zi(n.as("M")),l=zi(n.as("y")),u=r<=Bi.ss&&["s",r]||r<Bi.s&&["ss",r]||1>=s&&["m"]||s<Bi.m&&["mm",s]||1>=o&&["h"]||o<Bi.h&&["hh",o]||1>=a&&["d"]||a<Bi.d&&["dd",a]||1>=h&&["M"]||h<Bi.M&&["MM",h]||1>=l&&["y"]||["yy",l];return u[2]=e,u[3]=0<+t,u[4]=i,(function(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}).apply(null,u)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Hi.toISOString=ue,Hi.toString=ue,Hi.toJSON=ue,Hi.locale=Wt,Hi.localeData=Ut,Hi.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ue),Hi.lang=fi,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Y("x",Ie),Y("X",/[+-]?\d+(\.\d{1,3})?/),W("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),W("x",function(t,e,i){i._d=new Date(C(t))}),e.version="2.24.0",ce=Et,e.fn=bi,e.min=function(){var t=[].slice.call(arguments,0);return Dt("isBefore",t)},e.max=function(){var t=[].slice.call(arguments,0);return Dt("isAfter",t)},e.now=function(){return Date.now?Date.now():+new Date},e.utc=v,e.unix=function(t){return Et(1e3*t)},e.months=function(t,e){return ee(t,e,"months")},e.isDate=u,e.locale=gt,e.invalid=_,e.duration=Bt,e.isMoment=S,e.weekdays=function(t,e,i){return ie(t,e,i,"weekdays")},e.parseZone=function(){return Et.apply(null,arguments).parseZone()},e.localeData=vt,e.isDuration=Ot,e.monthsShort=function(t,e){return ee(t,e,"monthsShort")},e.weekdaysMin=function(t,e,i){return ie(t,e,i,"weekdaysMin")},e.defineLocale=mt,e.updateLocale=function(t,e){if(null!=e){var i,n,r=Xe;null!=(n=pt(t))&&(r=n._config),(i=new O(e=P(r,e))).parentLocale=Ke[t],Ke[t]=i,gt(t)}else null!=Ke[t]&&(null==Ke[t].parentLocale?null!=Ke[t]&&delete Ke[t]:Ke[t]=Ke[t].parentLocale);return Ke[t]},e.locales=function(){return me(Ke)},e.weekdaysShort=function(t,e,i){return ie(t,e,i,"weekdaysShort")},e.normalizeUnits=L,e.relativeTimeRounding=function(t){return void 0===t?zi:"function"==typeof t&&(zi=t,!0)},e.relativeTimeThreshold=function(t,e){return void 0!==Bi[t]&&(void 0===e?Bi[t]:(Bi[t]=e,"s"===t&&(Bi.ss=e-1),!0))},e.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"},e.prototype=bi,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}()}),ml="undefined"!=typeof window&&window.moment||gl,vl=Object.freeze({default:ml,__moduleExports:ml}),yl={Images:ga,dotparser:so,gephiParser:oo,allOptions:ul,convertDot:no,convertGephi:Gt},bl=Object.freeze({util:vs,data:qs,network:yl,DOMutil:pl,moment:vl,Hammer:la,keycharm:ho,DataSet:Ys,DataView:Vs,Queue:Bs,Network:Oe});e.DOMutil=pl,e.DataSet=Ys,e.DataView=Vs,e.Hammer=la,e.Network=Oe,e.Queue=Bs,e.data=qs,e.default=bl,e.keycharm=ho,e.moment=vl,e.network=yl,e.util=vs,Object.defineProperty(e,"__esModule",{value:!0})}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],n=t.document,r=Object.getPrototypeOf,s=i.slice,o=i.concat,a=i.push,h=i.indexOf,l={},u=l.toString,c=l.hasOwnProperty,d=c.toString,f=d.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,i){var r,s,o=(i=i||n).createElement("script");if(o.text=t,e)for(r in v)(s=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,s);i.head.appendChild(o).parentNode.removeChild(o)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[u.call(t)]||"object":typeof t}var _="3.4.1",w=function(t,e){return new w.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,i=b(t);return!g(t)&&!m(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||g(o)||(o={}),a===h&&(o=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(l&&n&&(w.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[e],s=r&&!Array.isArray(i)?[]:r||w.isPlainObject(i)?i:{},r=!1,o[e]=w.extend(l,s,n)):void 0!==n&&(o[e]=n));return o},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==u.call(t)||(e=r(t))&&("function"!=typeof(i=c.call(e,"constructor")&&e.constructor)||d.call(i)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){y(t,{nonce:e&&e.nonce})},each:function(t,e){var i,n=0;if(S(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(S(Object(t))?w.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:h.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,s=0,a=[];if(S(t))for(n=t.length;s<n;s++)null!=(r=e(t[s],s,i))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&a.push(r);return o.apply([],a)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var k=function(t){var e,i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_="sizzle"+1*new Date,w=t.document,x=0,S=0,k=ht(),C=ht(),A=ht(),T=ht(),M=function(t,e){return t===e&&(c=!0),0},E={}.hasOwnProperty,D=[],P=D.pop,O=D.push,N=D.push,L=D.slice,I=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+R+"*("+z+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+R+"*\\]",j=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(R+"+","g"),Y=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),V=new RegExp("^"+R+"*,"+R+"*"),q=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),W=new RegExp(R+"|>"),U=new RegExp(j),G=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),it=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=function(){d()},ot=_t(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(D=L.call(w.childNodes),w.childNodes)}catch(e){N={apply:D.length?function(t,e){O.apply(t,L.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(t,e,n,r){var s,a,l,u,c,p,v,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return n;if(!r&&((e?e.ownerDocument||e:w)!==f&&d(e),e=e||f,g)){if(11!==x&&(c=J.exec(t)))if(s=c[1]){if(9===x){if(!(l=e.getElementById(s)))return n;if(l.id===s)return n.push(l),n}else if(y&&(l=y.getElementById(s))&&b(e,l)&&l.id===s)return n.push(l),n}else{if(c[2])return N.apply(n,e.getElementsByTagName(t)),n;if((s=c[3])&&i.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(s)),n}if(i.qsa&&!T[t+" "]&&(!m||!m.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===x&&W.test(t)){for((u=e.getAttribute("id"))?u=u.replace(nt,rt):e.setAttribute("id",u=_),a=(p=o(t)).length;a--;)p[a]="#"+u+" "+bt(p[a]);v=p.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return N.apply(n,y.querySelectorAll(v)),n}catch(e){T(t,!0)}finally{u===_&&e.removeAttribute("id")}}}return h(t.replace(Y,"$1"),e,n,r)}function ht(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function lt(t){return t[_]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return lt(function(e){return e=+e,lt(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=at.support={},s=at.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!K.test(t.namespaceURI||e&&e.nodeName||"HTML")},d=at.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:w;return o!==f&&9===o.nodeType&&o.documentElement&&(p=(f=o).documentElement,g=!s(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",st,!1):r.attachEvent&&r.attachEvent("onunload",st)),i.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=ut(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=$.test(f.getElementsByClassName),i.getById=ut(function(t){return p.appendChild(t).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=$.test(f.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+_+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=$.test(p.compareDocumentPosition),b=e||$.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===f||t.ownerDocument===w&&b(w,t)?-1:e===f||e.ownerDocument===w&&b(w,e)?1:u?I(u,t)-I(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t===f?-1:e===f?1:r?-1:s?1:u?I(u,t)-I(u,e):0;if(r===s)return dt(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?dt(o[n],a[n]):o[n]===w?-1:a[n]===w?1:0}),f},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),i.matchesSelector&&g&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){T(e,!0)}return 0<at(e,f,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=n.attrHandle[e.toLowerCase()],s=r&&E.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==s?s:i.attributes||!g?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+"").replace(nt,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],r=0,s=0;if(c=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(M),c){for(;e=t[s++];)e===t[s]&&(r=n.push(s));for(;r--;)t.splice(n[r],1)}return u=null,t},r=at.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&U.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=at.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&-1<r.indexOf(i):"$="===e?i&&r.slice(-i.length)===i:"~="===e?-1<(" "+r.replace(H," ")+" ").indexOf(i):"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,h){var l,u,c,d,f,p,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a,b=!1;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(b=(f=(l=(u=(c=(d=m)[_]||(d[_]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[x,f,b];break}}else if(y&&(b=f=(l=(u=(c=(d=e)[_]||(d[_]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(c=d[_]||(d[_]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]=[x,b]),d!==e)););return(b-=r)===n||b%n==0&&0<=b/n}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[_]?r(e):1<r.length?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,i){for(var n,s=r(t,e),o=s.length;o--;)t[n=I(t,s[o])]=!(i[n]=s[o])}):function(t){return r(t,0,i)}):r}},pseudos:{not:lt(function(t){var e=[],i=[],n=a(t.replace(Y,"$1"));return n[_]?lt(function(t,e,i,r){for(var s,o=n(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,r,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}}),has:lt(function(t){return function(e){return 0<at(t,e).length}}),contains:lt(function(t){return t=t.replace(et,it),function(e){return-1<(e.textContent||r(e)).indexOf(t)}}),lang:lt(function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,i){return[i<0?i+e:i]}),even:mt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:mt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:mt(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:mt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=pt(e);function yt(){}function bt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function _t(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=S++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,h){var l,u,c,d=[x,a];if(h){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,h))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=(c=e[_]||(e[_]={}))[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=u[s])&&l[0]===x&&l[1]===a)return d[2]=l[2];if((u[s]=d)[2]=t(e,i,h))return!0}return!1}}function wt(t){return 1<t.length?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function xt(t,e,i,n,r){for(var s,o=[],a=0,h=t.length,l=null!=e;a<h;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),l&&e.push(a)));return o}function St(t,e,i,n,r,s){return n&&!n[_]&&(n=St(n)),r&&!r[_]&&(r=St(r,s)),lt(function(s,o,a,h){var l,u,c,d=[],f=[],p=o.length,g=s||function(t,e,i){for(var n=0,r=e.length;n<r;n++)at(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!s&&e?g:xt(g,d,t,a,h),v=i?r||(s?t:p||n)?[]:o:m;if(i&&i(m,v,a,h),n)for(l=xt(v,f),n(l,[],a,h),u=l.length;u--;)(c=l[u])&&(v[f[u]]=!(m[f[u]]=c));if(s){if(r||t){if(r){for(l=[],u=v.length;u--;)(c=v[u])&&l.push(m[u]=c);r(null,v=[],l,h)}for(u=v.length;u--;)(c=v[u])&&-1<(l=r?I(s,c):d[u])&&(s[l]=!(o[l]=c))}}else v=xt(v===o?v.splice(p,v.length):v),r?r(null,o,v,h):N.apply(o,v)})}function kt(t){for(var e,i,r,s=t.length,o=n.relative[t[0].type],a=o||n.relative[" "],h=o?1:0,u=_t(function(t){return t===e},a,!0),c=_t(function(t){return-1<I(e,t)},a,!0),d=[function(t,i,n){var r=!o&&(n||i!==l)||((e=i).nodeType?u(t,i,n):c(t,i,n));return e=null,r}];h<s;h++)if(i=n.relative[t[h].type])d=[_t(wt(d),i)];else{if((i=n.filter[t[h].type].apply(null,t[h].matches))[_]){for(r=++h;r<s&&!n.relative[t[r].type];r++);return St(1<h&&wt(d),1<h&&bt(t.slice(0,h-1).concat({value:" "===t[h-2].type?"*":""})).replace(Y,"$1"),i,h<r&&kt(t.slice(h,r)),r<s&&kt(t=t.slice(r)),r<s&&bt(t))}d.push(i)}return wt(d)}return yt.prototype=n.filters=n.pseudos,n.setFilters=new yt,o=at.tokenize=function(t,e){var i,r,s,o,a,h,l,u=C[t+" "];if(u)return e?0:u.slice(0);for(a=t,h=[],l=n.preFilter;a;){for(o in i&&!(r=V.exec(a))||(r&&(a=a.slice(r[0].length)||a),h.push(s=[])),i=!1,(r=q.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(Y," ")}),a=a.slice(i.length)),n.filter)!(r=X[o].exec(a))||l[o]&&!(r=l[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?at.error(t):C(t,h).slice(0)},a=at.compile=function(t,e){var i,r,s,a,h,u,c=[],p=[],m=A[t+" "];if(!m){for(e||(e=o(t)),i=e.length;i--;)(m=kt(e[i]))[_]?c.push(m):p.push(m);(m=A(t,(r=p,a=0<(s=c).length,h=0<r.length,u=function(t,e,i,o,u){var c,p,m,v=0,y="0",b=t&&[],_=[],w=l,S=t||h&&n.find.TAG("*",u),k=x+=null==w?1:Math.random()||.1,C=S.length;for(u&&(l=e===f||e||u);y!==C&&null!=(c=S[y]);y++){if(h&&c){for(p=0,e||c.ownerDocument===f||(d(c),i=!g);m=r[p++];)if(m(c,e||f,i)){o.push(c);break}u&&(x=k)}a&&((c=!m&&c)&&v--,t&&b.push(c))}if(v+=y,a&&y!==v){for(p=0;m=s[p++];)m(b,_,e,i);if(t){if(0<v)for(;y--;)b[y]||_[y]||(_[y]=P.call(o));_=xt(_)}N.apply(o,_),u&&!t&&0<_.length&&1<v+s.length&&at.uniqueSort(o)}return u&&(x=k,l=w),b},a?lt(u):u))).selector=t}return m},h=at.select=function(t,e,i,r){var s,h,l,u,c,d="function"==typeof t&&t,f=!r&&o(t=d.selector||t);if(i=i||[],1===f.length){if(2<(h=f[0]=f[0].slice(0)).length&&"ID"===(l=h[0]).type&&9===e.nodeType&&g&&n.relative[h[1].type]){if(!(e=(n.find.ID(l.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(h.shift().value.length)}for(s=X.needsContext.test(t)?0:h.length;s--&&!n.relative[u=(l=h[s]).type];)if((c=n.find[u])&&(r=c(l.matches[0].replace(et,it),tt.test(h[0].type)&&vt(e.parentNode)||e))){if(h.splice(s,1),!(t=r.length&&bt(h)))return N.apply(i,r),i;break}}return(d||a(t,f))(r,e,!g,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=_.split("").sort(M).join("")===_,i.detectDuplicates=!!c,d(),i.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(F,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),at}(t);w.find=k,w.expr=k.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var C=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(i))break;n.push(t)}return n},A=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},T=w.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,i){return g(e)?w.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?w.grep(t,function(t){return t===e!==i}):"string"!=typeof e?w.grep(t,function(t){return-1<h.call(e,t)!==i}):w.filter(e,t,i)}w.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?w.find.matchesSelector(n,t)?[n]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<n;e++)if(w.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)w.find(t,r[e],i);return 1<n?w.uniqueSort(i):i},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&T.test(t)?w(t):t||[],!1).length}});var P,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,i){var r,s;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:O.exec(t))||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(w.merge(this,w.parseHTML(r[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:n,!0)),E.test(r[1])&&w.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(s=n.getElementById(r[2]))&&(this[0]=s,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==i.ready?i.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,P=w(n);var N=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&w(t);if(!T.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&w.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?w.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?h.call(w(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,i){return C(t,"parentNode",i)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,i){return C(t,"nextSibling",i)},prevUntil:function(t,e,i){return C(t,"previousSibling",i)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(M(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(i,n){var r=w.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=w.filter(n,r)),1<this.length&&(L[t]||w.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}});var F=/[^\x20\t\r\n\f]+/g;function R(t){return t}function z(t){throw t}function B(t,e,i,n){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(i):t&&g(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}w.Callbacks=function(t){var e;t="string"==typeof t?(e={},w.each(t.match(F)||[],function(t,i){e[i]=!0}),e):w.extend({},t);var i,n,r,s,o=[],a=[],h=-1,l=function(){for(s=s||t.once,r=i=!0;a.length;h=-1)for(n=a.shift();++h<o.length;)!1===o[h].apply(n[0],n[1])&&t.stopOnFalse&&(h=o.length,n=!1);t.memory||(n=!1),i=!1,s&&(o=n?[]:"")},u={add:function(){return o&&(n&&!i&&(h=o.length-1,a.push(n)),function e(i){w.each(i,function(i,n){g(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==b(n)&&e(n)})}(arguments),n&&!i&&l()),this},remove:function(){return w.each(arguments,function(t,e){for(var i;-1<(i=w.inArray(e,o,i));)o.splice(i,1),i<=h&&h--}),this},has:function(t){return t?-1<w.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return s=a=[],n||i||(o=n=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),i||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(e){var i=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(e){w.each(i,function(i,n){var r=g(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){var s=0;function o(e,i,n,r){return function(){var a=this,h=arguments,l=function(){var t,l;if(!(e<s)){if((t=n.apply(a,h))===i.promise())throw new TypeError("Thenable self-resolution");g(l=t&&("object"==typeof t||"function"==typeof t)&&t.then)?r?l.call(t,o(s,i,R,r),o(s,i,z,r)):l.call(t,o(++s,i,R,r),o(s,i,z,r),o(s,i,R,i.notifyWith)):(n!==R&&(a=void 0,h=[t]),(r||i.resolveWith)(a,h))}},u=r?l:function(){try{l()}catch(l){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(l,u.stackTrace),s<=e+1&&(n!==z&&(a=void 0,h=[l]),i.rejectWith(a,h))}};e?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),t.setTimeout(u))}}return w.Deferred(function(t){i[0][3].add(o(0,t,g(r)?r:R,t.notifyWith)),i[1][3].add(o(0,t,g(e)?e:R)),i[2][3].add(o(0,t,g(n)?n:z))}).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},s={};return w.each(i,function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add(function(){n=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=s.call(arguments),o=w.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=1<arguments.length?s.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(B(t,o.done(a(i)).resolve,o.reject,!e),"pending"===o.state()||g(r[i]&&r[i].then)))return o.then();for(;i--;)B(r[i],a(i),o.reject);return o.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&j.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},w.readyException=function(e){t.setTimeout(function(){throw e})};var H=w.Deferred();function Y(){n.removeEventListener("DOMContentLoaded",Y),t.removeEventListener("load",Y),w.ready()}w.fn.ready=function(t){return H.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0)!==t&&0<--w.readyWait||H.resolveWith(n,[w])}}),w.ready.then=H.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(w.ready):(n.addEventListener("DOMContentLoaded",Y),t.addEventListener("load",Y));var V=function(t,e,i,n,r,s,o){var a=0,h=t.length,l=null==i;if("object"===b(i))for(a in r=!0,i)V(t,e,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,g(n)||(o=!0),l&&(o?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(w(t),i)})),e))for(;a<h;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):h?e(t[0],i):s},q=/^-ms-/,W=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function G(t){return t.replace(q,"ms-").replace(W,U)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[G(e)]=i;else for(n in e)r[G(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(G):(e=G(e))in n?[e]:e.match(F)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||w.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Z=new K,Q=new K,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function tt(t,e,i){var n,r;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:$.test(r)?JSON.parse(r):r)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}w.extend({hasData:function(t){return Q.hasData(t)||Z.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),w.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Q.get(s),1===s.nodeType&&!Z.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=G(n.slice(5)),tt(s,n,r[n]));Z.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):V(this,function(e){var i;if(s&&void 0===e)return void 0!==(i=Q.get(s,t))?i:void 0!==(i=tt(s,t))?i:void 0;this.each(function(){Q.set(this,t,e)})},null,e,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),w.extend({queue:function(t,e,i){var n;if(t)return n=Z.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=Z.access(t,e,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){var i=w.queue(t,e=e||"fx"),n=i.length,r=i.shift(),s=w._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,function(){w.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:w.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",i])})})}}),w.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?w.queue(this[0],t):void 0===e?this:this.each(function(){var i=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=w.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=Z.get(s[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],rt=n.documentElement,st=function(t){return w.contains(t.ownerDocument,t)},ot={composed:!0};rt.getRootNode&&(st=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(ot)===t.ownerDocument});var at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===w.css(t,"display")},ht=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];for(s in r=i.apply(t,n||[]),e)t.style[s]=o[s];return r};function lt(t,e,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return w.css(t,e,"")},h=a(),l=i&&i[3]||(w.cssNumber[e]?"":"px"),u=t.nodeType&&(w.cssNumber[e]||"px"!==l&&+h)&&it.exec(w.css(t,e));if(u&&u[3]!==l){for(l=l||u[3],u=+(h/=2)||1;o--;)w.style(t,e,u+l),(1-s)*(1-(s=a()/h||.5))<=0&&(o=0),u/=s;w.style(t,e,(u*=2)+l),i=i||[]}return i&&(u=+u||+h||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=r)),r}var ut={};function ct(t,e){for(var i,n,r,s,o,a,h,l=[],u=0,c=t.length;u<c;u++)(n=t[u]).style&&(i=n.style.display,e?("none"===i&&(l[u]=Z.get(n,"display")||null,l[u]||(n.style.display="")),""===n.style.display&&at(n)&&(l[u]=(h=o=s=void 0,o=(r=n).ownerDocument,(h=ut[a=r.nodeName])||(s=o.body.appendChild(o.createElement(a)),h=w.css(s,"display"),s.parentNode.removeChild(s),"none"===h&&(h="block"),ut[a]=h)))):"none"!==i&&(l[u]="none",Z.set(n,"display",i)));for(u=0;u<c;u++)null!=l[u]&&(t[u].style.display=l[u]);return t}w.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?w(this).show():w(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?w.merge([t],i):i}function vt(t,e){for(var i=0,n=t.length;i<n;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,_t=/<|&#?\w+;/;function wt(t,e,i,n,r){for(var s,o,a,h,l,u,c=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((s=t[f])||0===s)if("object"===b(s))w.merge(d,s.nodeType?[s]:s);else if(_t.test(s)){for(o=o||c.appendChild(e.createElement("div")),a=(ft.exec(s)||["",""])[1].toLowerCase(),o.innerHTML=(h=gt[a]||gt._default)[1]+w.htmlPrefilter(s)+h[2],u=h[0];u--;)o=o.lastChild;w.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(e.createTextNode(s));for(c.textContent="",f=0;s=d[f++];)if(n&&-1<w.inArray(s,n))r&&r.push(s);else if(l=st(s),o=mt(c.appendChild(s),"script"),l&&vt(o),i)for(u=0;s=o[u++];)pt.test(s.type||"")&&i.push(s);return c}yt=n.createDocumentFragment().appendChild(n.createElement("div")),(bt=n.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),p.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var xt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function At(){return!1}function Tt(t,e){return t===function(){try{return n.activeElement}catch(t){}}()==("focus"===e)}function Mt(t,e,i,n,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)Mt(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=At;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return w().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),t.each(function(){w.event.add(this,e,r,n,i)})}function Et(t,e,i){i?(Z.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var n,r,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),Z.set(this,e,o),n=i(this,e),this[e](),o!==(r=Z.get(this,e))||n?Z.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Z.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&w.event.add(t,e,Ct)}w.event={global:{},add:function(t,e,i,n,r){var s,o,a,h,l,u,c,d,f,p,g,m=Z.get(t);if(m)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&w.find.matchesSelector(rt,r),i.guid||(i.guid=w.guid++),(h=m.events)||(h=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(F)||[""]).length;l--;)f=g=(a=kt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(c=w.event.special[f]||{},c=w.event.special[f=(r?c.delegateType:c.bindType)||f]||{},u=w.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=h[f])||((d=h[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(f,o)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),w.event.global[f]=!0)},remove:function(t,e,i,n,r){var s,o,a,h,l,u,c,d,f,p,g,m=Z.hasData(t)&&Z.get(t);if(m&&(h=m.events)){for(l=(e=(e||"").match(F)||[""]).length;l--;)if(f=g=(a=kt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(c=w.event.special[f]||{},d=h[f=(n?c.delegateType:c.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!r&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,c.remove&&c.remove.call(t,u));o&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,p,m.handle)||w.removeEvent(t,f,m.handle),delete h[f])}else for(f in h)w.event.remove(t,f+e[l],i,n,!0);w.isEmptyObject(h)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=w.event.fix(t),h=new Array(arguments.length),l=(Z.get(this,"events")||{})[a.type]||[],u=w.event.special[a.type]||{};for(h[0]=a,e=1;e<arguments.length;e++)h[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(o=w.event.handlers.call(this,a,l),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==s.namespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(n=((w.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,h))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o,a=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(s=[],o={},i=0;i<h;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?-1<w(r,this).index(l):w.find(r,this,null,[l]).length),o[r]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return l=this,h<e.length&&a.push({elem:l,handlers:e.slice(h)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return dt.test(e.type)&&e.click&&M(e,"input")&&Et(e,"click",Ct),!1},trigger:function(t){var e=this||t;return dt.test(e.type)&&e.click&&M(e,"input")&&Et(e,"click"),!0},_default:function(t){var e=t.target;return dt.test(e.type)&&e.click&&M(e,"input")&&Z.get(e,"click")||M(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:At,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(t,e){w.event.special[t]={setup:function(){return Et(this,t,Tt),!1},trigger:function(){return Et(this,t),!0},delegateType:e}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||w.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),w.fn.extend({on:function(t,e,i,n){return Mt(this,t,e,i,n)},one:function(t,e,i,n){return Mt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,w(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=At),this.each(function(){w.event.remove(this,t,i,e)})}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,n,r,s,o,a,h,l;if(1===e.nodeType){if(Z.hasData(t)&&(s=Z.access(t),o=Z.set(e,s),l=s.events))for(r in delete o.handle,o.events={},l)for(i=0,n=l[r].length;i<n;i++)w.event.add(e,r,l[r][i]);Q.hasData(t)&&(a=Q.access(t),h=w.extend({},a),Q.set(e,h))}}function zt(t,e,i,n){e=o.apply([],e);var r,s,a,h,l,u,c=0,d=t.length,f=d-1,m=e[0],v=g(m);if(v||1<d&&"string"==typeof m&&!p.checkClone&&Ot.test(m))return t.each(function(r){var s=t.eq(r);v&&(e[0]=m.call(this,r,s.html())),zt(s,e,i,n)});if(d&&(s=(r=wt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(h=(a=w.map(mt(r,"script"),It)).length;c<d;c++)l=r,c!==f&&(l=w.clone(l,!0,!0),h&&w.merge(a,mt(l,"script"))),i.call(t[c],l,c);if(h)for(u=a[a.length-1].ownerDocument,w.map(a,Ft),c=0;c<h;c++)pt.test((l=a[c]).type||"")&&!Z.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):y(l.textContent.replace(Nt,""),l,u))}return t}function Bt(t,e,i){for(var n,r=e?w.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||w.cleanData(mt(n)),n.parentNode&&(i&&st(n)&&vt(mt(n,"script")),n.parentNode.removeChild(n));return t}w.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,i){var n,r,s,o,a,h,l,u=t.cloneNode(!0),c=st(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(o=mt(u),n=0,r=(s=mt(t)).length;n<r;n++)a=s[n],"input"===(l=(h=o[n]).nodeName.toLowerCase())&&dt.test(a.type)?h.checked=a.checked:"input"!==l&&"textarea"!==l||(h.defaultValue=a.defaultValue);if(e)if(i)for(s=s||mt(t),o=o||mt(u),n=0,r=s.length;n<r;n++)Rt(s[n],o[n]);else Rt(t,u);return 0<(o=mt(u,"script")).length&&vt(o,!c&&mt(t,"script")),u},cleanData:function(t){for(var e,i,n,r=w.event.special,s=0;void 0!==(i=t[s]);s++)if(X(i)){if(e=i[Z.expando]){if(e.events)for(n in e.events)r[n]?w.event.remove(i,n):w.removeEvent(i,n,e.handle);i[Z.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return V(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return zt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return zt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!gt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(w.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,function(e){var i=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(mt(this)),i&&i.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var i,n=[],r=w(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),w(r[o])[e](i),a.apply(n,i.get());return this.pushStack(n)}});var jt=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),Ht=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Yt=new RegExp(nt.join("|"),"i");function Vt(t,e,i){var n,r,s,o,a=t.style;return(i=i||Ht(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||st(t)||(o=w.style(t,e)),!p.pixelBoxStyles()&&jt.test(o)&&Yt.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(l).appendChild(u);var e=t.getComputedStyle(u);r="1%"!==e.top,h=12===i(e.marginLeft),u.style.right="60%",a=36===i(e.right),s=36===i(e.width),u.style.position="absolute",o=12===i(u.offsetWidth/3),rt.removeChild(l),u=null}}function i(t){return Math.round(parseFloat(t))}var r,s,o,a,h,l=n.createElement("div"),u=n.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),h},scrollboxSize:function(){return e(),o}}))}();var Wt=["Webkit","Moz","ms"],Ut=n.createElement("div").style,Gt={};function Xt(t){return w.cssProps[t]||Gt[t]||(t in Ut?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Wt.length;i--;)if((t=Wt[i]+e)in Ut)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"};function Jt(t,e,i){var n=it.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function te(t,e,i,n,r,s){var o="width"===e?1:0,a=0,h=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(h+=w.css(t,i+nt[o],!0,r)),n?("content"===i&&(h-=w.css(t,"padding"+nt[o],!0,r)),"margin"!==i&&(h-=w.css(t,"border"+nt[o]+"Width",!0,r))):(h+=w.css(t,"padding"+nt[o],!0,r),"padding"!==i?h+=w.css(t,"border"+nt[o]+"Width",!0,r):a+=w.css(t,"border"+nt[o]+"Width",!0,r));return!n&&0<=s&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-h-a-.5))||0),h}function ee(t,e,i){var n=Ht(t),r=(!p.boxSizingReliable()||i)&&"border-box"===w.css(t,"boxSizing",!1,n),s=r,o=Vt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(o)){if(!i)return o;o="auto"}return(!p.boxSizingReliable()&&r||"auto"===o||!parseFloat(o)&&"inline"===w.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,n),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+te(t,e,i||(r?"border":"content"),s,n,o)+"px"}function ie(t,e,i,n,r){return new ie.prototype.init(t,e,i,n,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Vt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=G(e),h=Zt.test(e),l=t.style;if(h||(e=Xt(a)),o=w.cssHooks[e]||w.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e];"string"==(s=typeof i)&&(r=it.exec(i))&&r[1]&&(i=lt(t,e,r),s="number"),null!=i&&i==i&&("number"!==s||h||(i+=r&&r[3]||(w.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(h?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,n){var r,s,o,a=G(e);return Zt.test(e)||(e=Xt(a)),(o=w.cssHooks[e]||w.cssHooks[a])&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=Vt(t,e,n)),"normal"===r&&e in $t&&(r=$t[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,i,n){if(i)return!Kt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,n):ht(t,Qt,function(){return ee(t,e,n)})},set:function(t,i,n){var r,s=Ht(t),o=!p.scrollboxSize()&&"absolute"===s.position,a=(o||n)&&"border-box"===w.css(t,"boxSizing",!1,s),h=n?te(t,e,n,a,s):0;return a&&o&&(h-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,"border",!1,s)-.5)),h&&(r=it.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=w.css(t,e)),Jt(0,i,h)}}}),w.cssHooks.marginLeft=qt(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+nt[n]+e]=s[n]||s[n-2]||s[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=Jt)}),w.fn.extend({css:function(t,e){return V(this,function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=Ht(t),r=e.length;o<r;o++)s[e[o]]=w.css(t,e[o],!1,n);return s}return void 0!==i?w.style(t,e,i):w.css(t,e)},t,e,1<arguments.length)}}),((w.Tween=ie).prototype={constructor:ie,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(w.cssNumber[i]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,i=ie.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ie.propHooks._default.set(this),this}}).init.prototype=ie.prototype,(ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ie.prototype.init,w.fx.step={};var ne,re,se,oe,ae=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function le(){re&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(le):t.setTimeout(le,w.fx.interval),w.fx.tick())}function ue(){return t.setTimeout(function(){ne=void 0}),ne=Date.now()}function ce(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=nt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,i){for(var n,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function fe(t,e,i){var n,r,s=0,o=fe.prefilters.length,a=w.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=ne||ue(),i=Math.max(0,l.startTime+l.duration-e),n=1-(i/l.duration||0),s=0,o=l.tweens.length;s<o;s++)l.tweens[s].run(n);return a.notifyWith(t,[l,n,i]),n<1&&o?i:(o||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:e,originalOptions:i,startTime:ne||ue(),duration:i.duration,tweens:[],createTween:function(e,i){var n=w.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(function(t,e){var i,n,r,s,o;for(i in t)if(r=e[n=G(i)],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=w.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}(u,l.opts.specialEasing);s<o;s++)if(n=fe.prefilters[s].call(l,t,u,l.opts))return g(n.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return w.map(u,de,l),g(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(fe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return lt(i.elem,t,it.exec(e),i),i}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(F);for(var i,n=0,r=t.length;n<r;n++)(fe.tweeners[i=t[n]]=fe.tweeners[i]||[]).unshift(e)},prefilters:[function(t,e,i){var n,r,s,o,a,h,l,u,c="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&at(t),m=Z.get(t,"fxshow");for(n in i.queue||(null==(o=w._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,w.queue(t,"fx").length||o.empty.fire()})})),e)if(ae.test(r=e[n])){if(delete e[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||w.style(t,n)}if((h=!w.isEmptyObject(e))||!w.isEmptyObject(f))for(n in c&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=Z.get(t,"display")),"none"===(u=w.css(t,"display"))&&(l?u=l:(ct([t],!0),l=t.style.display||l,u=w.css(t,"display"),ct([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===w.css(t,"float")&&(h||(d.done(function(){p.display=l}),null==l&&(l="none"===(u=p.display)?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),h=!1,f)h||(m?"hidden"in m&&(g=m.hidden):m=Z.access(t,"fxshow",{display:l}),s&&(m.hidden=!g),g&&ct([t],!0),d.done(function(){for(n in g||ct([t]),Z.remove(t,"fxshow"),f)w.style(t,n,f[n])})),h=de(g?m[n]:0,n,d),n in m||(m[n]=h.start,g&&(h.end=h.start,h.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),w.speed=function(t,e,i){var n=t&&"object"==typeof t?w.extend({},t):{complete:i||!i&&e||g(t)&&t,duration:t,easing:i&&e||e&&!g(e)&&e};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in w.fx.speeds?w.fx.speeds[n.duration]:w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(t,e,i,n){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=w.isEmptyObject(t),s=w.speed(e,i,n),o=function(){var e=fe(this,w.extend({},t),s);(r||Z.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=w.timers,o=Z.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&he.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Z.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=w.timers,o=n?n.length:0;for(i.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),w.each(["toggle","show","hide"],function(t,e){var i=w.fn[e];w.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ce(e,!0),t,n,r)}}),w.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),w.timers=[],w.fx.tick=function(){var t,e=0,i=w.timers;for(ne=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||w.fx.stop(),ne=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){re||(re=!0,le())},w.fx.stop=function(){re=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,i){return e=w.fx&&w.fx.speeds[e]||e,this.queue(i=i||"fx",function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},se=n.createElement("input"),oe=n.createElement("select").appendChild(n.createElement("option")),se.type="checkbox",p.checkOn=""!==se.value,p.optSelected=oe.selected,(se=n.createElement("input")).value="t",se.type="radio",p.radioValue="t"===se.value;var pe,ge=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return V(this,w.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?w.prop(t,e,i):(1===s&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?pe:void 0)),void 0!==i?null===i?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=w.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&M(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),pe={set:function(t,e,i){return!1===e?w.removeAttr(t,i):t.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ge[e]||w.find.attr;ge[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=ge[o],ge[o]=r,r=null!=i(t,e,n)?o:null,ge[o]=s),r}});var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(F)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}w.fn.extend({prop:function(t,e){return V(this,w.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(t)||(r=w.propHooks[e=w.propFix[e]||e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,h=0;if(g(t))return this.each(function(e){w(this).addClass(t.call(this,e,be(this)))});if((e=_e(t)).length)for(;i=this[h++];)if(r=be(i),n=1===i.nodeType&&" "+ye(r)+" "){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=ye(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,h=0;if(g(t))return this.each(function(e){w(this).removeClass(t.call(this,e,be(this)))});if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;i=this[h++];)if(r=be(i),n=1===i.nodeType&&" "+ye(r)+" "){for(o=0;s=e[o++];)for(;-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");r!==(a=ye(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(i){w(this).toggleClass(t.call(this,i,be(this),e),e)}):this.each(function(){var e,r,s,o;if(n)for(r=0,s=w(this),o=_e(t);e=o[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||((e=be(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+ye(be(i))+" ").indexOf(e))return!0;return!1}});var we=/\r/g;w.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=g(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(we,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:ye(w.text(t))}},select:{get:function(t){var e,i,n,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],h=o?s+1:r.length;for(n=s<0?h:o?s:0;n<h;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!M(i.parentNode,"optgroup"))){if(e=w(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,s=w.makeArray(e),o=r.length;o--;)((n=r[o]).selected=-1<w.inArray(w.valHooks.option.get(n),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<w.inArray(w(t).val(),e)}},p.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var xe=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,i,r,s){var o,a,h,l,u,d,f,p,v=[r||n],y=c.call(e,"type")?e.type:e,b=c.call(e,"namespace")?e.namespace.split("."):[];if(a=p=h=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!xe.test(y+w.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(e=e[w.expando]?e:new w.Event(y,"object"==typeof e&&e)).isTrigger=s?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:w.makeArray(i,[e]),f=w.event.special[y]||{},s||!f.trigger||!1!==f.trigger.apply(r,i))){if(!s&&!f.noBubble&&!m(r)){for(xe.test((l=f.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),h=a;h===(r.ownerDocument||n)&&v.push(h.defaultView||h.parentWindow||t)}for(o=0;(a=v[o++])&&!e.isPropagationStopped();)p=a,e.type=1<o?l:f.bindType||y,(d=(Z.get(a,"events")||{})[e.type]&&Z.get(a,"handle"))&&d.apply(a,i),(d=u&&a[u])&&d.apply&&X(a)&&(e.result=d.apply(a,i),!1===e.result&&e.preventDefault());return e.type=y,s||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),i)||!X(r)||u&&g(r[y])&&!m(r)&&((h=r[u])&&(r[u]=null),w.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Se),r[y](),e.isPropagationStopped()&&p.removeEventListener(y,Se),w.event.triggered=void 0,h&&(r[u]=h)),e.result}},simulate:function(t,e,i){var n=w.extend(new w.Event,i,{type:t,isSimulated:!0});w.event.trigger(n,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return w.event.trigger(t,e,i,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Z.access(n,e);r||n.addEventListener(t,i,!0),Z.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Z.access(n,e)-1;r?Z.access(n,e,r):(n.removeEventListener(t,i,!0),Z.remove(n,e))}}});var ke=t.location,Ce=Date.now(),Ae=/\?/;w.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),i};var Te=/\[\]$/,Me=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,i,n){var r;if(Array.isArray(e))w.each(e,function(e,r){i||Te.test(t)?n(t,r):Pe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==b(e))n(t,e);else for(r in e)Pe(t+"["+r+"]",e[r],i,n)}w.param=function(t,e){var i,n=[],r=function(t,e){var i=g(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){r(this.name,this.value)});else for(i in t)Pe(i,t[i],e,r);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&De.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!dt.test(t))}).map(function(t,e){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:i.replace(Me,"\r\n")}}).get()}});var Oe=/%20/g,Ne=/#.*$/,Le=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,Re=/^\/\//,ze={},Be={},je="*/".concat("*"),He=n.createElement("a");function Ye(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(F)||[];if(g(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Ve(t,e,i,n){var r={},s=t===Be;function o(a){var h;return r[a]=!0,w.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||s||r[l]?s?!(h=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),h}return o(e.dataTypes[0])||!r["*"]&&o("*")}function qe(t,e){var i,n,r=w.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&w.extend(!0,t,n),t}He.href=ke.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,w.ajaxSettings),e):qe(w.ajaxSettings,t)},ajaxPrefilter:Ye(ze),ajaxTransport:Ye(Be),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0);var r,s,o,a,h,l,u,c,d,f,p=w.ajaxSetup({},i=i||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=p.statusCode||{},_={},x={},S="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Ie.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||S;return r&&r.abort(e),C(0,e),this}};if(v.promise(k),p.url=((e||p.url||ke.href)+"").replace(Re,ke.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){l=n.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=He.protocol+"//"+He.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Ve(ze,p,i,k),u)return k;for(d in(c=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Fe.test(p.type),s=p.url.replace(Ne,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Oe,"+")):(f=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(Ae.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(Le,"$1"),f=(Ae.test(s)?"&":"?")+"_="+Ce+++f),p.url=s+f),p.ifModified&&(w.lastModified[s]&&k.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&k.setRequestHeader("If-None-Match",w.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,k,p)||u))return k.abort();if(S="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),r=Ve(Be,p,i,k)){if(k.readyState=1,c&&m.trigger("ajaxSend",[k,p]),u)return k;p.async&&0<p.timeout&&(h=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{u=!1,r.send(_,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,i,n,a){var l,d,f,_,x,S=i;u||(u=!0,h&&t.clearTimeout(h),r=void 0,o=a||"",k.readyState=0<e?4:0,l=200<=e&&e<300||304===e,n&&(_=function(t,e,i){for(var n,r,s,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){h.unshift(r);break}if(h[0]in i)s=h[0];else{for(r in i){if(!h[0]||t.converters[r+" "+h[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==h[0]&&h.unshift(s),i[s]}(p,k,n)),_=function(t,e,i,n){var r,s,o,a,h,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=u.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(!(o=l[h+" "+s]||l["* "+s]))for(r in l)if((a=r.split(" "))[1]===s&&(o=l[h+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[r]:!0!==l[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}(p,_,k,l),l?(p.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=x),(x=k.getResponseHeader("etag"))&&(w.etag[s]=x)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=_.state,d=_.data,l=!(f=_.error))):(f=S,!e&&S||(S="error",e<0&&(e=0))),k.status=e,k.statusText=(i||S)+"",l?v.resolveWith(g,[d,S,k]):v.rejectWith(g,[k,S,f]),k.statusCode(b),b=void 0,c&&m.trigger(l?"ajaxSuccess":"ajaxError",[k,p,l?d:f]),y.fireWith(g,[k,S]),c&&(m.trigger("ajaxComplete",[k,p]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,i){return w.get(t,e,i,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,i,n,r){return g(i)&&(r=r||n,n=i,i=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:i,success:n},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t,e){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(i){w(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var We={0:200,1223:204},Ue=w.ajaxSettings.xhr();p.cors=!!Ue&&"withCredentials"in Ue,p.ajax=Ue=!!Ue,w.ajaxTransport(function(e){var i,n;if(p.cors||Ue&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(r){if(i)throw r}},abort:function(){i&&i()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(r,s){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}});var Ge,Xe=[],Ke=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||w.expando+"_"+Ce++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(e,i,n){var r,s,o,a=!1!==e.jsonp&&(Ke.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ke,"$1"+r):!1!==e.jsonp&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||w.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},n.always(function(){void 0===s?w(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,Xe.push(r)),o&&g(s)&&s(o[0]),o=s=void 0}),"script"}),p.createHTMLDocument=((Ge=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),w.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(p.createHTMLDocument?((r=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(r)):e=n),o=!i&&[],(s=E.exec(t))?[e.createElement(s[1])]:(s=wt([t],e,o),o&&o.length&&w(o).remove(),w.merge([],s.childNodes)));var r,s,o},w.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return-1<a&&(n=ye(t.slice(a)),t=t.slice(0,a)),g(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<o.length&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?w("<div>").append(w.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,i){var n,r,s,o,a,h,l=w.css(t,"position"),u=w(t),c={};"static"===l&&(t.style.position="relative"),a=u.offset(),s=w.css(t,"top"),h=w.css(t,"left"),("absolute"===l||"fixed"===l)&&-1<(s+h).indexOf("auto")?(o=(n=u.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(h)||0),g(e)&&(e=e.call(t,i,w.extend({},a))),null!=e.top&&(c.top=e.top-a.top+o),null!=e.left&&(c.left=e.left-a.left+r),"using"in e?e.using.call(t,c):u.css(c)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?{top:(e=n.getBoundingClientRect()).top+(i=n.ownerDocument.defaultView).pageYOffset,left:e.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===w.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(n,"marginTop",!0),left:e.left-r.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||rt})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;w.fn[t]=function(n){return V(this,function(t,n,r){var s;if(m(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r},t,n,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=qt(p.pixelPosition,function(t,i){if(i)return i=Vt(t,e),jt.test(i)?w(t).position()[e]+"px":i})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){w.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return V(this,function(e,i,r){var s;return m(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?w.css(e,i,a):w.style(e,i,r,a)},e,o?r:void 0,o)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,i){return 0<arguments.length?this.on(e,null,t,i):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),w.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),g(t))return n=s.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=M,w.isFunction=g,w.isWindow=m,w.camelCase=G,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Ze=t.jQuery,Qe=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Qe),e&&t.jQuery===w&&(t.jQuery=Ze),w},e||(t.jQuery=t.$=w),w}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,n)}function n(){t.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}function s(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var o=0,a=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{(n=t._data(s,"events"))&&n.remove&&t(s).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,s,o,a={},h=e.split(".")[0],l=h+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},r=t[h][e],s=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(o=new i).options=t.widget.extend({},o.options),t.each(n,function(e,n){return t.isFunction(n)?void(a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=s,e}}()):void(a[e]=n)}),s.prototype=t.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||e},a,{constructor:s,namespace:h,widgetName:e,widgetFullName:l}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,r=a.call(arguments,1),s=0,o=r.length;o>s;s++)for(i in r[s])n=r[s][i],r[s].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,o=a.call(arguments,1),h=this;return s?this.length||"instance"!==r?this.each(function(){var i,s=t.data(this,n);return"instance"===r?(h=s,!1):s?t.isFunction(s[r])&&"_"!==r.charAt(0)?(i=s[r].apply(s,o))!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):h=void 0:(o.length&&(r=t.widget.extend.apply(null,[r].concat(o))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(r=o[e]=t.widget.extend({},this.options[e]),s=0;n.length-1>s;s++)r[n[s]]=r[n[s]]||{},r=r[n[s]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,s){var o,a;for(a=0;i.length>a;a++)o=r.classesElementLookup[i[a]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),r.classesElementLookup[i[a]]=o,n.push(i[a]),s&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){var r="string"==typeof t||null===t,s={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n="boolean"==typeof n?n:i};return s.element.toggleClass(this._classes(s),n),this},_on:function(e,i,n){var r,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,o){function a(){return e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var h=n.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+s.eventNamespace,u=h[2];u?r.on(l,u,a):i.on(l,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,s,o=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}}),function(){function e(t,e,i){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,s=Math.max,o=Math.abs,a=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return t("body").append(n),e=s.offsetWidth,n.css("overflow","scroll"),e===(i=s.offsetWidth)&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return d.apply(this,arguments);r=t.extend({},r);var c,f,p,g,m,v,y=t(r.of),b=t.position.getWithinInfo(r.within),_=t.position.getScrollInfo(b),w=(r.collision||"flip").split(" "),x={};return v=n(y),y[0].preventDefault&&(r.at="left top"),f=v.width,p=v.height,m=t.extend({},g=v.offset),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),x[this]=[t?t[0]:0,e?e[0]:0],r[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===r.at[0]?m.left+=f:"center"===r.at[0]&&(m.left+=f/2),"bottom"===r.at[1]?m.top+=p:"center"===r.at[1]&&(m.top+=p/2),c=e(x.at,f,p),m.left+=c[0],m.top+=c[1],this.each(function(){var n,a,h=t(this),l=h.outerWidth(),u=h.outerHeight(),d=i(this,"marginLeft"),v=i(this,"marginTop"),S=l+d+i(this,"marginRight")+_.width,k=u+v+i(this,"marginBottom")+_.height,C=t.extend({},m),A=e(x.my,h.outerWidth(),h.outerHeight());"right"===r.my[0]?C.left-=l:"center"===r.my[0]&&(C.left-=l/2),"bottom"===r.my[1]?C.top-=u:"center"===r.my[1]&&(C.top-=u/2),C.left+=A[0],C.top+=A[1],n={marginLeft:d,marginTop:v},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](C,{targetWidth:f,targetHeight:p,elemWidth:l,elemHeight:u,collisionPosition:n,collisionWidth:S,collisionHeight:k,offset:[c[0]+A[0],c[1]+A[1]],my:r.my,at:r.at,within:b,elem:h})}),r.using&&(a=function(t){var e=g.left-C.left,i=e+f-l,n=g.top-C.top,a=n+p-u,c={target:{element:y,left:g.left,top:g.top,width:f,height:p},element:{element:h,left:C.left,top:C.top,width:l,height:u},horizontal:0>i?"left":e>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};l>f&&f>o(e+i)&&(c.horizontal="center"),u>p&&p>o(n+a)&&(c.vertical="middle"),c.important=s(o(e),o(i))>s(o(n),o(a))?"horizontal":"vertical",r.using.call(this,t,c)}),h.offset(t.extend(C,{using:a}))})},t.ui.position={fit:{left:function(t,e){var i=e.within,n=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,o=t.left-e.collisionPosition.marginLeft,a=n-o,h=o+e.collisionWidth-r-n;e.collisionWidth>r?a>0&&0>=h?t.left+=a-(t.left+a+e.collisionWidth-r-n):t.left=h>0&&0>=a?n:a>h?n+r-e.collisionWidth:n:a>0?t.left+=a:h>0?t.left-=h:t.left=s(t.left-o,t.left)},top:function(t,e){var i=e.within,n=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,o=t.top-e.collisionPosition.marginTop,a=n-o,h=o+e.collisionHeight-r-n;e.collisionHeight>r?a>0&&0>=h?t.top+=a-(t.top+a+e.collisionHeight-r-n):t.top=h>0&&0>=a?n:a>h?n+r-e.collisionHeight:n:a>0?t.top+=a:h>0?t.top-=h:t.top=s(t.top-o,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,h=t.left-e.collisionPosition.marginLeft,l=h-a,u=h+e.collisionWidth-s-a,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>l?(0>(i=t.left+c+d+f+e.collisionWidth-s-(r.offset.left+r.scrollLeft))||o(l)>i)&&(t.left+=c+d+f):u>0&&((n=t.left-e.collisionPosition.marginLeft+c+d+f-a)>0||u>o(n))&&(t.left+=c+d+f)},top:function(t,e){var i,n,r=e.within,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,h=t.top-e.collisionPosition.marginTop,l=h-a,u=h+e.collisionHeight-s-a,c="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];0>l?(0>(n=t.top+c+d+f+e.collisionHeight-s-(r.offset.top+r.scrollTop))||o(l)>n)&&(t.top+=c+d+f):u>0&&((i=t.top-e.collisionPosition.marginTop+c+d+f-a)>0||u>o(i))&&(t.top+=c+d+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var h="ui-effects-",l="ui-effects-style",u="ui-effects-animated",c=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=h(),r=n._rgba=[];return i=i.toLowerCase(),f(a,function(t,s){var o,a=s.re.exec(i),h=a&&s.parse(a),u=s.space||"rgba";return h?(o=n[u](h),n[l[u].cache]=o[l[u].cache],r=n._rgba=o._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,s.transparent),n):s[i]}function r(t,e,i){return 1>6*(i=(i+1)%1)?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var s,o=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=h.support={},d=t("<p>")[0],f=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(l,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(r,o,a,u){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(o),o=e);var c=this,d=t.type(r),p=this._rgba=[];return o!==e&&(r=[r,o,a,u],d="array"),"string"===d?this.parse(n(r)||s._default):"array"===d?(f(l.rgba.props,function(t,e){p[e.idx]=i(r[e.idx],e)}),this):"object"===d?(f(l,r instanceof h?function(t,e){r[e.cache]&&(c[e.cache]=r[e.cache].slice())}:function(e,n){var s=n.cache;f(n.props,function(t,e){if(!c[s]&&n.to){if("alpha"===t||null==r[t])return;c[s]=n.to(c._rgba)}c[s][e.idx]=i(r[t],e,!0)}),c[s]&&0>t.inArray(null,c[s].slice(0,3))&&(c[s][3]=1,n.from&&(c._rgba=n.from(c[s])))}),this):e},is:function(t){var i=h(t),n=!0,r=this;return f(l,function(t,s){var o,a=i[s.cache];return a&&(o=r[s.cache]||s.to&&s.to(r._rgba)||[],f(s.props,function(t,i){return null!=a[i.idx]?n=a[i.idx]===o[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return f(l,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=h(t),r=n._space(),s=l[r],o=0===this.alpha()?h("transparent"):this,a=o[s.cache]||s.to(o._rgba),c=a.slice();return n=n[s.cache],f(s.props,function(t,r){var s=r.idx,o=a[s],h=n[s],l=u[r.type]||{};null!==h&&(null===o?c[s]=h:(l.mod&&(h-o>l.mod/2?o+=l.mod:o-h>l.mod/2&&(o-=l.mod)),c[s]=i((h-o)*e+o,r)))}),this[r](c)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=h(e)._rgba;return h(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,l.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i=t[0]/255,n=t[1]/255,r=t[2]/255,s=t[3],o=Math.max(i,n,r),a=Math.min(i,n,r),h=o-a,l=o+a,u=.5*l;return e=0===h?0:.5>=u?h/l:h/(2-l),[Math.round(a===o?0:i===o?60*(n-r)/h+360:n===o?60*(r-i)/h+120:60*(i-n)/h+240)%360,e,u,null==s?1:s]},l.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],o=.5>=n?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*r(a,o,e+1/3)),Math.round(255*r(a,o,e)),Math.round(255*r(a,o,e-1/3)),s]},f(l,function(n,r){var s=r.props,a=r.cache,l=r.to,u=r.from;h.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===e)return this[a].slice();var r,o=t.type(n),c="array"===o||"object"===o?n:arguments,d=this[a].slice();return f(s,function(t,e){var n=c["object"===o?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),u?((r=h(u(d)))[a]=d,r):h(d)},f(s,function(e,i){h.fn[e]||(h.fn[e]=function(r){var s,a=t.type(r),h="alpha"===e?this._hsla?"hsla":"rgba":n,l=this[h](),u=l[i.idx];return"undefined"===a?u:("function"===a&&(r=r.call(this,u),a=t.type(r)),null==r&&i.empty?this:("string"===a&&(s=o.exec(r))&&(r=u+parseFloat(s[2])*("+"===s[1]?1:-1)),l[i.idx]=r,this[h](l)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,r){var s,o,l="";if("transparent"!==r&&("string"!==t.type(r)||(s=n(r)))){if(r=h(s||r),!c.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===l||"transparent"===l)&&o&&o.style;)try{l=t.css(o,"backgroundColor"),o=o.parentNode}catch(a){}r=r.blend(l&&"transparent"!==l?l:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(a){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},s=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(c),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)"string"==typeof r[i=r[n]]&&(s[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(s[i]=r[i]);return s}function i(e,i){var n,s,o={};for(n in i)e[n]!==(s=i[n])&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(s)))&&(o[n]=s));return o}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(c.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,s,o,a){var h=t.speed(s,o,a);return this.queue(function(){var s,o=t(this),a=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){return{el:t(this),start:e(this)}}),(s=function(){t.each(n,function(t,e){r[e]&&o[e+"Class"](r[e])})})(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",a),l=l.map(function(){var e=this,i=t.Deferred(),n=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,l.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,s){return n?t.effects.animateClass.call(this,{add:i},n,r,s):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,s){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,s):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,s,o){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,s,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,s)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,s){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,s)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function n(t,e){var i=e.outerWidth(),n=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,n,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?i:parseFloat(r[2]),bottom:"auto"===r[3]?n:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(u)||e(i)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;n>i;i++)null!==e[i]&&t.data(h+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,r=e.length;r>n;n++)null!==e[n]&&(i=t.data(h+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},s=document.activeElement;return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,r="vertical"!==i?(e||100)/100:1;return{height:t.height()*r,width:t.width()*n,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(l,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(l)||"",t.removeData(l)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(h+"placeholder",i)),e.css({position:n,left:r.left,top:r.top}),i},removePlaceholder:function(t){var e=h+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var s=e.cssUnit(i);s[0]>0&&(r[i]=s[0]*n+s[1])}),r}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(h)&&h.call(o[0]),t.isFunction(e)&&e()}var o=t(this);n.mode=c.shift(),!1===t.uiBackCompat||s?"none"===n.mode?(o[l](),i()):r.call(o[0],n,function(){o.removeData(u),t.effects.cleanUp(o),"hide"===n.mode&&o.hide(),i()}):(o.is(":hidden")?"hide"===l:"show"===l)?(o[l](),i()):r.call(o[0],n,i)}var n=e.apply(this,arguments),r=t.effects.effect[n.effect],s=r.mode,o=n.queue,a=o||"fx",h=n.complete,l=n.mode,c=[],d=function(e){var i=t(this),n=t.effects.mode(i,l)||s;i.data(u,!0),c.push(n),s&&("show"===n||n===s&&"hide"===n)&&i.show(),s&&"none"===n||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!r?l?this[l](n.duration,h):this.each(function(){h&&h.call(this)}):!1===o?this.each(d).each(i):this.queue(a,d).queue(a,i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):n(this.css("clip"),this)},transfer:function(e,i){var n=t(this),r=t(e.to),s="fixed"===r.css("position"),o=t("body"),a=s?o.scrollTop():0,h=s?o.scrollLeft():0,l=r.offset(),u={top:l.top-a,left:l.left-h,height:r.innerHeight(),width:r.innerWidth()},c=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:c.top-a,left:c.left-h,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=n(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),s=e.direction||"up",o=r.cssClip(),a={clip:t.extend({},o)},h=t.effects.createPlaceholder(r);a.clip[n[s][0]]=a.clip[n[s][1]],"show"===e.mode&&(r.cssClip(a.clip),h&&h.css(t.effects.clipToBox(a)),a.clip=o),h&&h.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var n,r,s,o=t(this),a=e.mode,h="hide"===a,l="show"===a,u=e.direction||"up",c=e.distance,d=e.times||5,f=2*d+(l||h?1:0),p=e.duration/f,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,b=o.queue().length;for(t.effects.createPlaceholder(o),s=o.css(m),c||(c=o["top"===m?"outerHeight":"outerWidth"]()/3),l&&((r={opacity:1})[m]=s,o.css("opacity",0).css(m,v?2*-c:2*c).animate(r,p,g)),h&&(c/=Math.pow(2,d-1)),(r={})[m]=s;d>y;y++)(n={})[m]=(v?"-=":"+=")+c,o.animate(n,p,g).animate(r,p,g),c=h?2*c:c/2;h&&((n={opacity:0})[m]=(v?"-=":"+=")+c,o.animate(n,p,g)),o.queue(i),t.effects.unshift(o,b,f+1)}),t.effects.define("clip","hide",function(e,i){var n,r={},s=t(this),o=e.direction||"vertical",a="both"===o,h=a||"horizontal"===o,l=a||"vertical"===o;n=s.cssClip(),r.clip={top:l?(n.bottom-n.top)/2:n.top,right:h?(n.right-n.left)/2:n.right,bottom:l?(n.bottom-n.top)/2:n.bottom,left:h?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(s),"show"===e.mode&&(s.cssClip(r.clip),r.clip=n),s.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var n,r=t(this),s="show"===e.mode,o=e.direction||"left",a="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o?"-=":"+=",l="+="===h?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r["top"===a?"outerHeight":"outerWidth"](!0)/2,u[a]=h+n,s&&(r.css(u),u[a]=l+n,u.opacity=1),r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function n(){v.push(this),v.length===u*c&&(d.css({visibility:"visible"}),t(v).remove(),i())}var r,s,o,a,h,l,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,d=t(this),f="show"===e.mode,p=d.show().css("visibility","hidden").offset(),g=Math.ceil(d.outerWidth()/c),m=Math.ceil(d.outerHeight()/u),v=[];for(r=0;u>r;r++)for(a=p.top+r*m,l=r-(u-1)/2,s=0;c>s;s++)o=p.left+s*g,h=s-(c-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:o+(f?h*g:0),top:a+(f?l*m:0),opacity:f?0:1}).animate({left:o+(f?0:h*g),top:a+(f?0:l*m),opacity:f?1:0},e.duration||500,e.easing,n)}),t.effects.define("fade","toggle",function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,s="show"===r,o="hide"===r,a=e.size||15,h=/([0-9]+)%/.exec(a),l=e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,c=t.effects.createPlaceholder(n),d=n.cssClip(),f={clip:t.extend({},d)},p={clip:t.extend({},d)},g=[d[l[0]],d[l[1]]],m=n.queue().length;h&&(a=parseInt(h[1],10)/100*g[o?0:1]),f.clip[l[0]]=a,p.clip[l[0]]=a,p.clip[l[1]]=0,s&&(n.cssClip(p.clip),c&&c.css(t.effects.clipToBox(p)),p.clip=d),n.queue(function(i){c&&c.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(p),u,e.easing),i()}).animate(f,u,e.easing).animate(p,u,e.easing).queue(i),t.effects.unshift(n,m,4)}),t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var n,r,s,o=t(this),a=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,c="effect"!==u,d=e.scale||"both",f=e.origin||["middle","center"],p=o.css("position"),g=o.position(),m=t.effects.scaledDimensions(o),v=e.from||m,y=e.to||t.effects.scaledDimensions(o,0);t.effects.createPlaceholder(o),"show"===u&&(s=v,v=y,y=s),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===d||"both"===d)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(o,h,r.from.y,v),y=t.effects.setTransition(o,h,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(o,l,r.from.x,v),y=t.effects.setTransition(o,l,r.to.x,y))),("content"===d||"both"===d)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(o,a,r.from.y,v),y=t.effects.setTransition(o,a,r.to.y,y)),f&&(n=t.effects.getBaseline(f,m),v.top=(m.outerHeight-v.outerHeight)*n.y+g.top,v.left=(m.outerWidth-v.outerWidth)*n.x+g.left,y.top=(m.outerHeight-y.outerHeight)*n.y+g.top,y.left=(m.outerWidth-y.outerWidth)*n.x+g.left),o.css(v),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(a),l=l.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var i=t(this),n=t.effects.scaledDimensions(i),s={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},o={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x};r.from.y!==r.to.y&&(s=t.effects.setTransition(i,h,r.from.y,s),o=t.effects.setTransition(i,h,r.to.y,o)),r.from.x!==r.to.x&&(s=t.effects.setTransition(i,l,r.from.x,s),o=t.effects.setTransition(i,l,r.to.x,o)),c&&t.effects.saveStyle(i),i.css(s),i.animate(o,e.duration,e.easing,function(){c&&t.effects.restoreStyle(i)})})),o.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=o.offset();0===y.opacity&&o.css("opacity",v.opacity),c||(o.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(o)),i()}})}),t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),o=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,s,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),t.effects.effect.size.call(this,o,i)}),t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)}),t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,s="show"===r,o=2*(e.times||5)+(s||"hide"===r?1:0),a=e.duration/o,h=0,l=1,u=n.queue().length;for((s||!n.is(":visible"))&&(n.css("opacity",0).show(),h=1);o>l;l++)n.animate({opacity:h},a,e.easing),h=1-h;n.animate({opacity:h},a,e.easing),n.queue(i),t.effects.unshift(n,u,o+1)}),t.effects.define("shake",function(e,i){var n=1,r=t(this),s=e.direction||"left",o=e.distance||20,a=e.times||3,h=2*a+1,l=Math.round(e.duration/h),u="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,d={},f={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[u]=(c?"-=":"+=")+o,f[u]=(c?"+=":"-=")+2*o,p[u]=(c?"-=":"+=")+2*o,r.animate(d,l,e.easing);a>n;n++)r.animate(f,l,e.easing).animate(p,l,e.easing);r.animate(f,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(r,g,h+1)}),t.effects.define("slide","show",function(e,i){var n,r,s=t(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,c=e.distance||s["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(s),n=s.cssClip(),r=s.position()[l],d[l]=(u?-1:1)*c+r,d.clip=s.cssClip(),d.clip[o[h][1]]=d.clip[o[h][0]],"show"===a&&(s.cssClip(d.clip),s.css(l,d[l]),d.clip=n,d[l]=r),s.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}),t.ui.focusable=function(e,i){var n,r,s,o,a,h=e.nodeName.toLowerCase();return"area"===h?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(s=t("img[usemap='#"+r+"']")).length>0&&s.is(":visible")):(/^(input|select|textarea|button|object)$/.test(h)?(o=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(o=!a.disabled):o="a"===h&&e.href||i,o&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function n(e,i,n,s){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(s,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(s,n(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,n,r,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(n=this.attr("id"))&&(s=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",r=r.add(s.find(i).addBack(i))),this.pushStack(r))},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),s=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(t(e.target).attr("tabIndex",-1),t(s).attr("tabIndex",0),t(s).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&this._eventHandler({target:i=i||this.active[0],currentTarget:i,preventDefault:t.noop})},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,s=this.active,o=t(e.currentTarget),a=o[0]===s[0],h=a&&r.collapsible,l=h?t():o.next(),u=s.next(),c={oldHeader:s,oldPanel:u,newHeader:h?t():o,newPanel:l};e.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",e,c)||(r.active=!h&&this.headers.index(o),this.active=a?t():o,this._toggle(c),this._removeClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,r,s,o=this,a=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=l&&u.down||u,d=function(){o._toggleComplete(i)};return"number"==typeof c&&(s=c),"string"==typeof c&&(r=c),r=r||c.easing||u.easing,s=s||c.duration||u.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:s,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:s,easing:r,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,s,r,d):t.animate(this.showProps,s,r,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,n,r,s,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",s=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?s=!0:r=n+r,i=this._filterMenuItems(r),(i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,r,s=this,o=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(n,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,s,o,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(i=t(this)).offset().top-n-r}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,o="input"===r;this.isMultiLine=s||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var s=t.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case s.UP:e=!0,this._keyEvent("previous",r);break;case s.DOWN:e=!0,this._keyEvent("next",r);break;case s.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),void((n=i.item.attr("aria-label")||r.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible");(!e||e&&!i&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey))&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var d,f=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){var s,o={};return r?"controlgroupLabel"===n?((s=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(s,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(s.get()))):void(t.fn[n]&&(o=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),s=r[n]("instance"),a=t.widget.extend({},o);if("button"!==n||!r.parent(".ui-spinner").length){s||(s=r[n]()[n]("instance")),s&&(a.classes=e._resolveClassesValues(a.classes,s)),r[n](a);var h=r[n]("widget");t.data(h[0],"ui-controlgroup-data",s||r[n]("instance")),i.push(h[0])}}))):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this).data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(r){var s=i.options.classes[r]||"";s=t.trim(s.replace(f,"")),n[r]=(s+" "+e[r]).replace(/\s+/g," ")}),n},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,n){var r=e[n]().data("ui-controlgroup-data");if(r&&i["_"+r.widgetName+"Options"]){var s=i["_"+r.widgetName+"Options"](1===e.length?"only":n);s.classes=i._resolveClassesValues(s.classes,r),r.element[r.widgetName](s)}else i._updateCornerClass(e[n](),n)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,i="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,r=n?this.options.iconPosition:i,s="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),s?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){(void 0===t.showLabel?this.options.showLabel:t.showLabel)||(void 0===t.icon?this.options.icon:t.icon)||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,s;r="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(s=this._newInst(t(e),r)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):r&&this._inlineDatepicker(e,s)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,s,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),("focus"===(n=this._get(i,"showOn"))||"both"===n)&&e.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,s=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(s.setMonth((e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n})(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,o){var a,h,l,u,c=this._dialogInst;return c||(this.uuid+=1,this._dialogInput=t("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",c)),r(c.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,h/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),d===r&&(d=null))},_enableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&((n=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&((n=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var s,o,a,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(s=i||{},"string"==typeof i&&((s={})[i]=n),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,s),null!==a&&void 0!==s.dateFormat&&void 0===s.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==h&&void 0!==s.dateFormat&&void 0===s.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,s=t.datepicker._getInst(e.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv))[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,r[0]),(i=t.datepicker._get(s,"onSelect"))?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(i){}return!0},_showDatepicker:function(e){var i,n,s,o,a,h,l;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(s=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(r(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),l):i.dpDiv[h||"show"](h?l:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,d=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,r=this._getNumberOfMonths(e),s=r[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&n.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>h&&h>r?Math.abs(i.left+r-h):0),i.top-=Math.min(i.top,i.top+s>l&&l>s?Math.abs(s+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,r,s,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),r=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,r):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,(s=this._get(o,"onClose"))&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),s=this._getInst(r[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(e,i,n,r){var s,o=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((s=this._getInst(o[0])).selectedDay=s.currentDay=t("a",r).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),s=this._getInst(r[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),(n=this._get(s,"onSelect"))?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(s).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""==(i="object"==typeof i?""+i:i+""))return null;var r,s,o,a,h=0,l=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var i=e.length>r+1&&e.charAt(r+1)===t;return i&&r++,i},w=function(t){var e=_(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),s=i.substring(h).match(r);if(!s)throw"Missing number at position "+h;return h+=s[0].length,parseInt(s[0],10)},x=function(e,n,r){var s=-1,o=t.map(_(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];return i.substr(h,n.length).toLowerCase()===n.toLowerCase()?(s=e[0],h+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+h},S=function(){if(i.charAt(h)!==e.charAt(r))throw"Unexpected literal at position "+h;h++};for(r=0;e.length>r;r++)if(b)"'"!==e.charAt(r)||_("'")?S():b=!1;else switch(e.charAt(r)){case"d":v=w("d");break;case"D":x("D",c,d);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=x("M",f,p);break;case"y":g=w("y");break;case"@":g=(a=new Date(w("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?S():b=!0;break;default:S()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),y>-1)for(m=1,v=y;!((s=this._getDaysInMonth(g,m-1))>=v);)m++,v-=s;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},l=function(t,e,i){var n=""+e;if(h(t))for(;i>n.length;)n="0"+n;return n},u=function(t,e,i,n){return h(t)?n[e]:i[e]},c="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||h("'")?c+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),r,s);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),o,a);break;case"y":c+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?c+="'":d=!0;break;default:c+=t.charAt(n)}return c},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||r}catch(s){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=r.getFullYear(),o=r.getMonth(),a=r.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,o))}l=h.exec(i)}return new Date(s,o,a)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(r=r&&"Invalid Date"==""+r?n:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),r===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j=new Date,H=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),Y=this._get(t,"isRTL"),V=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),K=1!==U[0]||1!==U[1],Z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),$=this._getMinMaxDate(t,"max"),J=t.drawMonth-G,tt=t.drawYear;if(0>J&&(J+=12,tt--),$)for(e=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+X,1)),this._getFormatConfig(t)):r,s=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+r+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?Z:H,o=W?this.formatDate(o,a,this._getFormatConfig(t)):o,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",x=0;U[0]>x;x++){for(S="",this.maxRows=4,k=0;U[1]>k;k++){if(C=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),A=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(k){case 0:T+=" ui-datepicker-group-first",A=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",A=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",A=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===x?Y?s:n:"")+(/all|right/.test(A)&&0===x?Y?n:s:"")+this._generateMonthYearHeader(t,J,tt,Q,$,x>0||k>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[E=(w+u)%7]+"'>"+f[E]+"</span></th>";for(T+=M+"</tr></thead><tbody>",D=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),P=(this._getFirstDayOfMonth(tt,J)-u+7)%7,O=Math.ceil((P+D)/7),this.maxRows=N=K&&this.maxRows>O?this.maxRows:O,L=this._daylightSavingAdjust(new Date(tt,J,1-P)),I=0;N>I;I++){for(T+="<tr>",F=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",w=0;7>w;w++)R=m?m.apply(t.input?t.input[0]:null,[L]):[!0,""],B=(z=L.getMonth()!==J)&&!y||!R[0]||Q&&Q>L||$&&L>$,F+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===L.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+R[1]+(L.getTime()===Z.getTime()?" "+this._currentClass:"")+(L.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===H.getTime()?" ui-state-highlight":"")+(L.getTime()===Z.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);T+=F+"</tr>"}++J>11&&(J=0,tt++),S+=T+="</tbody></table>"+(K?"</div>"+(U[0]>0&&k===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=S}return _+=l,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,i,n,r,s,o,a){var h,l,u,c,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(s||!m)_+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(h=n&&n.getFullYear()===i,l=r&&r.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=n.getMonth())&&(!l||r.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");_+="</select>"}if(y||(b+=_+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(c[0]),g=Math.max(p,f(c[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!s&&m&&v?"":"&#xa0;")+_),b+"</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),r=t.selectedMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),o=null,a=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!s||e.getTime()<=s.getTime())&&(!o||e.getFullYear()>=o)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new e,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var p=!1;t(document).on("mouseup",function(){p=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),p=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,p=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;s.length>r;r++)t.options[s[r][0]]&&s[r][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,s=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((n=(i=t(r.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])&&(r=!1),r})),r?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},e.target=s.currentItem[0],s._mouseCapture(e,!0),s._mouseStart(e,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",e),n.dropped=s.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(e),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",e,s._uiHash(s)),s._mouseStop(e,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),s=n.options;r.css("cursor")&&(s._cursor=r.css("cursor")),r.css("cursor",s.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("opacity")&&(s._opacity=r.css("opacity")),r.css("opacity",s.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,s=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity?o.scrollTop=s=o.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==s&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,s,o,a,h,l,u,c,d,f,p=n.options,g=p.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=(h=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,c=(u=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,h-g>v||m>l+g||u-g>b||y>c+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(u-b),s=g>=Math.abs(c-y),o=g>=Math.abs(h-v),a=g>=Math.abs(l-m),r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),f=r||s||o||a,"outer"!==p.snapMode&&(r=g>=Math.abs(u-y),s=g>=Math.abs(c-b),o=g>=Math.abs(h-m),a=g>=Math.abs(l-v),r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(r||s||o||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||s||o||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,s=t.makeArray(t(n.options.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),this.originalElement.css({position:(e=this.element).css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,r,s,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;n.length>i;i++)r="ui-resizable-"+(e=t.trim(n[i])),s=t("<div>"),this._addClass(s,"ui-resizable-handle "+r),s.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(s);this._renderAxis=function(e){var i,n,r,s;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=t(s.containment).scrollLeft()||0,n+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,s=e.pageX-r.left||0,o=e.pageY-r.top||0,a=this._change[this.axis];return this._updatePrevProperties(),!!a&&(i=a.apply(this,[e,s,o]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,s,o,a,h,l=this.options,u=this;return this._helper&&(r=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,o={width:u.helper.width()-s,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,h=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,(e=s.minHeight*this.aspectRatio)>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>r&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),s&&l&&(t.left=a-e.minWidth),n&&l&&(t.left=a-e.maxWidth),o&&u&&(t.top=h-e.minHeight),r&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(r[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(t,e,i){return{top:this.originalPosition.top+i,height:this.originalSize.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a={width:i.size.width-(s?0:i.sizeDiff.width),height:i.size.height-o},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,l=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(a,l&&h?{top:l,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,s,o,a,h=t(this).resizable("instance"),l=h.element,u=h.options.containment,c=u instanceof t?u.get(0):/parent/.test(u)?l.parent().get(0):u;c&&(h.containerElement=t(c),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(c),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=h._num(e.css("padding"+n))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=h.containerOffset,r=h.containerSize.height,s=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:s,a=h._hasScroll(c)?c.scrollHeight:r,h.parentData={element:c,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,r,s,o=t(this).resizable("instance"),a=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||e.shiftKey,c={top:0,left:0},d=o.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-c.left),u&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=a.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?h.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),r&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-h.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,u&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,s=e.containerElement,o=t(e.helper),a=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance");t(e.options.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.originalSize,s=n.originalPosition,o={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};t(n.options.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},s=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(n[e]||0)+(o[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,s=i.originalSize,o=i.originalPosition,a=i.axis,h="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=h[0]||1,u=h[1]||1,c=Math.round((r.width-s.width)/l)*l,d=Math.round((r.height-s.height)/u)*u,f=s.width+c,p=s.height+d,g=n.maxWidth&&f>n.maxWidth,m=n.maxHeight&&p>n.maxHeight,v=n.minWidth&&n.minWidth>f,y=n.minHeight&&n.minHeight>p;n.grid=h,v&&(f+=l),y&&(p+=u),g&&(f-=l),m&&(p-=u),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=o.top-d):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=o.left-c):((0>=p-u||0>=f-l)&&(e=i._getPaddingPlusBorderDimensions(this)),p-u>0?(i.size.height=p,i.position.top=o.top-d):(i.size.height=p=u-e.height,i.position.top=o.top+s.height-p),f-l>0?(i.size.width=f,i.position.left=o.left-c):(i.size.width=f=l-e.width,i.position.left=o.left+s.width-f))}}),t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),s=Math.max.apply(null,r);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,function(i,n){var r,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,s={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(s).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,s){var o=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,s=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,s){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,s=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=s.is(":data(ui-draggable)"))&&!i&&s.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=s.is(":data(ui-resizable)"))&&!i&&s.resizable("destroy"),r&&"string"==typeof i&&s.resizable("option","handles",i),r||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){this._splice(t.ui.ddmanager.droppables[this.options.scope])},_setOption:function(e,i){"accept"===e?this.accept=t.isFunction(i)?i:function(t){return t.is(i)}:"scope"===e&&(this._splice(t.ui.ddmanager.droppables[this.options.scope]),this._addToManager(i)),this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&g(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(r=!0,!1):void 0}),!r&&!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,r){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=s+e.helperProportions.width,h=o+e.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,d=u+i.proportions().height;switch(n){case"fit":return s>=l&&c>=a&&o>=u&&d>=h;case"intersect":return s+e.helperProportions.width/2>l&&c>a-e.helperProportions.width/2&&o+e.helperProportions.height/2>u&&d>h-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,i.proportions().height)&&t(r.pageX,l,i.proportions().width);case"touch":return(o>=u&&d>=o||h>=u&&d>=h||u>o&&h>d)&&(s>=l&&c>=s||a>=l&&c>=a||l>s&&a>c);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,s=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===s[n].element[0]){s[n].proportions().height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&g(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,s,o=g(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((n=t(s[0]).droppable("instance")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=e.pageX,h=e.pageY;return s>a&&(i=a,a=s,s=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:s,top:o,width:a-s,height:h-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,u={};i&&i.element!==n.element[0]&&(u.left=i.left+n.elementPos.left,u.right=i.right+n.elementPos.left,u.top=i.top+n.elementPos.top,u.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?l=!(u.left>a||s>u.right||u.top>h||o>u.bottom):"fit"===r.tolerance&&(l=u.left>s&&a>u.right&&u.top>o&&h>u.bottom),l?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,s){var o;s.optgroup!==r&&(o=t("<li>",{text:s.optgroup}),n._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(e),r=s.optgroup),n._renderItemData(e,s)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each(function(e,r){n.push(i._parseOption(t(r),e))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),s=[];for(r.length>(i=n.values&&n.values.length||1)&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)s.push("<span tabindex='0'></span>");this.handles=r.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,s,o,a,h=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i=this._normValueFromMouse({x:e.pageX,y:e.pageY}),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var o=Math.abs(i-h.values(e));(n>o||n===o&&(e===h._lastChangedValue||h.values(e)===l.min))&&(n=o,r=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),o=r.offset(),a=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:e.pageX-o.left-r.width()/2,top:e.pageY-o.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e=this._normValueFromMouse({x:t.pageX,y:t.pageY});return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,s;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,r=this.value(),s=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),s[e]=i),i!==r&&!1!==this._trigger("slide",t,this._uiHash(e,i,s))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(t){var e,i;if(arguments.length)return this._trimAlignValue(this.options.values[t]);if(this._hasMultipleValues()){for(e=this.options.values.slice(),i=0;e.length>i;i+=1)e[i]=this._trimAlignValue(e[i]);return e}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,s,o=this.options.range,a=this.options,h=this,l=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(n){i=(h.values(n)-h._valueMin())/(h._valueMax()-h._valueMin())*100,u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,a.animate),!0===h.options.range&&("horizontal"===h.orientation?(0===n&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),1===n&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),s=this._valueMax(),u["horizontal"===this.orientation?"left":"bottom"]=(i=s!==r?(n-r)/(s-r)*100:0)+"%",this.handle.stop(1,1)[l?"animate":"css"](u,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var i,n,r,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,s)))return}switch(r=this.options.step,i=n=this._hasMultipleValues()?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-r)}this._slide(e,s,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,s=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),!n||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,i,n){var r,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(s=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=this.positionAbs.top,n=t.left,r=n+t.width,s=t.top,o=s+t.height,a=this.offset.click.top,h=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?("x"===this.options.axis||i+a>s&&o>i+a)&&("y"===this.options.axis||e+h>n&&r>e+h):e+this.helperProportions.width/2>n&&r>e+this.helperProportions.width-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&o>i+this.helperProportions.height-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!r)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,s,o,a=[],h=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(r=(s=t(l[n],this.document[0])).length-1;r>=0;r--)(o=t.data(s[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&h.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=h.length-1;n>=0;n--)h[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,s,o,a,h,l,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(r=t(d[i],this.document[0])).length-1;n>=0;n--)(s=t.data(r[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&(c.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=c.length-1;i>=0;i--)for(o=c[i][1],n=0,l=(a=c[i][0]).length;l>n;n++)(h=t(a[n])).data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,r,s;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,s,o,a,h,l,u,c,d=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,s=null,o=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",c=u?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(h=this.items[n].item.offset()[o],l=!1,e[c]-h>this.items[n][a]/2&&(l=!0),r>Math.abs(e[c]-h)&&(r=Math.abs(e[c]-h),s=this.items[n],this.direction=l?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,s=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push((function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}).call(this,this.currentContainer)),r.push((function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}).call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,n){var r=i.attr(n);null!=r&&r.length&&(e[n]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,r;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:s(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:s(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:s(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:s(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void s(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,r;n=e.href.replace(t,""),r=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(i){}try{r=decodeURIComponent(r)}catch(i){}return e.hash.length>1&&n===r}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,r){return t(r).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var n=this.tabs.length-1;-1!==t.inArray((e>n&&(e=0),0>e&&(e=n),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,n){var r,s,o,a=t(n).uniqueId().attr("id"),h=t(n).closest("li"),l=h.attr("aria-controls");e._isLocal(n)?(o=(r=n.hash).substring(1),s=e.element.find(e._sanitizeSelector(r))):(o=h.attr("aria-controls")||t({}).uniqueId()[0].id,(s=e.element.find(r="#"+o)).length||(s=e._createPanel(o)).insertAfter(e.panels[i-1]||e.tablist),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),!0===e||-1!==t.inArray(r,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget).closest("li"),s=r[0]===n[0],o=s&&i.collapsible,a=o?t():this._getPanelForTab(r),h=n.length?this._getPanelForTab(n):t(),l={oldTab:n,oldPanel:h,newTab:o?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||!1===this._trigger("beforeActivate",e,l)||(i.active=!o&&this.tabs.index(r),this.active=s?t():r,this.xhr&&this.xhr.abort(),h.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,l))},_toggle:function(e,i){function n(){s.running=!1,s._trigger("activate",e,i)}function r(){s._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,n):(o.show(),n())}var s=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){s._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),s=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),a={tab:r,panel:o},h=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){o.html(t),n._trigger("load",i,a),h(r,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,s){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:s},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),(n=t.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,s=e?e.type:null;return"string"==typeof n||n.nodeType||n.jquery?this._open(e,t,n):void((i=n.call(t[0],function(i){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=s),this._open(e,t,i))})}))&&this._open(e,t,i))},_open:function(e,i,n){function r(t){l.of=t,o.is(":hidden")||o.position(l)}var s,o,a,h,l=t.extend({},this.options.position);if(n){if(s=this._find(i))return void s.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),this._addDescribedBy(i,(o=s.tooltip).attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(h=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(r(l.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:o})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),s=this._find(r);return s?(i=s.tooltip,void(s.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),s.closing=!0,this._trigger("close",e,{tooltip:i}),s.hiding||(s.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),s=n.element;r.target=r.currentTarget=s[0],e.close(r,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}})}),(function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice,i=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;!function(t){"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(r){var s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C;return o=function(t,e,i){var n,r,s,o;for(s=(r=(t+="").split("."))[0],o=r.length>1?i+r[1]:"",n=/(\d+)(\d{3})/;n.test(s);)s=s.replace(n,"$1"+e+"$2");return s+o},x=(g=function(t){return t=r.extend({},{digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},t),function(e){var i;return isNaN(e)||!isFinite(e)?"":(i=o((t.scaler*e).toFixed(t.digitsAfterDecimal),t.thousandsSep,t.decimalSep),""+t.prefix+i+t.suffix)}})(),S=g({digitsAfterDecimal:0}),k=g({digitsAfterDecimal:1,scaler:100,suffix:"%"}),(a={count:function(t){return null==t&&(t=S),function(){return function(e,i,n){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:t}}}},uniques:function(e,i){return null==i&&(i=S),function(n){var r;return r=n[0],function(n,s,o){return{uniq:[],push:function(e){if(t.call(this.uniq,e[r])<0)return this.uniq.push(e[r])},value:function(){return e(this.uniq)},format:i,numInputs:null!=r?0:1}}}},sum:function(t){return null==t&&(t=x),function(e){var i;return i=e[0],function(e,n,r){return{sum:0,push:function(t){if(!isNaN(parseFloat(t[i])))return this.sum+=parseFloat(t[i])},value:function(){return this.sum},format:t,numInputs:null!=i?0:1}}}},extremes:function(t,e){return null==e&&(e=x),function(i){var n;return n=i[0],function(i,r,s){return{val:null,sorter:c(null!=i?i.sorters:void 0,n),push:function(e){var i,r,s,o;if(o=e[n],"min"!==t&&"max"!==t||(o=parseFloat(o),isNaN(o)||(this.val=Math[t](o,null!=(i=this.val)?i:o))),"first"===t&&this.sorter(o,null!=(r=this.val)?r:o)<=0&&(this.val=o),"last"===t&&this.sorter(o,null!=(s=this.val)?s:o)>=0)return this.val=o},value:function(){return this.val},format:function(t){return isNaN(t)?t:e(t)},numInputs:null!=n?0:1}}}},quantile:function(t,e){return null==e&&(e=x),function(i){var n;return n=i[0],function(i,r,s){return{vals:[],push:function(t){var e;if(e=parseFloat(t[n]),!isNaN(e))return this.vals.push(e)},value:function(){var e;return 0===this.vals.length?null:(this.vals.sort(function(t,e){return t-e}),e=(this.vals.length-1)*t,(this.vals[Math.floor(e)]+this.vals[Math.ceil(e)])/2)},format:e,numInputs:null!=n?0:1}}}},runningStat:function(t,e,i){return null==t&&(t="mean"),null==e&&(e=1),null==i&&(i=x),function(n){var r;return r=n[0],function(n,s,o){return{n:0,m:0,s:0,push:function(t){var e,i;if(i=parseFloat(t[r]),!isNaN(i))return this.n+=1,1===this.n?this.m=i:(this.s=this.s+(i-this.m)*(i-(e=this.m+(i-this.m)/this.n)),this.m=e)},value:function(){if("mean"===t)return 0===this.n?NaN:this.m;if(this.n<=e)return 0;switch(t){case"var":return this.s/(this.n-e);case"stdev":return Math.sqrt(this.s/(this.n-e))}},format:i,numInputs:null!=r?0:1}}}},sumOverSum:function(t){return null==t&&(t=x),function(e){var i,n;return n=e[0],i=e[1],function(e,r,s){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[n]))||(this.sumNum+=parseFloat(t[n])),!isNaN(parseFloat(t[i])))return this.sumDenom+=parseFloat(t[i])},value:function(){return this.sumNum/this.sumDenom},format:t,numInputs:null!=n&&null!=i?0:2}}}},sumOverSumBound80:function(t,e){return null==t&&(t=!0),null==e&&(e=x),function(i){var n,r;return r=i[0],n=i[1],function(i,s,o){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[r]))||(this.sumNum+=parseFloat(t[r])),!isNaN(parseFloat(t[n])))return this.sumDenom+=parseFloat(t[n])},value:function(){return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*(t?1:-1)*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:e,numInputs:null!=r&&null!=n?0:2}}}},fractionOf:function(t,i,n){return null==i&&(i="total"),null==n&&(n=k),function(){var r;return r=1<=arguments.length?e.call(arguments,0):[],function(e,s,o){return{selector:{total:[[],[]],row:[s,[]],col:[[],o]}[i],inner:t.apply(null,r)(e,s,o),push:function(t){return this.inner.push(t)},format:n,value:function(){return this.inner.value()/e.getAggregator.apply(e,this.selector).inner.value()},numInputs:t.apply(null,r)().numInputs}}}}}).countUnique=function(t){return a.uniques(function(t){return t.length},t)},a.listUnique=function(t){return a.uniques(function(e){return e.sort(p).join(t)},function(t){return t})},a.max=function(t){return a.extremes("max",t)},a.min=function(t){return a.extremes("min",t)},a.first=function(t){return a.extremes("first",t)},a.last=function(t){return a.extremes("last",t)},a.median=function(t){return a.quantile(.5,t)},a.average=function(t){return a.runningStat("mean",1,t)},a.var=function(t,e){return a.runningStat("var",t,e)},a.stdev=function(t,e){return a.runningStat("stdev",t,e)},h=function(t){return{Count:t.count(S),"Count Unique Values":t.countUnique(S),"List Unique Values":t.listUnique(", "),Sum:t.sum(x),"Integer Sum":t.sum(S),Average:t.average(x),Median:t.median(x),"Sample Variance":t.var(1,x),"Sample Standard Deviation":t.stdev(1,x),Minimum:t.min(x),Maximum:t.max(x),First:t.first(x),Last:t.last(x),"Sum over Sum":t.sumOverSum(x),"80% Upper Bound":t.sumOverSumBound80(!0,x),"80% Lower Bound":t.sumOverSumBound80(!1,x),"Sum as Fraction of Total":t.fractionOf(t.sum(),"total",k),"Sum as Fraction of Rows":t.fractionOf(t.sum(),"row",k),"Sum as Fraction of Columns":t.fractionOf(t.sum(),"col",k),"Count as Fraction of Total":t.fractionOf(t.count(),"total",k),"Count as Fraction of Rows":t.fractionOf(t.count(),"row",k),"Count as Fraction of Columns":t.fractionOf(t.count(),"col",k)}}(a),d={en:{aggregators:h,renderers:y={Table:function(t,e){return m(t,e)},"Table Barchart":function(t,e){return r(m(t,e)).barchart()},Heatmap:function(t,e){return r(m(t,e)).heatmap("heatmap",e)},"Row Heatmap":function(t,e){return r(m(t,e)).heatmap("rowheatmap",e)},"Col Heatmap":function(t,e){return r(m(t,e)).heatmap("colheatmap",e)}},localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C=function(t){return("0"+t).substr(-2,2)},u={bin:function(t,e){return function(i){return i[t]-i[t]%e}},dateFormat:function(t,e,i,n,r){var s;return null==i&&(i=!1),null==n&&(n=f),null==r&&(r=l),s=i?"UTC":"",function(i){var o;return o=new Date(Date.parse(i[t])),isNaN(o)?"":e.replace(/%(.)/g,function(t,e){switch(e){case"y":return o["get"+s+"FullYear"]();case"m":return C(o["get"+s+"Month"]()+1);case"n":return n[o["get"+s+"Month"]()];case"d":return C(o["get"+s+"Date"]());case"w":return r[o["get"+s+"Day"]()];case"x":return o["get"+s+"Day"]();case"H":return C(o["get"+s+"Hours"]());case"M":return C(o["get"+s+"Minutes"]());case"S":return C(o["get"+s+"Seconds"]());default:return"%"+e}})}}},b=/(\d+)|(\D+)/g,v=/\d/,_=/^0/,p=function(t,e){var i,n,r,s,o,a;if(null!=e&&null==t)return-1;if(null!=t&&null==e)return 1;if("number"==typeof t&&isNaN(t))return-1;if("number"==typeof e&&isNaN(e))return 1;if((o=+t)<(a=+e))return-1;if(o>a)return 1;if("number"==typeof t&&"number"!=typeof e)return-1;if("number"==typeof e&&"number"!=typeof t)return 1;if("number"==typeof t&&"number"==typeof e)return 0;if(isNaN(a)&&!isNaN(o))return-1;if(isNaN(o)&&!isNaN(a))return 1;if((i=String(t))===(r=String(e)))return 0;if(!v.test(i)||!v.test(r))return i>r?1:-1;for(i=i.match(b),r=r.match(b);i.length&&r.length;)if((n=i.shift())!==(s=r.shift()))return v.test(n)&&v.test(s)?n.replace(_,".0")-s.replace(_,".0"):n>s?1:-1;return i.length-r.length},w=function(t){var e,i,n,r;for(e in n={},i={},t)n[r=t[e]]=e,"string"==typeof r&&(i[r.toLowerCase()]=e);return function(t,e){return null!=n[t]&&null!=n[e]?n[t]-n[e]:null!=n[t]?-1:null!=n[e]?1:null!=i[t]&&null!=i[e]?i[t]-i[e]:null!=i[t]?-1:null!=i[e]?1:p(t,e)}},c=function(t,e){var i;if(null!=t)if(r.isFunction(t)){if(i=t(e),r.isFunction(i))return i}else if(null!=t[e])return t[e];return p},s=function(){function t(e,n){var r,s,o,h,l,u,c,d,f,p;null==n&&(n={}),this.getAggregator=i(this.getAggregator,this),this.getRowKeys=i(this.getRowKeys,this),this.getColKeys=i(this.getColKeys,this),this.sortKeys=i(this.sortKeys,this),this.arrSort=i(this.arrSort,this),this.input=e,this.aggregator=null!=(r=n.aggregator)?r:a.count()(),this.aggregatorName=null!=(s=n.aggregatorName)?s:"Count",this.colAttrs=null!=(o=n.cols)?o:[],this.rowAttrs=null!=(h=n.rows)?h:[],this.valAttrs=null!=(l=n.vals)?l:[],this.sorters=null!=(u=n.sorters)?u:{},this.rowOrder=null!=(c=n.rowOrder)?c:"key_a_to_z",this.colOrder=null!=(d=n.colOrder)?d:"key_a_to_z",this.derivedAttributes=null!=(f=n.derivedAttributes)?f:{},this.filter=null!=(p=n.filter)?p:function(){return!0},this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,t.forEachRecord(this.input,this.derivedAttributes,function(t){return function(e){if(t.filter(e))return t.processRecord(e)}}(this))}return t.forEachRecord=function(t,e,i){var s,o,a,h,l,u,c,d,f,p,g;if(s=r.isEmptyObject(e)?i:function(t){var n,r;for(n in e)t[n]=null!=(r=(0,e[n])(t))?r:t[n];return i(t)},r.isFunction(t))return t(s);if(r.isArray(t)){if(r.isArray(t[0])){for(a in f=[],t)if(n.call(t,a)&&(o=t[a],a>0)){for(h in c={},d=t[0])n.call(d,h)&&(c[d[h]]=o[h]);f.push(s(c))}return f}for(p=[],l=0,u=t.length;l<u;l++)p.push(s(c=t[l]));return p}if(t instanceof r)return g=[],r("thead > tr > th",t).each(function(t){return g.push(r(this).text())}),r("tbody > tr",t).each(function(t){return c={},r("td",this).each(function(t){return c[g[t]]=r(this).text()}),s(c)});throw new Error("unknown input format")},t.prototype.forEachMatchingRecord=function(e,i){return t.forEachRecord(this.input,this.derivedAttributes,function(t){return function(n){var r,s;if(t.filter(n)){for(r in e)if(e[r]!==(null!=(s=n[r])?s:"null"))return;return i(n)}}}(this))},t.prototype.arrSort=function(t){var e;return e=(function(){var e,i,n;for(n=[],e=0,i=t.length;e<i;e++)n.push(c(this.sorters,t[e]));return n}).call(this),function(t,i){var r,s;for(s in e)if(n.call(e,s)&&0!==(r=(0,e[s])(t[s],i[s])))return r;return 0}},t.prototype.sortKeys=function(){var t;if(!this.sorted){switch(this.sorted=!0,t=function(t){return function(e,i){return t.getAggregator(e,i).value()}}(this),this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(e,i){return p(t(e,[]),t(i,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(e,i){return-p(t(e,[]),t(i,[]))});break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(e,i){return p(t([],e),t([],i))});case"value_z_to_a":return this.colKeys.sort(function(e,i){return-p(t([],e),t([],i))});default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}},t.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},t.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},t.prototype.processRecord=function(t){var e,i,n,r,s,o,a,h,l,u,c,d;for(e=[],d=[],r=0,s=(h=this.colAttrs).length;r<s;r++)e.push(null!=(l=t[h[r]])?l:"null");for(a=0,o=(u=this.rowAttrs).length;a<o;a++)d.push(null!=(c=t[u[a]])?c:"null");if(n=d.join(String.fromCharCode(0)),i=e.join(String.fromCharCode(0)),this.allTotal.push(t),0!==d.length&&(this.rowTotals[n]||(this.rowKeys.push(d),this.rowTotals[n]=this.aggregator(this,d,[])),this.rowTotals[n].push(t)),0!==e.length&&(this.colTotals[i]||(this.colKeys.push(e),this.colTotals[i]=this.aggregator(this,[],e)),this.colTotals[i].push(t)),0!==e.length&&0!==d.length)return this.tree[n]||(this.tree[n]={}),this.tree[n][i]||(this.tree[n][i]=this.aggregator(this,d,e)),this.tree[n][i].push(t)},t.prototype.getAggregator=function(t,e){var i,n,r;return r=t.join(String.fromCharCode(0)),n=e.join(String.fromCharCode(0)),null!=(i=0===t.length&&0===e.length?this.allTotal:0===t.length?this.colTotals[n]:0===e.length?this.rowTotals[r]:this.tree[r][n])?i:{value:function(){return null},format:function(){return""}}},t}(),r.pivotUtilities={aggregatorTemplates:a,aggregators:h,renderers:y,derivers:u,locales:d,naturalSort:p,numberFormat:g,sortAs:w,PivotData:s},m=function(t,e){var i,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A;for(c in e=r.extend(!0,{},{table:{clickCallback:null,rowTotals:!0,colTotals:!0},localeStrings:{totals:"Totals"}},e),o=t.colAttrs,p=t.rowAttrs,m=t.getRowKeys(),h=t.getColKeys(),e.table.clickCallback&&(l=function(i,r,s){var a,h,l;for(l in h={},o)n.call(o,l)&&(a=o[l],null!=s[l]&&(h[a]=s[l]));for(l in p)n.call(p,l)&&(a=p[l],null!=r[l]&&(h[a]=r[l]));return function(n){return e.table.clickCallback(n,i,h,t)}}),(f=document.createElement("table")).className="pvtTable",v=function(t,e,i){var n,r,s,o,a,h,l,u;if(0!==e){for(o=!0,u=n=0,a=i;0<=a?n<=a:n>=a;u=0<=a?++n:--n)t[e-1][u]!==t[e][u]&&(o=!1);if(o)return-1}for(r=0;e+r<t.length;){for(l=!1,u=s=0,h=i;0<=h?s<=h:s>=h;u=0<=h?++s:--s)t[e][u]!==t[e+r][u]&&(l=!0);if(l)break;r++}return r},w=document.createElement("thead"),o)if(n.call(o,c)){for(u in s=o[c],S=document.createElement("tr"),0===parseInt(c)&&0!==p.length&&((_=document.createElement("th")).setAttribute("colspan",p.length),_.setAttribute("rowspan",o.length),S.appendChild(_)),(_=document.createElement("th")).className="pvtAxisLabel",_.textContent=s,S.appendChild(_),h)n.call(h,u)&&(a=h[u],-1!==(A=v(h,parseInt(u),parseInt(c)))&&((_=document.createElement("th")).className="pvtColLabel",_.textContent=a[c],_.setAttribute("colspan",A),parseInt(c)===o.length-1&&0!==p.length&&_.setAttribute("rowspan",2),S.appendChild(_)));0===parseInt(c)&&e.table.rowTotals&&((_=document.createElement("th")).className="pvtTotalLabel pvtRowTotalLabel",_.innerHTML=e.localeStrings.totals,_.setAttribute("rowspan",o.length+(0===p.length?0:1)),S.appendChild(_)),w.appendChild(S)}if(0!==p.length){for(u in S=document.createElement("tr"),p)n.call(p,u)&&(d=p[u],(_=document.createElement("th")).className="pvtAxisLabel",_.textContent=d,S.appendChild(_));_=document.createElement("th"),0===o.length&&(_.className="pvtTotalLabel pvtRowTotalLabel",_.innerHTML=e.localeStrings.totals),S.appendChild(_),w.appendChild(S)}for(u in f.appendChild(w),y=document.createElement("tbody"),m)if(n.call(m,u)){for(c in g=m[u],S=document.createElement("tr"),g)n.call(g,c)&&(k=g[c],-1!==(A=v(m,parseInt(u),parseInt(c)))&&((_=document.createElement("th")).className="pvtRowLabel",_.textContent=k,_.setAttribute("rowspan",A),parseInt(c)===p.length-1&&0!==o.length&&_.setAttribute("colspan",2),S.appendChild(_)));for(c in h)n.call(h,c)&&(C=(i=t.getAggregator(g,a=h[c])).value(),(b=document.createElement("td")).className="pvtVal row"+u+" col"+c,b.textContent=i.format(C),b.setAttribute("data-value",C),null!=l&&(b.onclick=l(C,g,a)),S.appendChild(b));(e.table.rowTotals||0===o.length)&&(C=(x=t.getAggregator(g,[])).value(),(b=document.createElement("td")).className="pvtTotal rowTotal",b.textContent=x.format(C),b.setAttribute("data-value",C),null!=l&&(b.onclick=l(C,g,[])),b.setAttribute("data-for","row"+u),S.appendChild(b)),y.appendChild(S)}if(e.table.colTotals||0===p.length){for(c in S=document.createElement("tr"),(e.table.colTotals||0===p.length)&&((_=document.createElement("th")).className="pvtTotalLabel pvtColTotalLabel",_.innerHTML=e.localeStrings.totals,_.setAttribute("colspan",p.length+(0===o.length?0:1)),S.appendChild(_)),h)n.call(h,c)&&(C=(x=t.getAggregator([],a=h[c])).value(),(b=document.createElement("td")).className="pvtTotal colTotal",b.textContent=x.format(C),b.setAttribute("data-value",C),null!=l&&(b.onclick=l(C,[],a)),b.setAttribute("data-for","col"+c),S.appendChild(b));(e.table.rowTotals||0===o.length)&&(C=(x=t.getAggregator([],[])).value(),(b=document.createElement("td")).className="pvtGrandTotal",b.textContent=x.format(C),b.setAttribute("data-value",C),null!=l&&(b.onclick=l(C,[],[])),S.appendChild(b)),y.appendChild(S)}return f.appendChild(y),f.setAttribute("data-numrows",m.length),f.setAttribute("data-numcols",h.length),f},r.fn.pivot=function(t,e,i){var n,o,h,l,u,c,f;null==i&&(i="en"),null==d[i]&&(i="en"),n={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:s,filter:function(){return!0},aggregator:a.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:m},h=r.extend(!0,{},d.en.localeStrings,d[i].localeStrings),l=r.extend(!0,{},{rendererOptions:{localeStrings:h},localeStrings:h},r.extend({},n,e)),c=null;try{u=new l.dataClass(t,l);try{c=l.renderer(u,l.rendererOptions)}catch(g){o=g,"undefined"!=typeof console&&null!==console&&console.error(o.stack),c=r("<span>").html(l.localeStrings.renderError)}}catch(g){o=g,"undefined"!=typeof console&&null!==console&&console.error(o.stack),c=r("<span>").html(l.localeStrings.computeError)}for(f=this[0];f.hasChildNodes();)f.removeChild(f.lastChild);return this.append(c)},r.fn.pivotUI=function(e,i,o,a){var h,l,u,f,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j,H,Y,V,q,W,U,G,X,K,Z,Q,$,J,tt;null==o&&(o=!1),null==a&&(a="en"),null==d[a]&&(a="en"),y={derivedAttributes:{},aggregators:d[a].aggregators,renderers:d[a].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:s,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,showUI:!0,filter:function(){return!0},sorters:{}},T={rendererOptions:{localeStrings:M=r.extend(!0,{},d.en.localeStrings,d[a].localeStrings)},localeStrings:M},b=this.data("pivotUIOptions"),O=null==b||o?r.extend(!0,{},T,r.extend({},y,i)):b;try{for(tt in g={},E=[],I=0,s.forEachRecord(e,O.derivedAttributes,function(t){var e,i,r,s;if(O.filter(t)){for(e in E.push(t),t)n.call(t,e)&&null==g[e]&&(g[e]={},I>0&&(g[e].null=I));for(e in g)s=null!=(r=t[e])?r:"null",null==(i=g[e])[s]&&(i[s]=0),g[e][s]++;return I++}}),Z=r("<table>",{class:"pvtUi"}).attr("cellpadding",5),V=r("<td>").addClass("pvtUiCell"),Y=r("<select>").addClass("pvtRenderer").appendTo(V).bind("change",function(){return j()}),F=O.renderers)n.call(F,tt)&&r("<option>").val(tt).html(tt).appendTo(Y);if(Q=r("<td>").addClass("pvtAxisContainer pvtUnused pvtUiCell"),W=function(){var e;for(h in e=[],g)t.call(O.hiddenAttributes,h)<0&&e.push(h);return e}(),U=function(){var e,i,n;for(n=[],e=0,i=W.length;e<i;e++)t.call(O.hiddenFromAggregators,m=W[e])<0&&n.push(m);return n}(),G=function(){var e,i,n;for(n=[],e=0,i=W.length;e<i;e++)t.call(O.hiddenFromDragDrop,m=W[e])<0&&n.push(m);return n}(),J=!1,$="auto"===O.unusedAttrsVertical?120:parseInt(O.unusedAttrsVertical),!isNaN($)){for(f=0,S=0,k=G.length;S<k;S++)f+=(h=G[S]).length;J=f>$}for(w in Q.addClass(!0===O.unusedAttrsVertical||J?"pvtVertList":"pvtHorizList"),_=function(e){var i,n,s,o,a,h,l,u,d,f,p,m,v,y,b,_,x,S,k;if(k=function(){var t;for(b in t=[],g[e])t.push(b);return t}(),u=!1,(S=r("<div>").addClass("pvtFilterBox").hide()).append(r("<h4>").append(r("<span>").text(e),r("<span>").addClass("count").text("("+k.length+")"))),k.length>O.menuLimit)S.append(r("<p>").html(O.localeStrings.tooMany));else for(k.length>5&&(o=r("<p>").appendTo(S),v=c(O.sorters,e),p=O.localeStrings.filterResults,r("<input>",{type:"text"}).appendTo(o).attr({placeholder:p,class:"pvtSearch"}).bind("keyup",function(){var e,i,n;return n=r(this).val().toLowerCase().trim(),i=function(e,i){return function(r){var s,o;return 0===(s=n.substring(e.length).trim()).length||(o=Math.sign(v(r.toLowerCase(),s)),t.call(i,o)>=0)}},e=0===n.indexOf(">=")?i(">=",[1,0]):0===n.indexOf("<=")?i("<=",[-1,0]):0===n.indexOf(">")?i(">",[1]):0===n.indexOf("<")?i("<",[-1]):0===n.indexOf("~")?function(t){return 0===n.substring(1).trim().length||t.toLowerCase().match(n.substring(1))}:function(t){return-1!==t.toLowerCase().indexOf(n)},S.find(".pvtCheckContainer p label span.value").each(function(){return e(r(this).text())?r(this).parent().parent().show():r(this).parent().parent().hide()})}),o.append(r("<br>")),r("<button>",{type:"button"}).appendTo(o).html(O.localeStrings.selectAll).bind("click",function(){return S.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed"),!1}),r("<button>",{type:"button"}).appendTo(o).html(O.localeStrings.selectNone).bind("click",function(){return S.find("input:visible:checked").prop("checked",!1).toggleClass("changed"),!1})),n=r("<div>").addClass("pvtCheckContainer").appendTo(S),f=0,d=(m=k.sort(c(O.sorters,e))).length;f<d;f++)x=g[e][_=m[f]],a=r("<label>"),h=!1,O.inclusions[e]?h=t.call(O.inclusions[e],_)<0:O.exclusions[e]&&(h=t.call(O.exclusions[e],_)>=0),u||(u=h),r("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!h).data("filter",[e,_]).appendTo(a).bind("change",function(){return r(this).toggleClass("changed")}),a.append(r("<span>").addClass("value").text(_)),a.append(r("<span>").addClass("count").text("("+x+")")),n.append(r("<p>").append(a));return s=function(){return S.find("[type='checkbox']").length>S.find("[type='checkbox']:checked").length?i.addClass("pvtFilteredAttribute"):i.removeClass("pvtFilteredAttribute"),S.find(".pvtSearch").val(""),S.find(".pvtCheckContainer p").show(),S.hide()},l=r("<p>").appendTo(S),k.length<=O.menuLimit&&r("<button>",{type:"button"}).text(O.localeStrings.apply).appendTo(l).bind("click",function(){return S.find(".changed").removeClass("changed").length&&j(),s()}),r("<button>",{type:"button"}).text(O.localeStrings.cancel).appendTo(l).bind("click",function(){return S.find(".changed:checked").removeClass("changed").prop("checked",!1),S.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0),s()}),y=r("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(t){var e;return e=r(t.currentTarget).position(),S.css({left:e.left+10,top:e.top+10}).show()}),i=r("<li>").addClass("axis_"+w).append(r("<span>").addClass("pvtAttr").text(e).data("attrName",e).append(y)),u&&i.addClass("pvtFilteredAttribute"),Q.append(i).append(S)},G)n.call(G,w)&&_(u=G[w]);for(tt in X=r("<tr>").appendTo(Z),l=r("<select>").addClass("pvtAggregator").bind("change",function(){return j()}),R=O.aggregators)n.call(R,tt)&&l.append(r("<option>").val(tt).html(tt));for(N={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}},q=r("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",O.rowOrder).html(N[O.rowOrder].rowSymbol).bind("click",function(){return r(this).data("order",N[r(this).data("order")].next),r(this).html(N[r(this).data("order")].rowSymbol),j()}),v=r("<a>",{role:"button"}).addClass("pvtColOrder").data("order",O.colOrder).html(N[O.colOrder].colSymbol).bind("click",function(){return r(this).data("order",N[r(this).data("order")].next),r(this).html(N[r(this).data("order")].colSymbol),j()}),r("<td>").addClass("pvtVals pvtUiCell").appendTo(X).append(l).append(q).append(v).append(r("<br>")),r("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols pvtUiCell").appendTo(X),(K=r("<tr>").appendTo(Z)).append(r("<td>").addClass("pvtAxisContainer pvtRows pvtUiCell").attr("valign","top")),L=r("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(K),!0===O.unusedAttrsVertical||J?(Z.find("tr:nth-child(1)").prepend(V),Z.find("tr:nth-child(2)").prepend(Q)):Z.prepend(r("<tr>").append(V).append(Q)),this.html(Z),D=0,C=(z=O.cols).length;D<C;D++)tt=z[D],this.find(".pvtCols").append(this.find(".axis_"+r.inArray(tt,G)));for(P=0,A=(B=O.rows).length;P<A;P++)tt=B[P],this.find(".pvtRows").append(this.find(".axis_"+r.inArray(tt,G)));null!=O.aggregatorName&&this.find(".pvtAggregator").val(O.aggregatorName),null!=O.rendererName&&this.find(".pvtRenderer").val(O.rendererName),O.showUI||this.find(".pvtUiCell").hide(),x=!0,H=function(e){return function(){var i,n,s,o,a,h,c,d,f,g,m,y,b,_;if(g={derivedAttributes:O.derivedAttributes,localeStrings:O.localeStrings,rendererOptions:O.rendererOptions,sorters:O.sorters,cols:[],rows:[],dataClass:O.dataClass},a=null!=(d=O.aggregators[l.val()]([])().numInputs)?d:0,_=[],e.find(".pvtRows li span.pvtAttr").each(function(){return g.rows.push(r(this).data("attrName"))}),e.find(".pvtCols li span.pvtAttr").each(function(){return g.cols.push(r(this).data("attrName"))}),e.find(".pvtVals select.pvtAttrDropdown").each(function(){return 0===a?r(this).remove():(a--,""!==r(this).val()?_.push(r(this).val()):void 0)}),0!==a)for(c=e.find(".pvtVals"),tt=m=0,f=a;0<=f?m<f:m>f;tt=0<=f?++m:--m){for(o=r("<select>").addClass("pvtAttrDropdown").append(r("<option>")).bind("change",function(){return j()}),y=0,s=U.length;y<s;y++)u=U[y],o.append(r("<option>").val(u).text(u));c.append(o)}if(x&&(_=O.vals,w=0,e.find(".pvtVals select.pvtAttrDropdown").each(function(){return r(this).val(_[w]),w++}),x=!1),g.aggregatorName=l.val(),g.vals=_,g.aggregator=O.aggregators[l.val()](_),g.renderer=O.renderers[Y.val()],g.rowOrder=q.data("order"),g.colOrder=v.data("order"),i={},e.find("input.pvtFilter").not(":checked").each(function(){var t;return t=r(this).data("filter"),null!=i[t[0]]?i[t[0]].push(t[1]):i[t[0]]=[t[1]]}),n={},e.find("input.pvtFilter:checked").each(function(){var t;if(t=r(this).data("filter"),null!=i[t[0]])return null!=n[t[0]]?n[t[0]].push(t[1]):n[t[0]]=[t[1]]}),g.filter=function(e){var n,r,s;if(!O.filter(e))return!1;for(n in i)if(r=""+(null!=(s=e[n])?s:"null"),t.call(i[n],r)>=0)return!1;return!0},L.pivot(E,g),h=r.extend({},O,{cols:g.cols,rows:g.rows,colOrder:g.colOrder,rowOrder:g.rowOrder,vals:_,exclusions:i,inclusions:n,inclusionsInfo:n,aggregatorName:l.val(),rendererName:Y.val()}),e.data("pivotUIOptions",h),O.autoSortUnusedAttrs&&(b=e.find("td.pvtUnused.pvtAxisContainer"),r(b).children("li").sort(function(t,e){return p(r(t).text(),r(e).text())}).appendTo(b)),L.css("opacity",1),null!=O.onRefresh)return O.onRefresh(h)}}(this),(j=function(){return L.css("opacity",.5),setTimeout(H,10)})(),this.find(".pvtAxisContainer").sortable({update:function(t,e){if(null==e.sender)return j()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(et){"undefined"!=typeof console&&null!==console&&console.error(et.stack),this.html(O.localeStrings.uiRenderError)}return this},r.fn.heatmap=function(t,e){var i,n,s,o,a,h,l,u,c,d,f;switch(null==t&&(t="heatmap"),u=this.data("numrows"),l=this.data("numcols"),null==(i=null!=e&&null!=(c=e.heatmap)?c.colorScaleGenerator:void 0)&&(i=function(t){var e,i;return i=Math.min.apply(Math,t),e=Math.max.apply(Math,t),function(t){var n;return"rgb(255,"+(n=255-Math.round(255*(t-i)/(e-i)))+","+n+")"}}),n=function(t){return function(e){var n,s,o;return o=[],(s=function(i){return t.find(e).each(function(){var t;if(null!=(t=r(this).data("value"))&&isFinite(t))return i(t,r(this))})})(function(t){return o.push(t)}),n=i(o),s(function(t,e){return e.css("background-color",n(t))})}}(this),t){case"heatmap":n(".pvtVal");break;case"rowheatmap":for(s=a=0,d=u;0<=d?a<d:a>d;s=0<=d?++a:--a)n(".pvtVal.row"+s);break;case"colheatmap":for(o=h=0,f=l;0<=f?h<f:h>f;o=0<=f?++h:--h)n(".pvtVal.col"+o)}return n(".pvtTotal.rowTotal"),n(".pvtTotal.colTotal"),this},r.fn.barchart=function(t){var e,i,n,s,o;for(s=this.data("numrows"),this.data("numcols"),e=function(t){return function(e){var i,n,s,o,a,h;return h=[],(i=function(i){return t.find(e).each(function(){var t;if(null!=(t=r(this).data("value"))&&isFinite(t))return i(t,r(this))})})(function(t){return h.push(t)}),(n=Math.max.apply(Math,h))<0&&(n=0),o=n,(s=Math.min.apply(Math,h))<0&&(o=n-s),a=function(t){return 100*t/(1.4*o)},i(function(t,e){var i,n,o,h;return o=e.text(),h=r("<div>").css({position:"relative",height:"55px"}),n="gray",i=0,s<0&&(i=a(-s)),t<0&&(i+=a(t),n="darkred",t=-t),h.append(r("<div>").css({position:"absolute",bottom:i+"%",left:0,right:0,height:a(t)+"%","background-color":n})),h.append(r("<div>").text(o).css({position:"relative","padding-left":"5px","padding-right":"5px"})),e.css({padding:0,"padding-top":"5px","text-align":"center"}).html(h)})}}(this),i=n=0,o=s;0<=o?n<o:n>o;i=0<=o?++n:--n)e(".pvtVal.row"+i);return e(".pvtTotal.colTotal"),this}})}).call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){var i;return 1===t.length&&(i=t,t=function(t,n){return e(i(t),n)}),{left:function(e,i,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var s=n+r>>>1;t(e[s],i)<0?n=s+1:r=s}return n},right:function(e,i,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var s=n+r>>>1;t(e[s],i)>0?r=s:n=s+1}return n}}}var n=i(e),r=n.right,s=n.left;function o(t,e){return[t,e]}function a(t){return null===t?NaN:+t}function h(t,e){var i,n,r=t.length,s=0,o=-1,h=0,l=0;if(null==e)for(;++o<r;)isNaN(i=a(t[o]))||(l+=(n=i-h)*(i-(h+=n/++s)));else for(;++o<r;)isNaN(i=a(e(t[o],o,t)))||(l+=(n=i-h)*(i-(h+=n/++s)));if(s>1)return l/(s-1)}function l(t,e){var i=h(t,e);return i?Math.sqrt(i):i}function u(t,e){var i,n,r,s=t.length,o=-1;if(null==e){for(;++o<s;)if(null!=(i=t[o])&&i>=i)for(n=r=i;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else for(;++o<s;)if(null!=(i=e(t[o],o,t))&&i>=i)for(n=r=i;++o<s;)null!=(i=e(t[o],o,t))&&(n>i&&(n=i),r<i&&(r=i));return[n,r]}var c=Array.prototype,d=c.slice,f=c.map;function p(t){return function(){return t}}function g(t){return t}function m(t,e,i){t=+t,e=+e,i=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+i;for(var n=-1,r=0|Math.max(0,Math.ceil((e-t)/i)),s=new Array(r);++n<r;)s[n]=t+n*i;return s}var v=Math.sqrt(50),y=Math.sqrt(10),b=Math.sqrt(2);function _(t,e,i){var n,r,s,o,a=-1;if(i=+i,(t=+t)==(e=+e)&&i>0)return[t];if((n=e<t)&&(r=t,t=e,e=r),0===(o=w(t,e,i))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(r=Math.ceil(e-t+1));++a<r;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(r=Math.ceil(t-e+1));++a<r;)s[a]=(t-a)/o;return n&&s.reverse(),s}function w(t,e,i){var n=(e-t)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,r);return r>=0?(s>=v?10:s>=y?5:s>=b?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=v?10:s>=y?5:s>=b?2:1)}function x(t,e,i){var n=Math.abs(e-t)/Math.max(0,i),r=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/r;return s>=v?r*=10:s>=y?r*=5:s>=b&&(r*=2),e<t?-r:r}function S(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function k(t,e,i){if(null==i&&(i=a),n=t.length){if((e=+e)<=0||n<2)return+i(t[0],0,t);if(e>=1)return+i(t[n-1],n-1,t);var n,r=(n-1)*e,s=Math.floor(r),o=+i(t[s],s,t);return o+(+i(t[s+1],s+1,t)-o)*(r-s)}}function C(t,e){var i,n,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(i=t[s])&&i>=i)for(n=i;++s<r;)null!=(i=t[s])&&i>n&&(n=i)}else for(;++s<r;)if(null!=(i=e(t[s],s,t))&&i>=i)for(n=i;++s<r;)null!=(i=e(t[s],s,t))&&i>n&&(n=i);return n}function A(t){for(var e,i,n,r=t.length,s=-1,o=0;++s<r;)o+=t[s].length;for(i=new Array(o);--r>=0;)for(e=(n=t[r]).length;--e>=0;)i[--o]=n[e];return i}function T(t,e){var i,n,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(i=t[s])&&i>=i)for(n=i;++s<r;)null!=(i=t[s])&&n>i&&(n=i)}else for(;++s<r;)if(null!=(i=e(t[s],s,t))&&i>=i)for(n=i;++s<r;)null!=(i=e(t[s],s,t))&&n>i&&(n=i);return n}function M(t){if(!(r=t.length))return[];for(var e=-1,i=T(t,E),n=new Array(i);++e<i;)for(var r,s=-1,o=n[e]=new Array(r);++s<r;)o[s]=t[s][e];return n}function E(t){return t.length}var D=Array.prototype.slice;function P(t){return t}var O=1,N=2,L=3,I=4,F=1e-6;function R(t){return"translate("+(t+.5)+",0)"}function z(t){return"translate(0,"+(t+.5)+")"}function B(){return!this.__axis}function j(t,e){var i=[],n=null,r=null,s=6,o=6,a=3,h=t===O||t===I?-1:1,l=t===I||t===N?"x":"y",u=t===O||t===L?R:z;function c(c){var d=null==n?e.ticks?e.ticks.apply(e,i):e.domain():n,f=null==r?e.tickFormat?e.tickFormat.apply(e,i):P:r,p=Math.max(s,0)+a,g=e.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(i){return+t(i)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),b=c.selection?c.selection():c,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(d,e).order(),x=w.exit(),S=w.enter().append("g").attr("class","tick"),k=w.select("line"),C=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(S),k=k.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",h*s)),C=C.merge(S.append("text").attr("fill","currentColor").attr(l,h*p).attr("dy",t===O?"0em":t===L?"0.71em":"0.32em")),c!==b&&(_=_.transition(c),w=w.transition(c),k=k.transition(c),C=C.transition(c),x=x.transition(c).attr("opacity",F).attr("transform",function(t){return isFinite(t=y(t))?u(t):this.getAttribute("transform")}),S.attr("opacity",F).attr("transform",function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:y(t))})),x.remove(),_.attr("d",t===I||t==N?o?"M"+h*o+","+m+"H0.5V"+v+"H"+h*o:"M0.5,"+m+"V"+v:o?"M"+m+","+h*o+"V0.5H"+v+"V"+h*o:"M"+m+",0.5H"+v),w.attr("opacity",1).attr("transform",function(t){return u(y(t))}),k.attr(l+"2",h*s),C.attr(l,h*p).text(f),b.filter(B).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===N?"start":t===I?"end":"middle"),b.each(function(){this.__axis=y})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.ticks=function(){return i=D.call(arguments),c},c.tickArguments=function(t){return arguments.length?(i=null==t?[]:D.call(t),c):i.slice()},c.tickValues=function(t){return arguments.length?(n=null==t?null:D.call(t),c):n&&n.slice()},c.tickFormat=function(t){return arguments.length?(r=t,c):r},c.tickSize=function(t){return arguments.length?(s=o=+t,c):s},c.tickSizeInner=function(t){return arguments.length?(s=+t,c):s},c.tickSizeOuter=function(t){return arguments.length?(o=+t,c):o},c.tickPadding=function(t){return arguments.length?(a=+t,c):a},c}var H={value:function(){}};function Y(){for(var t,e=0,i=arguments.length,n={};e<i;++e){if(!(t=arguments[e]+"")||t in n)throw new Error("illegal type: "+t);n[t]=[]}return new V(n)}function V(t){this._=t}function q(t,e){return t.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function W(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function U(t,e,i){for(var n=0,r=t.length;n<r;++n)if(t[n].name===e){t[n]=H,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=i&&t.push({name:e,value:i}),t}V.prototype=Y.prototype={constructor:V,on:function(t,e){var i,n=this._,r=q(t+"",n),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=U(n[i],t.name,e);else if(null==e)for(i in n)n[i]=U(n[i],t.name,null);return this}for(;++s<o;)if((i=(t=r[s]).type)&&(i=W(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new V(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,n,r=new Array(i),s=0;s<i;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,i=(n=this._[t]).length;s<i;++s)n[s].value.apply(e,r)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],r=0,s=n.length;r<s;++r)n[r].value.apply(e,i)}};var G="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),X.hasOwnProperty(e)?{space:X[e],local:t}:t}function Z(t){var e=K(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===G&&e.documentElement.namespaceURI===G?e.createElement(t):e.createElementNS(i,t)}})(e)}function Q(){}function $(t){return null==t?Q:function(){return this.querySelector(t)}}function J(){return[]}function tt(t){return null==t?J:function(){return this.querySelectorAll(t)}}function et(t){return function(){return this.matches(t)}}function it(t){return new Array(t.length)}function nt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}nt.prototype={constructor:nt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var rt="$";function st(t,e,i,n,r,s){for(var o,a=0,h=e.length,l=s.length;a<l;++a)(o=e[a])?(o.__data__=s[a],n[a]=o):i[a]=new nt(t,s[a]);for(;a<h;++a)(o=e[a])&&(r[a]=o)}function ot(t,e,i,n,r,s,o){var a,h,l,u={},c=e.length,d=s.length,f=new Array(c);for(a=0;a<c;++a)(h=e[a])&&(f[a]=l=rt+o.call(h,h.__data__,a,e),l in u?r[a]=h:u[l]=h);for(a=0;a<d;++a)(h=u[l=rt+o.call(t,s[a],a,s)])?(n[a]=h,h.__data__=s[a],u[l]=null):i[a]=new nt(t,s[a]);for(a=0;a<c;++a)(h=e[a])&&u[f[a]]===h&&(r[a]=h)}function at(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ht(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function lt(t,e){return t.style.getPropertyValue(e)||ht(t).getComputedStyle(t,null).getPropertyValue(e)}function ut(t){return t.trim().split(/^|\s+/)}function ct(t){return t.classList||new dt(t)}function dt(t){this._node=t,this._names=ut(t.getAttribute("class")||"")}function ft(t,e){for(var i=ct(t),n=-1,r=e.length;++n<r;)i.add(e[n])}function pt(t,e){for(var i=ct(t),n=-1,r=e.length;++n<r;)i.remove(e[n])}function gt(){this.textContent=""}function mt(){this.innerHTML=""}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function yt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bt(){return null}function _t(){var t=this.parentNode;t&&t.removeChild(this)}function wt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function xt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}dt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var St={};function kt(t,e,i){return t=Ct(t,e,i),function(e){var i=e.relatedTarget;i&&(i===this||8&i.compareDocumentPosition(this))||t.call(this,e)}}function Ct(e,i,n){return function(r){var s=t.event;t.event=r;try{e.call(this,this.__data__,i,n)}finally{t.event=s}}}function At(t){return function(){var e=this.__on;if(e){for(var i,n=0,r=-1,s=e.length;n<s;++n)i=e[n],t.type&&i.type!==t.type||i.name!==t.name?e[++r]=i:this.removeEventListener(i.type,i.listener,i.capture);++r?e.length=r:delete this.__on}}}function Tt(t,e,i){var n=St.hasOwnProperty(t.type)?kt:Ct;return function(r,s,o){var a,h=this.__on,l=n(e,s,o);if(h)for(var u=0,c=h.length;u<c;++u)if((a=h[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=i),void(a.value=e);this.addEventListener(t.type,l,i),a={type:t.type,name:t.name,value:e,listener:l,capture:i},h?h.push(a):this.__on=[a]}}function Mt(e,i,n,r){var s=t.event;e.sourceEvent=t.event,t.event=e;try{return i.apply(n,r)}finally{t.event=s}}function Et(t,e,i){var n=ht(t),r=n.CustomEvent;"function"==typeof r?r=new r(e,i):(r=n.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(St={mouseenter:"mouseover",mouseleave:"mouseout"}));var Dt=[null];function Pt(t,e){this._groups=t,this._parents=e}function Ot(){return new Pt([[document.documentElement]],Dt)}function Nt(t){return"string"==typeof t?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],Dt)}Pt.prototype=Ot.prototype={constructor:Pt,select:function(t){"function"!=typeof t&&(t=$(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o,a=e[r],h=a.length,l=n[r]=new Array(h),u=0;u<h;++u)(s=a[u])&&(o=t.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),l[u]=o);return new Pt(n,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=tt(t));for(var e=this._groups,i=e.length,n=[],r=[],s=0;s<i;++s)for(var o,a=e[s],h=a.length,l=0;l<h;++l)(o=a[l])&&(n.push(t.call(o,o.__data__,l,a)),r.push(o));return new Pt(n,r)},filter:function(t){"function"!=typeof t&&(t=et(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o=e[r],a=o.length,h=n[r]=[],l=0;l<a;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&h.push(s);return new Pt(n,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),l=-1,this.each(function(t){f[++l]=t}),f;var i=e?ot:st,n=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var s=r.length,o=new Array(s),a=new Array(s),h=new Array(s),l=0;l<s;++l){var u=n[l],c=r[l],d=c.length,f=t.call(u,u&&u.__data__,l,n),p=f.length,g=a[l]=new Array(p),m=o[l]=new Array(p);i(u,c,g,m,h[l]=new Array(d),f,e);for(var v,y,b=0,_=0;b<p;++b)if(v=g[b]){for(b>=_&&(_=b+1);!(y=m[_])&&++_<p;);v._next=y||null}}return(o=new Pt(o,n))._enter=a,o._exit=h,o},enter:function(){return new Pt(this._enter||this._groups.map(it),this._parents)},exit:function(){return new Pt(this._exit||this._groups.map(it),this._parents)},join:function(t,e,i){var n=this.enter(),r=this,s=this.exit();return n="function"==typeof t?t(n):n.append(t+""),null!=e&&(r=e(r)),null==i?s.remove():i(s),n&&r?n.merge(r).order():r},merge:function(t){for(var e=this._groups,i=t._groups,n=e.length,r=Math.min(n,i.length),s=new Array(n),o=0;o<r;++o)for(var a,h=e[o],l=i[o],u=h.length,c=s[o]=new Array(u),d=0;d<u;++d)(a=h[d]||l[d])&&(c[d]=a);for(;o<n;++o)s[o]=e[o];return new Pt(s,this._parents)},order:function(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n,r=t[e],s=r.length-1,o=r[s];--s>=0;)(n=r[s])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=at);for(var i=this._groups,n=i.length,r=new Array(n),s=0;s<n;++s){for(var o,a=i[s],h=a.length,l=r[s]=new Array(h),u=0;u<h;++u)(o=a[u])&&(l[u]=o);l.sort(e)}return new Pt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],r=0,s=n.length;r<s;++r){var o=n[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var r,s=e[i],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var i=K(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((null==e?i.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?i.local?function(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}:function(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}:i.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(i,e))},style:function(t,e,i){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,i){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}:function(t,e,i){return function(){this.style.setProperty(t,e,i)}})(t,e,null==i?"":i)):lt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var i=ut(t+"");if(arguments.length<2){for(var n=ct(this.node()),r=-1,s=i.length;++r<s;)if(!n.contains(i[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ft:pt)(this,t)}}:e?function(t){return function(){ft(this,t)}}:function(t){return function(){pt(this,t)}})(i,e))},text:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(vt)},lower:function(){return this.each(yt)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var i="function"==typeof t?t:Z(t),n=null==e?bt:"function"==typeof e?e:$(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(_t)},clone:function(t){return this.select(t?xt:wt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,i){var n,r,s=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Tt:At,null==i&&(i=!1),n=0;n<o;++n)this.each(a(s[n],e,i));return this}var a=this.node().__on;if(a)for(var h,l=0,u=a.length;l<u;++l)for(n=0,h=a[l];n<o;++n)if((r=s[n]).type===h.type&&r.name===h.name)return h.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Et(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Et(this,t,e)}})(t,e))}};var Lt=0;function It(){return new Ft}function Ft(){this._="@"+(++Lt).toString(36)}function Rt(){for(var e,i=t.event;e=i.sourceEvent;)i=e;return i}function zt(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Bt(t){var e=Rt();return e.changedTouches&&(e=e.changedTouches[0]),zt(t,e)}function jt(t,e,i){arguments.length<3&&(i=e,e=Rt().changedTouches);for(var n,r=0,s=e?e.length:0;r<s;++r)if((n=e[r]).identifier===i)return zt(t,n);return null}function Ht(){t.event.stopImmediatePropagation()}function Yt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Vt(t){var e=t.document.documentElement,i=Nt(t).on("dragstart.drag",Yt,!0);"onselectstart"in e?i.on("selectstart.drag",Yt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qt(t,e){var i=t.document.documentElement,n=Nt(t).on("dragstart.drag",null);e&&(n.on("click.drag",Yt,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in i?n.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function Wt(t){return function(){return t}}function Ut(t,e,i,n,r,s,o,a,h,l){this.target=t,this.type=e,this.subject=i,this.identifier=n,this.active=r,this.x=s,this.y=o,this.dx=a,this.dy=h,this._=l}function Gt(){return!t.event.ctrlKey&&!t.event.button}function Xt(){return this.parentNode}function Kt(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Zt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qt(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function $t(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function Jt(){}Ft.prototype=It.prototype={constructor:Ft,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Ut.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var te="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ne=/^#([0-9a-f]{3})$/,re=/^#([0-9a-f]{6})$/,se=new RegExp("^rgb\\("+[te,te,te]+"\\)$"),oe=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),ae=new RegExp("^rgba\\("+[te,te,te,ee]+"\\)$"),he=new RegExp("^rgba\\("+[ie,ie,ie,ee]+"\\)$"),le=new RegExp("^hsl\\("+[ee,ie,ie]+"\\)$"),ue=new RegExp("^hsla\\("+[ee,ie,ie,ee]+"\\)$"),ce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function de(){return this.rgb().formatHex()}function fe(){return this.rgb().formatRgb()}function pe(t){var e;return t=(t+"").trim().toLowerCase(),(e=ne.exec(t))?new be((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=re.exec(t))?ge(parseInt(e[1],16)):(e=se.exec(t))?new be(e[1],e[2],e[3],1):(e=oe.exec(t))?new be(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ae.exec(t))?me(e[1],e[2],e[3],e[4]):(e=he.exec(t))?me(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=le.exec(t))?Se(e[1],e[2]/100,e[3]/100,1):(e=ue.exec(t))?Se(e[1],e[2]/100,e[3]/100,e[4]):ce.hasOwnProperty(t)?ge(ce[t]):"transparent"===t?new be(NaN,NaN,NaN,0):null}function ge(t){return new be(t>>16&255,t>>8&255,255&t,1)}function me(t,e,i,n){return n<=0&&(t=e=i=NaN),new be(t,e,i,n)}function ve(t){return t instanceof Jt||(t=pe(t)),t?new be((t=t.rgb()).r,t.g,t.b,t.opacity):new be}function ye(t,e,i,n){return 1===arguments.length?ve(t):new be(t,e,i,null==n?1:n)}function be(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function _e(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)}function we(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function xe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Se(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Ae(t,e,i,n)}function ke(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);if(t instanceof Jt||(t=pe(t)),!t)return new Ae;if(t instanceof Ae)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),s=Math.max(e,i,n),o=NaN,a=s-r,h=(s+r)/2;return a?(o=e===s?(i-n)/a+6*(i<n):i===s?(n-e)/a+2:(e-i)/a+4,a/=h<.5?s+r:2-s-r,o*=60):a=h>0&&h<1?0:o,new Ae(o,a,h,t.opacity)}function Ce(t,e,i,n){return 1===arguments.length?ke(t):new Ae(t,e,i,null==n?1:n)}function Ae(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function Te(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}Qt(Jt,pe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:de,formatHex:de,formatHsl:function(){return ke(this).formatHsl()},formatRgb:fe,toString:fe}),Qt(be,ye,$t(Jt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new be(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new be(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_e,formatHex:_e,formatRgb:we,toString:we})),Qt(Ae,Ce,$t(Jt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new be(Te(t>=240?t-240:t+120,r,n),Te(t,r,n),Te(t<120?t+240:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Me=Math.PI/180,Ee=180/Math.PI,De=.96422,Pe=1,Oe=.82521,Ne=4/29,Le=6/29,Ie=3*Le*Le,Fe=Le*Le*Le;function Re(t){if(t instanceof Be)return new Be(t.l,t.a,t.b,t.opacity);if(t instanceof Ue)return Ge(t);t instanceof be||(t=ve(t));var e,i,n=Ve(t.r),r=Ve(t.g),s=Ve(t.b),o=je((.2225045*n+.7168786*r+.0606169*s)/Pe);return n===r&&r===s?e=i=o:(e=je((.4360747*n+.3850649*r+.1430804*s)/De),i=je((.0139322*n+.0971045*r+.7141733*s)/Oe)),new Be(116*o-16,500*(e-o),200*(o-i),t.opacity)}function ze(t,e,i,n){return 1===arguments.length?Re(t):new Be(t,e,i,null==n?1:n)}function Be(t,e,i,n){this.l=+t,this.a=+e,this.b=+i,this.opacity=+n}function je(t){return t>Fe?Math.pow(t,1/3):t/Ie+Ne}function He(t){return t>Le?t*t*t:Ie*(t-Ne)}function Ye(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qe(t){if(t instanceof Ue)return new Ue(t.h,t.c,t.l,t.opacity);if(t instanceof Be||(t=Re(t)),0===t.a&&0===t.b)return new Ue(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ee;return new Ue(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function We(t,e,i,n){return 1===arguments.length?qe(t):new Ue(t,e,i,null==n?1:n)}function Ue(t,e,i,n){this.h=+t,this.c=+e,this.l=+i,this.opacity=+n}function Ge(t){if(isNaN(t.h))return new Be(t.l,0,0,t.opacity);var e=t.h*Me;return new Be(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Qt(Be,ze,$t(Jt,{brighter:function(t){return new Be(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Be(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new be(Ye(3.1338561*(e=De*He(e))-1.6168667*(t=Pe*He(t))-.4906146*(i=Oe*He(i))),Ye(-.9787684*e+1.9161415*t+.033454*i),Ye(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),Qt(Ue,We,$t(Jt,{brighter:function(t){return new Ue(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ue(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ge(this).rgb()}}));var Xe=1.78277,Ke=-.29227,Ze=-.90649,Qe=1.97294,$e=Qe*Ze,Je=Qe*Xe,ti=Xe*Ke- -.14861*Ze;function ei(t,e,i,n){return 1===arguments.length?function(t){if(t instanceof ii)return new ii(t.h,t.s,t.l,t.opacity);t instanceof be||(t=ve(t));var e=t.g/255,i=t.b/255,n=(ti*i+$e*(t.r/255)-Je*e)/(ti+$e-Je),r=i-n,s=(Qe*(e-n)-Ke*r)/Ze,o=Math.sqrt(s*s+r*r)/(Qe*n*(1-n)),a=o?Math.atan2(s,r)*Ee-120:NaN;return new ii(a<0?a+360:a,o,n,t.opacity)}(t):new ii(t,e,i,null==n?1:n)}function ii(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function ni(t,e,i,n,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*i+(1+3*t+3*s-3*o)*n+o*r)/6}function ri(t){var e=t.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),r=t[n],s=t[n+1];return ni((i-n/e)*e,n>0?t[n-1]:2*r-s,r,s,n<e-1?t[n+2]:2*s-r)}}function si(t){var e=t.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e);return ni((i-n/e)*e,t[(n+e-1)%e],t[n%e],t[(n+1)%e],t[(n+2)%e])}}function oi(t){return function(){return t}}function ai(t,e){return function(i){return t+i*e}}function hi(t,e){var i=e-t;return i?ai(t,i>180||i<-180?i-360*Math.round(i/360):i):oi(isNaN(t)?e:t)}function li(t,e){var i=e-t;return i?ai(t,i):oi(isNaN(t)?e:t)}Qt(ii,ei,$t(Jt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ii(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ii(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Me,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new be(255*(e+i*(-.14861*n+Xe*r)),255*(e+i*(Ke*n+Ze*r)),255*(e+i*(Qe*n)),this.opacity)}}));var ui=function t(e){var i=function(t){return 1==(t=+t)?li:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):oi(isNaN(e)?i:e)}}(e);function n(t,e){var n=i((t=ye(t)).r,(e=ye(e)).r),r=i(t.g,e.g),s=i(t.b,e.b),o=li(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=s(e),t.opacity=o(e),t+""}}return n.gamma=t,n}(1);function ci(t){return function(e){var i,n,r=e.length,s=new Array(r),o=new Array(r),a=new Array(r);for(i=0;i<r;++i)n=ye(e[i]),s[i]=n.r||0,o[i]=n.g||0,a[i]=n.b||0;return s=t(s),o=t(o),a=t(a),n.opacity=1,function(t){return n.r=s(t),n.g=o(t),n.b=a(t),n+""}}}var di=ci(ri),fi=ci(si);function pi(t,e){var i,n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),o=new Array(n);for(i=0;i<r;++i)s[i]=wi(t[i],e[i]);for(;i<n;++i)o[i]=e[i];return function(t){for(i=0;i<r;++i)o[i]=s[i](t);return o}}function gi(t,e){var i=new Date;return e-=t=+t,function(n){return i.setTime(t+e*n),i}}function mi(t,e){return e-=t=+t,function(i){return t+e*i}}function vi(t,e){var i,n={},r={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?n[i]=wi(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}var yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bi=new RegExp(yi.source,"g");function _i(t,e){var i,n,r,s=yi.lastIndex=bi.lastIndex=0,o=-1,a=[],h=[];for(t+="",e+="";(i=yi.exec(t))&&(n=bi.exec(e));)(r=n.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,h.push({i:o,x:mi(i,n)})),s=bi.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var i,n=0;n<e;++n)a[(i=h[n]).i]=i.x(t);return a.join("")})}function wi(t,e){var i,n=typeof e;return null==e||"boolean"===n?oi(e):("number"===n?mi:"string"===n?(i=pe(e))?(e=i,ui):_i:e instanceof pe?ui:e instanceof Date?gi:Array.isArray(e)?pi:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?vi:mi)(t,e)}function xi(t,e){return e-=t=+t,function(i){return Math.round(t+e*i)}}var Si,ki,Ci,Ai,Ti=180/Math.PI,Mi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ei(t,e,i,n,r,s){var o,a,h;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(h=t*i+e*n)&&(i-=t*h,n-=e*h),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,h/=a),t*n<e*i&&(t=-t,e=-e,h=-h,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Ti,skewX:Math.atan(h)*Ti,scaleX:o,scaleY:a}}function Di(t,e,i,n){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],h=[];return s=t(s),o=t(o),function(t,n,r,s,o,a){if(t!==r||n!==s){var h=o.push("translate(",null,e,null,i);a.push({i:h-4,x:mi(t,r)},{i:h-2,x:mi(n,s)})}else(r||s)&&o.push("translate("+r+e+s+i)}(s.translateX,s.translateY,o.translateX,o.translateY,a,h),function(t,e,i,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),h.push({i:i.push(r(i)+"rotate(",null,n)-2,x:mi(t,e)})):e&&i.push(r(i)+"rotate("+e+n)}(s.rotate,o.rotate,a),function(t,e,i,s){t!==e?h.push({i:i.push(r(i)+"skewX(",null,n)-2,x:mi(t,e)}):e&&i.push(r(i)+"skewX("+e+n)}(s.skewX,o.skewX,a),function(t,e,i,n,s,o){if(t!==i||e!==n){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:mi(t,i)},{i:a-2,x:mi(e,n)})}else 1===i&&1===n||s.push(r(s)+"scale("+i+","+n+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,h),s=o=null,function(t){for(var e,i=-1,n=h.length;++i<n;)a[(e=h[i]).i]=e.x(t);return a.join("")}}}var Pi=Di(function(t){return"none"===t?Mi:(Si||(Si=document.createElement("DIV"),ki=document.documentElement,Ci=document.defaultView),Si.style.transform=t,t=Ci.getComputedStyle(ki.appendChild(Si),null).getPropertyValue("transform"),ki.removeChild(Si),Ei(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Oi=Di(function(t){return null==t?Mi:(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",t),(t=Ai.transform.baseVal.consolidate())?Ei((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Mi)},", ",")",")"),Ni=Math.SQRT2,Li=2,Ii=4,Fi=1e-12;function Ri(t){return((t=Math.exp(t))+1/t)/2}function zi(t,e){var i,n,r=t[0],s=t[1],o=t[2],a=e[2],h=e[0]-r,l=e[1]-s,u=h*h+l*l;if(u<Fi)n=Math.log(a/o)/Ni,i=function(t){return[r+t*h,s+t*l,o*Math.exp(Ni*t*n)]};else{var c=Math.sqrt(u),d=(a*a-o*o+Ii*u)/(2*o*Li*c),f=(a*a-o*o-Ii*u)/(2*a*Li*c),p=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(f*f+1)-f);n=(g-p)/Ni,i=function(t){var e=t*n,i=Ri(p),a=o/(Li*c)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ni*e+p)-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+a*h,s+a*l,o*i/Ri(Ni*e+p)]}}return i.duration=1e3*n,i}function Bi(t){return function(e,i){var n=t((e=Ce(e)).h,(i=Ce(i)).h),r=li(e.s,i.s),s=li(e.l,i.l),o=li(e.opacity,i.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=s(t),e.opacity=o(t),e+""}}}var ji=Bi(hi),Hi=Bi(li);function Yi(t){return function(e,i){var n=t((e=We(e)).h,(i=We(i)).h),r=li(e.c,i.c),s=li(e.l,i.l),o=li(e.opacity,i.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=s(t),e.opacity=o(t),e+""}}}var Vi=Yi(hi),qi=Yi(li);function Wi(t){return function e(i){function n(e,n){var r=t((e=ei(e)).h,(n=ei(n)).h),s=li(e.s,n.s),o=li(e.l,n.l),a=li(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=s(t),e.l=o(Math.pow(t,i)),e.opacity=a(t),e+""}}return i=+i,n.gamma=e,n}(1)}var Ui,Gi,Xi=Wi(hi),Ki=Wi(li),Zi=0,Qi=0,$i=0,Ji=1e3,tn=0,en=0,nn=0,rn="object"==typeof performance&&performance.now?performance:Date,sn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function on(){return en||(sn(an),en=rn.now()+nn)}function an(){en=0}function hn(){this._call=this._time=this._next=null}function ln(t,e,i){var n=new hn;return n.restart(t,e,i),n}function un(){on(),++Zi;for(var t,e=Ui;e;)(t=en-e._time)>=0&&e._call.call(null,t),e=e._next;--Zi}function cn(){en=(tn=rn.now())+nn,Zi=Qi=0;try{un()}finally{Zi=0,function(){for(var t,e,i=Ui,n=1/0;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:Ui=e);Gi=t,fn(n)}(),en=0}}function dn(){var t=rn.now(),e=t-tn;e>Ji&&(nn-=e,tn=t)}function fn(t){Zi||(Qi&&(Qi=clearTimeout(Qi)),t-en>24?(t<1/0&&(Qi=setTimeout(cn,t-rn.now()-nn)),$i&&($i=clearInterval($i))):($i||(tn=rn.now(),$i=setInterval(dn,Ji)),Zi=1,sn(cn)))}function pn(t,e,i){var n=new hn;return n.restart(function(i){n.stop(),t(i+e)},e=null==e?0:+e,i),n}hn.prototype=ln.prototype={constructor:hn,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?on():+i)+(null==e?0:+e),this._next||Gi===this||(Gi?Gi._next=this:Ui=this,Gi=this),this._call=t,this._time=i,fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,fn())}};var gn=Y("start","end","cancel","interrupt"),mn=[],vn=0,yn=1,bn=2,_n=3,wn=4,xn=5,Sn=6;function kn(t,e,i,n,r,s){var o=t.__transition;if(o){if(i in o)return}else t.__transition={};!function(t,e,i){var n,r=t.__transition;function s(h){var l,u,c,d;if(i.state!==yn)return a();for(l in r)if((d=r[l]).name===i.name){if(d.state===_n)return pn(s);d.state===wn?(d.state=Sn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=Sn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(pn(function(){i.state===_n&&(i.state=wn,i.timer.restart(o,i.delay,i.time),o(h))}),i.state=bn,i.on.call("start",t,t.__data__,i.index,i.group),i.state===bn){for(i.state=_n,n=new Array(c=i.tween.length),l=0,u=-1;l<c;++l)(d=i.tween[l].value.call(t,t.__data__,i.index,i.group))&&(n[++u]=d);n.length=u+1}}function o(e){for(var r=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(a),i.state=xn,1),s=-1,o=n.length;++s<o;)n[s].call(t,r);i.state===xn&&(i.on.call("end",t,t.__data__,i.index,i.group),a())}function a(){for(var n in i.state=Sn,i.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=i,i.timer=ln(function(t){i.state=yn,i.timer.restart(s,i.delay,i.time),i.delay<=t&&s(t-i.delay)},0,i.time)}(t,i,{name:e,index:n,group:r,on:gn,tween:mn,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:vn})}function Cn(t,e){var i=Tn(t,e);if(i.state>vn)throw new Error("too late; already scheduled");return i}function An(t,e){var i=Tn(t,e);if(i.state>_n)throw new Error("too late; already running");return i}function Tn(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function Mn(t,e){var i,n,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(i=s[r]).name===e?(n=i.state>bn&&i.state<xn,i.state=Sn,i.timer.stop(),i.on.call(n?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete s[r]):o=!1;o&&delete t.__transition}}function En(t,e,i){var n=t._id;return t.each(function(){var t=An(this,n);(t.value||(t.value={}))[e]=i.apply(this,arguments)}),function(t){return Tn(t,n).value[e]}}function Dn(t,e){var i;return("number"==typeof e?mi:e instanceof pe?ui:(i=pe(e))?(e=i,ui):_i)(t,e)}var Pn=Ot.prototype.constructor;function On(t){return function(){this.style.removeProperty(t)}}var Nn=0;function Ln(t,e,i,n){this._groups=t,this._parents=e,this._name=i,this._id=n}function In(t){return Ot().transition(t)}function Fn(){return++Nn}var Rn=Ot.prototype;function zn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Bn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ln.prototype=In.prototype={constructor:Ln,select:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=$(t));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var a,h,l=n[o],u=l.length,c=s[o]=new Array(u),d=0;d<u;++d)(a=l[d])&&(h=t.call(a,a.__data__,d,l))&&("__data__"in a&&(h.__data__=a.__data__),c[d]=h,kn(c[d],e,i,d,c,Tn(a,i)));return new Ln(s,this._parents,e,i)},selectAll:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=tt(t));for(var n=this._groups,r=n.length,s=[],o=[],a=0;a<r;++a)for(var h,l=n[a],u=l.length,c=0;c<u;++c)if(h=l[c]){for(var d,f=t.call(h,h.__data__,c,l),p=Tn(h,i),g=0,m=f.length;g<m;++g)(d=f[g])&&kn(d,e,i,g,f,p);s.push(f),o.push(h)}return new Ln(s,o,e,i)},filter:function(t){"function"!=typeof t&&(t=et(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o=e[r],a=o.length,h=n[r]=[],l=0;l<a;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&h.push(s);return new Ln(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,r=Math.min(n,i.length),s=new Array(n),o=0;o<r;++o)for(var a,h=e[o],l=i[o],u=h.length,c=s[o]=new Array(u),d=0;d<u;++d)(a=h[d]||l[d])&&(c[d]=a);for(;o<n;++o)s[o]=e[o];return new Ln(s,this._parents,this._name,this._id)},selection:function(){return new Pn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,i=Fn(),n=this._groups,r=n.length,s=0;s<r;++s)for(var o,a=n[s],h=a.length,l=0;l<h;++l)if(o=a[l]){var u=Tn(o,e);kn(o,t,i,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ln(n,this._parents,t,i)},call:Rn.call,nodes:Rn.nodes,node:Rn.node,size:Rn.size,empty:Rn.empty,each:Rn.each,on:function(t,e){var i=this._id;return arguments.length<2?Tn(this.node(),i).on.on(t):this.each(function(t,e,i){var n,r,s=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?Cn:An;return function(){var o=s(this,t),a=o.on;a!==n&&(r=(n=a).copy()).on(e,i),o.on=r}}(i,t,e))},attr:function(t,e){var i=K(t),n="transform"===i?Oi:Dn;return this.attrTween(t,"function"==typeof e?(i.local?function(t,e,i){var n,r,s;return function(){var o,a,h=i(this);if(null!=h)return(o=this.getAttributeNS(t.space,t.local))===(a=h+"")?null:o===n&&a===r?s:(r=a,s=e(n=o,h));this.removeAttributeNS(t.space,t.local)}}:function(t,e,i){var n,r,s;return function(){var o,a,h=i(this);if(null!=h)return(o=this.getAttribute(t))===(a=h+"")?null:o===n&&a===r?s:(r=a,s=e(n=o,h));this.removeAttribute(t)}})(i,n,En(this,"attr."+t,e)):null==e?(i.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(i):(i.local?function(t,e,i){var n,r,s=i+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===n?r:r=e(n=o,i)}}:function(t,e,i){var n,r,s=i+"";return function(){var o=this.getAttribute(t);return o===s?null:o===n?r:r=e(n=o,i)}})(i,n,e))},attrTween:function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var n=K(t);return this.tween(i,(n.local?function(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttributeNS(t.space,t.local,e(i))}}(t,r)),i}return r._value=e,r}:function(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttribute(t,e(i))}}(t,r)),i}return r._value=e,r})(n,e))},style:function(t,e,i){var n="transform"==(t+="")?Pi:Dn;return null==e?this.styleTween(t,function(t,e){var i,n,r;return function(){var s=lt(this,t),o=(this.style.removeProperty(t),lt(this,t));return s===o?null:s===i&&o===n?r:r=e(i=s,n=o)}}(t,n)).on("end.style."+t,On(t)):"function"==typeof e?this.styleTween(t,function(t,e,i){var n,r,s;return function(){var o=lt(this,t),a=i(this),h=a+"";return null==a&&(this.style.removeProperty(t),h=a=lt(this,t)),o===h?null:o===n&&h===r?s:(r=h,s=e(n=o,a))}}(t,n,En(this,"style."+t,e))).each(function(t,e){var i,n,r,s,o="style."+e,a="end."+o;return function(){var h=An(this,t),l=h.on,u=null==h.value[o]?s||(s=On(e)):void 0;l===i&&r===u||(n=(i=l).copy()).on(a,r=u),h.on=n}}(this._id,t)):this.styleTween(t,function(t,e,i){var n,r,s=i+"";return function(){var o=lt(this,t);return o===s?null:o===n?r:r=e(n=o,i)}}(t,n,e),i).on("end.style."+t,null)},styleTween:function(t,e,i){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function(t,e,i){var n,r;function s(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&function(t,e,i){return function(n){this.style.setProperty(t,e(n),i)}}(t,s,i)),n}return s._value=e,s}(t,e,null==i?"":i))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(En(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var i=this._id;if(t+="",arguments.length<2){for(var n,r=Tn(this.node(),i).tween,s=0,o=r.length;s<o;++s)if((n=r[s]).name===t)return n.value;return null}return this.each((null==e?function(t,e){var i,n;return function(){var r=An(this,t),s=r.tween;if(s!==i)for(var o=0,a=(n=i=s).length;o<a;++o)if(n[o].name===e){(n=n.slice()).splice(o,1);break}r.tween=n}}:function(t,e,i){var n,r;if("function"!=typeof i)throw new Error;return function(){var s=An(this,t),o=s.tween;if(o!==n){r=(n=o).slice();for(var a={name:e,value:i},h=0,l=r.length;h<l;++h)if(r[h].name===e){r[h]=a;break}h===l&&r.push(a)}s.tween=r}})(i,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Cn(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Cn(this,t).delay=e}})(e,t)):Tn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){An(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){An(this,t).duration=e}})(e,t)):Tn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){An(this,t).ease=e}}(e,t)):Tn(this.node(),e).ease},end:function(){var t,e,i=this,n=i._id,r=i.size();return new Promise(function(s,o){var a={value:o},h={value:function(){0==--r&&s()}};i.each(function(){var i=An(this,n),r=i.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(h)),i.on=e})})}};var jn=function t(e){function i(t){return Math.pow(t,e)}return e=+e,i.exponent=t,i}(3),Hn=function t(e){function i(t){return 1-Math.pow(1-t,e)}return e=+e,i.exponent=t,i}(3),Yn=function t(e){function i(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,i.exponent=t,i}(3),Vn=Math.PI,qn=Vn/2;function Wn(t){return(1-Math.cos(Vn*t))/2}function Un(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Gn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Xn=4/11,Kn=6/11,Zn=8/11,Qn=.75,$n=9/11,Jn=10/11,tr=.9375,er=21/22,ir=63/64,nr=1/Xn/Xn;function rr(t){return(t=+t)<Xn?nr*t*t:t<Zn?nr*(t-=Kn)*t+Qn:t<Jn?nr*(t-=$n)*t+tr:nr*(t-=er)*t+ir}var sr=function t(e){function i(t){return t*t*((e+1)*t-e)}return e=+e,i.overshoot=t,i}(1.70158),or=function t(e){function i(t){return--t*t*((e+1)*t+e)+1}return e=+e,i.overshoot=t,i}(1.70158),ar=function t(e){function i(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,i.overshoot=t,i}(1.70158),hr=2*Math.PI,lr=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=hr);function r(t){return e*Math.pow(2,10*--t)*Math.sin((n-t)/i)}return r.amplitude=function(e){return t(e,i*hr)},r.period=function(i){return t(e,i)},r}(1,.3),ur=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=hr);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+n)/i)}return r.amplitude=function(e){return t(e,i*hr)},r.period=function(i){return t(e,i)},r}(1,.3),cr=function t(e,i){var n=Math.asin(1/(e=Math.max(1,e)))*(i/=hr);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((n-t)/i):2-e*Math.pow(2,-10*t)*Math.sin((n+t)/i))/2}return r.amplitude=function(e){return t(e,i*hr)},r.period=function(i){return t(e,i)},r}(1,.3),dr={time:null,delay:0,duration:250,ease:Bn};function fr(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))return dr.time=on(),dr;return i}Ot.prototype.interrupt=function(t){return this.each(function(){Mn(this,t)})},Ot.prototype.transition=function(t){var e,i;t instanceof Ln?(e=t._id,t=t._name):(e=Fn(),(i=dr).time=on(),t=null==t?null:t+"");for(var n=this._groups,r=n.length,s=0;s<r;++s)for(var o,a=n[s],h=a.length,l=0;l<h;++l)(o=a[l])&&kn(o,t,e,l,a,i||fr(o,e));return new Ln(n,this._parents,t,e)};var pr=[null];function gr(t){return function(){return t}}function mr(t,e,i){this.target=t,this.type=e,this.selection=i}function vr(){t.event.stopImmediatePropagation()}function yr(){t.event.preventDefault(),t.event.stopImmediatePropagation()}var br={name:"drag"},_r={name:"space"},wr={name:"handle"},xr={name:"center"};function Sr(t){return[+t[0],+t[1]]}function kr(t){return[Sr(t[0]),Sr(t[1])]}var Cr={name:"x",handles:["w","e"].map(Nr),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ar={name:"y",handles:["n","s"].map(Nr),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Tr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Nr),input:function(t){return null==t?null:kr(t)},output:function(t){return t}},Mr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Er={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Dr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Pr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Or={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Nr(t){return{type:t}}function Lr(){return!t.event.ctrlKey&&!t.event.button}function Ir(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Fr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function zr(e){var i,n=Ir,r=Lr,s=Fr,o=!0,a=Y(l,"start","brush","end"),h=6;function l(t){var i=t.property("__brush",m).selectAll(".overlay").data([Nr("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mr.overlay).merge(i).each(function(){var t=Rr(this).extent;Nt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Nr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(e.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mr[t.type]}),t.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(s).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Nt(this),e=Rr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-h/2:e[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-h/2:e[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,i){return!i&&t.__brush.emitter||new d(t,e)}function d(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function f(){if((!i||t.event.touches)&&r.apply(this,arguments)){var n,s,a,h,l,d,f,p,g,m,v,y,b=this,_=t.event.target.__data__.type,w="selection"===(o&&t.event.metaKey?_="overlay":_)?br:o&&t.event.altKey?xr:wr,x=e===Ar?null:Pr[_],S=e===Cr?null:Or[_],k=Rr(b),C=k.extent,A=k.selection,T=C[0][0],M=C[0][1],E=C[1][0],D=C[1][1],P=0,O=0,N=x&&S&&o&&t.event.shiftKey,L=t.event.touches?(y=t.event.changedTouches[0].identifier,function(e){return jt(e,t.event.touches,y)}):Bt,I=L(b),F=I,R=c(b,arguments,!0).beforestart();"overlay"===_?(A&&(g=!0),k.selection=A=[[n=e===Ar?T:I[0],a=e===Cr?M:I[1]],[l=e===Ar?E:n,f=e===Cr?D:a]]):(n=A[0][0],a=A[0][1],l=A[1][0],f=A[1][1]),s=n,h=a,d=l,p=f;var z=Nt(b).attr("pointer-events","none"),B=z.selectAll(".overlay").attr("cursor",Mr[_]);if(t.event.touches)R.moved=H,R.ended=V;else{var j=Nt(t.event.view).on("mousemove.brush",H,!0).on("mouseup.brush",V,!0);o&&j.on("keydown.brush",function(){switch(t.event.keyCode){case 16:N=x&&S;break;case 18:w===wr&&(x&&(l=d-P*x,n=s+P*x),S&&(f=p-O*S,a=h+O*S),w=xr,Y());break;case 32:w!==wr&&w!==xr||(x<0?l=d-P:x>0&&(n=s-P),S<0?f=p-O:S>0&&(a=h-O),w=_r,B.attr("cursor",Mr.selection),Y());break;default:return}yr()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:N&&(m=v=N=!1,Y());break;case 18:w===xr&&(x<0?l=d:x>0&&(n=s),S<0?f=p:S>0&&(a=h),w=wr,Y());break;case 32:w===_r&&(t.event.altKey?(x&&(l=d-P*x,n=s+P*x),S&&(f=p-O*S,a=h+O*S),w=xr):(x<0?l=d:x>0&&(n=s),S<0?f=p:S>0&&(a=h),w=wr),B.attr("cursor",Mr[_]),Y());break;default:return}yr()},!0),Vt(t.event.view)}vr(),Mn(b),u.call(b),R.start()}function H(){var t=L(b);!N||m||v||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?v=!0:m=!0),F=t,g=!0,yr(),Y()}function Y(){var t;switch(P=F[0]-I[0],O=F[1]-I[1],w){case _r:case br:x&&(P=Math.max(T-n,Math.min(E-l,P)),s=n+P,d=l+P),S&&(O=Math.max(M-a,Math.min(D-f,O)),h=a+O,p=f+O);break;case wr:x<0?(P=Math.max(T-n,Math.min(E-n,P)),s=n+P,d=l):x>0&&(P=Math.max(T-l,Math.min(E-l,P)),s=n,d=l+P),S<0?(O=Math.max(M-a,Math.min(D-a,O)),h=a+O,p=f):S>0&&(O=Math.max(M-f,Math.min(D-f,O)),h=a,p=f+O);break;case xr:x&&(s=Math.max(T,Math.min(E,n-P*x)),d=Math.max(T,Math.min(E,l+P*x))),S&&(h=Math.max(M,Math.min(D,a-O*S)),p=Math.max(M,Math.min(D,f+O*S)))}d<s&&(x*=-1,t=n,n=l,l=t,t=s,s=d,d=t,_ in Er&&B.attr("cursor",Mr[_=Er[_]])),p<h&&(S*=-1,t=a,a=f,f=t,t=h,h=p,p=t,_ in Dr&&B.attr("cursor",Mr[_=Dr[_]])),k.selection&&(A=k.selection),m&&(s=A[0][0],d=A[1][0]),v&&(h=A[0][1],p=A[1][1]),A[0][0]===s&&A[0][1]===h&&A[1][0]===d&&A[1][1]===p||(k.selection=[[s,h],[d,p]],u.call(b),R.brush())}function V(){if(vr(),t.event.touches){if(t.event.touches.length)return;i&&clearTimeout(i),i=setTimeout(function(){i=null},500)}else qt(t.event.view,g),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),B.attr("cursor",Mr.overlay),k.selection&&(A=k.selection),(A[0][0]===A[1][0]||A[0][1]===A[1][1])&&(k.selection=null,u.call(b)),R.end()}}function p(){c(this,arguments).moved()}function g(){c(this,arguments).ended()}function m(){var t=this.__brush||{selection:null};return t.extent=kr(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,i){t.selection?t.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var t=this,n=t.__brush,r=c(t,arguments),s=n.selection,o=e.input("function"==typeof i?i.apply(this,arguments):i,n.extent),a=wi(s,o);function h(e){n.selection=1===e&&null===o?null:a(e),u.call(t),r.brush()}return null!==s&&null!==o?h:h(1)}):t.each(function(){var t=this,n=arguments,r=t.__brush,s=e.input("function"==typeof i?i.apply(t,n):i,r.extent),o=c(t,n).beforestart();Mn(t),r.selection=null===s?null:s,u.call(t),o.start().brush().end()})},l.clear=function(t){l.move(t,null)},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Mt(new mr(l,t,e.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:gr(kr(t)),l):n},l.filter=function(t){return arguments.length?(r="function"==typeof t?t:gr(!!t),l):r},l.handleSize=function(t){return arguments.length?(h=+t,l):h},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=a.on.apply(a,arguments);return t===a?l:t},l}var Br=Math.cos,jr=Math.sin,Hr=Math.PI,Yr=Hr/2,Vr=2*Hr,qr=Math.max;function Wr(t){return function(e,i){return t(e.source.value+e.target.value,i.source.value+i.target.value)}}var Ur=Array.prototype.slice;function Gr(t){return function(){return t}}var Xr=Math.PI,Kr=2*Xr,Zr=Kr-1e-6;function Qr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $r(){return new Qr}function Jr(t){return t.source}function ts(t){return t.target}function es(t){return t.radius}function is(t){return t.startAngle}function ns(t){return t.endAngle}function rs(){}function ss(t,e){var i=new rs;if(t instanceof rs)t.each(function(t,e){i.set(e,t)});else if(Array.isArray(t)){var n,r=-1,s=t.length;if(null==e)for(;++r<s;)i.set(r,t[r]);else for(;++r<s;)i.set(e(n=t[r],r,t),n)}else if(t)for(var o in t)i.set(o,t[o]);return i}function os(){return{}}function as(t,e,i){t[e]=i}function hs(){return ss()}function ls(t,e,i){t.set(e,i)}function us(){}Qr.prototype=$r.prototype={constructor:Qr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(t,e,i,n,r,s){this._+="C"+ +t+","+ +e+","+ +i+","+ +n+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(t,e,i,n,r){var s=this._x1,o=this._y1,a=(i=+i)-(t=+t),h=(n=+n)-(e=+e),l=s-t,u=o-e,c=l*l+u*u;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>1e-6)if(Math.abs(u*a-h*l)>1e-6&&r){var d=i-s,f=n-o,p=a*a+h*h,g=d*d+f*f,m=Math.sqrt(p),v=Math.sqrt(c),y=r*Math.tan((Xr-Math.acos((p+c-g)/(2*m*v)))/2),b=y/v,_=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>l*f)+","+(this._x1=t+_*a)+","+(this._y1=e+_*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,i,n,r,s){t=+t,e=+e,s=!!s;var o=(i=+i)*Math.cos(n),a=i*Math.sin(n),h=t+o,l=e+a,u=1^s,c=s?n-r:r-n;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+h+","+l:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+h+","+l),i&&(c<0&&(c=c%Kr+Kr),c>Zr?this._+="A"+i+","+i+",0,1,"+u+","+(t-o)+","+(e-a)+"A"+i+","+i+",0,1,"+u+","+(this._x1=h)+","+(this._y1=l):c>1e-6&&(this._+="A"+i+","+i+",0,"+ +(c>=Xr)+","+u+","+(this._x1=t+i*Math.cos(r))+","+(this._y1=e+i*Math.sin(r))))},rect:function(t,e,i,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}},rs.prototype=ss.prototype={constructor:rs,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var cs=ss.prototype;function ds(t,e){var i=new us;if(t instanceof us)t.each(function(t){i.add(t)});else if(t){var n=-1,r=t.length;if(null==e)for(;++n<r;)i.add(t[n]);else for(;++n<r;)i.add(e(t[n],n,t))}return i}us.prototype=ds.prototype={constructor:us,has:cs.has,add:function(t){return this["$"+(t+="")]=t,this},remove:cs.remove,clear:cs.clear,values:cs.keys,size:cs.size,empty:cs.empty,each:cs.each};var fs=Array.prototype.slice;function ps(t,e){return t-e}function gs(t){return function(){return t}}function ms(t,e){for(var i,n=-1,r=e.length;++n<r;)if(i=vs(t,e[n]))return i;return 0}function vs(t,e){for(var i=e[0],n=e[1],r=-1,s=0,o=t.length,a=o-1;s<o;a=s++){var h=t[s],l=h[0],u=h[1],c=t[a],d=c[0],f=c[1];if(ys(h,c,e))return 0;u>n!=f>n&&i<(d-l)*(n-u)/(f-u)+l&&(r=-r)}return r}function ys(t,e,i){var n,r,s,o;return function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])==(i[0]-t[0])*(e[1]-t[1])}(t,e,i)&&(r=t[n=+(t[0]===e[0])],o=e[n],r<=(s=i[n])&&s<=o||o<=s&&s<=r)}function bs(){}var _s=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function ws(){var t=1,e=1,i=S,n=a;function r(t){var e=i(t);if(Array.isArray(e))e=e.slice().sort(ps);else{var n=u(t),r=n[0],o=n[1];e=x(r,o,e),e=m(Math.floor(r/e)*e,Math.floor(o/e)*e,e)}return e.map(function(e){return s(t,e)})}function s(i,r){var s=[],a=[];return function(i,n,r){var s,a,h,l,u,c=new Array,d=new Array;for(s=a=-1,_s[(h=i[0]>=n)<<1].forEach(f);++s<t-1;)_s[h|(h=i[s+1]>=n)<<1].forEach(f);for(_s[h<<0].forEach(f);++a<e-1;){for(s=-1,_s[(h=i[a*t+t]>=n)<<1|(l=i[a*t]>=n)<<2].forEach(f);++s<t-1;)u=l,_s[h|(h=i[a*t+t+s+1]>=n)<<1|(l=i[a*t+s+1]>=n)<<2|u<<3].forEach(f);_s[h|l<<3].forEach(f)}for(s=-1,_s[(l=i[a*t]>=n)<<2].forEach(f);++s<t-1;)u=l,_s[(l=i[a*t+s+1]>=n)<<2|u<<3].forEach(f);function f(t){var e,i,n=[t[0][0]+s,t[0][1]+a],h=[t[1][0]+s,t[1][1]+a],l=o(n),u=o(h);(e=d[l])?(i=c[u])?(delete d[e.end],delete c[i.start],e===i?(e.ring.push(h),r(e.ring)):c[e.start]=d[i.end]={start:e.start,end:i.end,ring:e.ring.concat(i.ring)}):(delete d[e.end],e.ring.push(h),d[e.end=u]=e):(e=c[u])?(i=d[l])?(delete c[e.start],delete d[i.end],e===i?(e.ring.push(h),r(e.ring)):c[i.start]=d[e.end]={start:i.start,end:e.end,ring:i.ring.concat(e.ring)}):(delete c[e.start],e.ring.unshift(n),c[e.start=l]=e):c[l]=d[u]={start:l,end:u,ring:[n,h]}}_s[l<<3].forEach(f)}(i,r,function(t){n(t,i,r),function(t){for(var e=0,i=t.length,n=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)n+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return n}(t)>0?s.push([t]):a.push(t)}),a.forEach(function(t){for(var e,i=0,n=s.length;i<n;++i)if(-1!==ms((e=s[i])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:r,coordinates:s}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function a(i,n,r){i.forEach(function(i){var s,o=i[0],a=i[1],h=0|o,l=0|a,u=n[l*t+h];o>0&&o<t&&h===o&&(i[0]=o+(r-(s=n[l*t+h-1]))/(u-s)-.5),a>0&&a<e&&l===a&&(i[1]=a+(r-(s=n[(l-1)*t+h]))/(u-s)-.5)})}return r.contour=s,r.size=function(i){if(!arguments.length)return[t,e];var n=Math.ceil(i[0]),s=Math.ceil(i[1]);if(!(n>0&&s>0))throw new Error("invalid size");return t=n,e=s,r},r.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?gs(fs.call(t)):gs(t),r):i},r.smooth=function(t){return arguments.length?(n=t?a:bs,r):n===a},r}function xs(t,e,i){for(var n=t.width,r=t.height,s=1+(i<<1),o=0;o<r;++o)for(var a=0,h=0;a<n+i;++a)a<n&&(h+=t.data[a+o*n]),a>=i&&(a>=s&&(h-=t.data[a-s+o*n]),e.data[a-i+o*n]=h/Math.min(a+1,n-1+s-a,s))}function Ss(t,e,i){for(var n=t.width,r=t.height,s=1+(i<<1),o=0;o<n;++o)for(var a=0,h=0;a<r+i;++a)a<r&&(h+=t.data[o+a*n]),a>=i&&(a>=s&&(h-=t.data[o+(a-s)*n]),e.data[o+(a-i)*n]=h/Math.min(a+1,r-1+s-a,s))}function ks(t){return t[0]}function Cs(t){return t[1]}function As(){return 1}var Ts={},Ms={},Es=34,Ds=10,Ps=13;function Os(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Ns(t){var e=Object.create(null),i=[];return t.forEach(function(t){for(var n in t)n in e||i.push(e[n]=n)}),i}function Ls(t,e){var i=t+"",n=i.length;return n<e?new Array(e-n+1).join(0)+i:i}function Is(t){var e=new RegExp('["'+t+"\n\r]"),i=t.charCodeAt(0);function n(t,e){var n,r=[],s=t.length,o=0,a=0,h=s<=0,l=!1;function u(){if(h)return Ms;if(l)return l=!1,Ts;var e,n,r=o;if(t.charCodeAt(r)===Es){for(;o++<s&&t.charCodeAt(o)!==Es||t.charCodeAt(++o)===Es;);return(e=o)>=s?h=!0:(n=t.charCodeAt(o++))===Ds?l=!0:n===Ps&&(l=!0,t.charCodeAt(o)===Ds&&++o),t.slice(r+1,e-1).replace(/""/g,'"')}for(;o<s;){if((n=t.charCodeAt(e=o++))===Ds)l=!0;else if(n===Ps)l=!0,t.charCodeAt(o)===Ds&&++o;else if(n!==i)continue;return t.slice(r,e)}return h=!0,t.slice(r,s)}for(t.charCodeAt(s-1)===Ds&&--s,t.charCodeAt(s-1)===Ps&&--s;(n=u())!==Ms;){for(var c=[];n!==Ts&&n!==Ms;)c.push(n),n=u();e&&null==(c=e(c,a++))||r.push(c)}return r}function r(e,i){return e.map(function(e){return i.map(function(t){return o(e[t])}).join(t)})}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Ls(-t,6):t>9999?"+"+Ls(t,6):Ls(t,4)}(t.getUTCFullYear())+"-"+Ls(t.getUTCMonth()+1,2)+"-"+Ls(t.getUTCDate(),2)+(r?"T"+Ls(e,2)+":"+Ls(i,2)+":"+Ls(n,2)+"."+Ls(r,3)+"Z":n?"T"+Ls(e,2)+":"+Ls(i,2)+":"+Ls(n,2)+"Z":i||e?"T"+Ls(e,2)+":"+Ls(i,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var i,r,s=n(t,function(t,n){if(i)return i(t,n-1);r=t,i=e?function(t,e){var i=Os(t);return function(n,r){return e(i(n),r,t)}}(t,e):Os(t)});return s.columns=r||[],s},parseRows:n,format:function(e,i){return null==i&&(i=Ns(e)),[i.map(o).join(t)].concat(r(e,i)).join("\n")},formatBody:function(t,e){return null==e&&(e=Ns(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")}}}var Fs=Is(","),Rs=Fs.parse,zs=Fs.parseRows,Bs=Fs.format,js=Fs.formatBody,Hs=Fs.formatRows,Ys=Is("\t"),Vs=Ys.parse,qs=Ys.parseRows,Ws=Ys.format,Us=Ys.formatBody,Gs=Ys.formatRows;function Xs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Ks(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Zs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Qs(t,e){return fetch(t,e).then(Zs)}function $s(t){return function(e,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=void 0),Qs(e,i).then(function(e){return t(e,n)})}}var Js=$s(Rs),to=$s(Vs);function eo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function io(t){return function(e,i){return Qs(e,i).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var no=io("application/xml"),ro=io("text/html"),so=io("image/svg+xml");function oo(t){return function(){return t}}function ao(){return 1e-6*(Math.random()-.5)}function ho(t,e,i,n){if(isNaN(e)||isNaN(i))return t;var r,s,o,a,h,l,u,c,d,f=t._root,p={data:n},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((l=e>=(s=(g+v)/2))?g=s:v=s,(u=i>=(o=(m+y)/2))?m=o:y=o,r=f,!(f=f[c=u<<1|l]))return r[c]=p,t;if(a=+t._x.call(null,f.data),h=+t._y.call(null,f.data),e===a&&i===h)return p.next=f,r?r[c]=p:t._root=p,t;do{r=r?r[c]=new Array(4):t._root=new Array(4),(l=e>=(s=(g+v)/2))?g=s:v=s,(u=i>=(o=(m+y)/2))?m=o:y=o}while((c=u<<1|l)==(d=(h>=o)<<1|a>=s));return r[d]=f,r[c]=p,t}function lo(t,e,i,n,r){this.node=t,this.x0=e,this.y0=i,this.x1=n,this.y1=r}function uo(t){return t[0]}function co(t){return t[1]}function fo(t,e,i){var n=new po(null==e?uo:e,null==i?co:i,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function po(t,e,i,n,r,s){this._x=t,this._y=e,this._x0=i,this._y0=n,this._x1=r,this._y1=s,this._root=void 0}function go(t){for(var e={data:t.data},i=e;t=t.next;)i=i.next={data:t.data};return e}var mo=fo.prototype=po.prototype;function vo(t){return t.x+t.vx}function yo(t){return t.y+t.vy}function bo(t){return t.index}function _o(t,e){var i=t.get(e);if(!i)throw new Error("missing: "+e);return i}function wo(t){return t.x}function xo(t){return t.y}mo.copy=function(){var t,e,i=new po(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return i;if(!n.length)return i._root=go(n),i;for(t=[{source:n,target:i._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(e=n.source[r])&&(e.length?t.push({source:e,target:n.target[r]=new Array(4)}):n.target[r]=go(e));return i},mo.add=function(t){var e=+this._x.call(null,t),i=+this._y.call(null,t);return ho(this.cover(e,i),e,i,t)},mo.addAll=function(t){var e,i,n,r,s=t.length,o=new Array(s),a=new Array(s),h=1/0,l=1/0,u=-1/0,c=-1/0;for(i=0;i<s;++i)isNaN(n=+this._x.call(null,e=t[i]))||isNaN(r=+this._y.call(null,e))||(o[i]=n,a[i]=r,n<h&&(h=n),n>u&&(u=n),r<l&&(l=r),r>c&&(c=r));if(h>u||l>c)return this;for(this.cover(h,l).cover(u,c),i=0;i<s;++i)ho(this,o[i],a[i],t[i]);return this},mo.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,n=this._y0,r=this._x1,s=this._y1;if(isNaN(i))r=(i=Math.floor(t))+1,s=(n=Math.floor(e))+1;else{for(var o,a,h=r-i,l=this._root;i>t||t>=r||n>e||e>=s;)switch(a=(e<n)<<1|t<i,(o=new Array(4))[a]=l,l=o,h*=2,a){case 0:r=i+h,s=n+h;break;case 1:i=r-h,s=n+h;break;case 2:r=i+h,n=s-h;break;case 3:i=r-h,n=s-h}this._root&&this._root.length&&(this._root=l)}return this._x0=i,this._y0=n,this._x1=r,this._y1=s,this},mo.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},mo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},mo.find=function(t,e,i){var n,r,s,o,a,h,l,u=this._x0,c=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new lo(g,u,c,d,f)),null==i?i=1/0:(u=t-i,c=e-i,d=t+i,f=e+i,i*=i);h=p.pop();)if(!(!(g=h.node)||(r=h.x0)>d||(s=h.y0)>f||(o=h.x1)<u||(a=h.y1)<c))if(g.length){var m=(r+o)/2,v=(s+a)/2;p.push(new lo(g[3],m,v,o,a),new lo(g[2],r,v,m,a),new lo(g[1],m,s,o,v),new lo(g[0],r,s,m,v)),(l=(e>=v)<<1|t>=m)&&(h=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=h)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),_=y*y+b*b;if(_<i){var w=Math.sqrt(i=_);u=t-w,c=e-w,d=t+w,f=e+w,n=g.data}}return n},mo.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,i,n,r,s,o,a,h,l,u,c,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((l=s>=(a=(p+m)/2))?p=a:m=a,(u=o>=(h=(g+v)/2))?g=h:v=h,e=f,!(f=f[c=u<<1|l]))return this;if(!f.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(i=e,d=c)}for(;f.data!==t;)if(n=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,n?(r?n.next=r:delete n.next,this):e?(r?e[c]=r:delete e[c],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(i?i[d]=f:this._root=f),this):(this._root=r,this)},mo.removeAll=function(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this},mo.root=function(){return this._root},mo.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},mo.visit=function(t){var e,i,n,r,s,o,a=[],h=this._root;for(h&&a.push(new lo(h,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(h=e.node,n=e.x0,r=e.y0,s=e.x1,o=e.y1)&&h.length){var l=(n+s)/2,u=(r+o)/2;(i=h[3])&&a.push(new lo(i,l,u,s,o)),(i=h[2])&&a.push(new lo(i,n,u,l,o)),(i=h[1])&&a.push(new lo(i,l,r,s,u)),(i=h[0])&&a.push(new lo(i,n,r,l,u))}return this},mo.visitAfter=function(t){var e,i=[],n=[];for(this._root&&i.push(new lo(this._root,this._x0,this._y0,this._x1,this._y1));e=i.pop();){var r=e.node;if(r.length){var s,o=e.x0,a=e.y0,h=e.x1,l=e.y1,u=(o+h)/2,c=(a+l)/2;(s=r[0])&&i.push(new lo(s,o,a,u,c)),(s=r[1])&&i.push(new lo(s,u,a,h,c)),(s=r[2])&&i.push(new lo(s,o,c,u,l)),(s=r[3])&&i.push(new lo(s,u,c,h,l))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},mo.x=function(t){return arguments.length?(this._x=t,this):this._x},mo.y=function(t){return arguments.length?(this._y=t,this):this._y};var So=10,ko=Math.PI*(3-Math.sqrt(5));function Co(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function Ao(t){return(t=Co(Math.abs(t)))?t[1]:NaN}var To,Mo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Eo(t){if(!(e=Mo.exec(t)))throw new Error("invalid format: "+t);var e;return new Do({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Do(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Po(t,e){var i=Co(t,e);if(!i)return t+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}Eo.prototype=Do.prototype,Do.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Oo={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Po(100*t,e)},r:Po,s:function(t,e){var i=Co(t,e);if(!i)return t+"";var n=i[0],r=i[1],s=r-(To=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Co(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function No(t){return t}var Lo,Io=Array.prototype.map,Fo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ro(t){var e,i,n=void 0===t.grouping||void 0===t.thousands?No:(e=Io.call(t.grouping,Number),i=t.thousands+"",function(t,n){for(var r=t.length,s=[],o=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>n&&(a=Math.max(1,n-h)),s.push(t.substring(r-=a,r+a)),!((h+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(i)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?No:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(Io.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=Eo(t)).fill,i=t.align,c=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Oo[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===e&&"="===i)&&(f=!0,e="0",i="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?s:/[%p]/.test(y)?h:"",w=Oo[y],x=/[defgprs%]/.test(y);function S(t){var r,s,h,d=b,S=_;if("c"===y)S=w(t)+S,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?u:w(Math.abs(t),m),v&&(t=function(t){t:for(var e,i=t.length,n=1,r=-1;n<i;++n)switch(t[n]){case".":r=e=n;break;case"0":0===r&&(r=n),e=n;break;default:if(r>0){if(!+t[n])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&(k=!1),d=(k?"("===c?c:l:"-"===c||"("===c?"":c)+d,S=("s"===y?Fo[8+To/3]:"")+S+(k&&"("===c?")":""),x)for(r=-1,s=t.length;++r<s;)if(48>(h=t.charCodeAt(r))||h>57){S=(46===h?o+t.slice(r+1):t.slice(r))+S,t=t.slice(0,r);break}}g&&!f&&(t=n(t,1/0));var C=d.length+t.length+S.length,A=C<p?new Array(p-C+1).join(e):"";switch(g&&f&&(t=n(A+t,A.length?p-S.length:1/0),A=""),i){case"<":t=d+t+S+A;break;case"=":t=d+A+t+S;break;case"^":t=A.slice(0,C=A.length>>1)+d+t+S+A.slice(C);break;default:t=A+d+t+S}return a(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return t+""},S}return{format:c,formatPrefix:function(t,e){var i=c(((t=Eo(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(Ao(e)/3))),r=Math.pow(10,-n),s=Fo[8+n/3];return function(t){return i(r*t)+s}}}}function zo(e){return Lo=Ro(e),t.format=Lo.format,t.formatPrefix=Lo.formatPrefix,Lo}function Bo(t){return Math.max(0,-Ao(Math.abs(t)))}function jo(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ao(e)/3)))-Ao(Math.abs(t)))}function Ho(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ao(e)-Ao(t))+1}function Yo(){return new Vo}function Vo(){this.reset()}zo({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Vo.prototype={constructor:Vo,reset:function(){this.s=this.t=0},add:function(t){Wo(qo,t,this.t),Wo(this,qo.s,this.s),this.s?this.t+=qo.t:this.s=qo.t},valueOf:function(){return this.s}};var qo=new Vo;function Wo(t,e,i){var n=t.s=e+i,r=n-e;t.t=e-(n-r)+(i-r)}var Uo=1e-6,Go=1e-12,Xo=Math.PI,Ko=Xo/2,Zo=Xo/4,Qo=2*Xo,$o=180/Xo,Jo=Xo/180,ta=Math.abs,ea=Math.atan,ia=Math.atan2,na=Math.cos,ra=Math.ceil,sa=Math.exp,oa=Math.log,aa=Math.pow,ha=Math.sin,la=Math.sign||function(t){return t>0?1:t<0?-1:0},ua=Math.sqrt,ca=Math.tan;function da(t){return t>1?0:t<-1?Xo:Math.acos(t)}function fa(t){return t>1?Ko:t<-1?-Ko:Math.asin(t)}function pa(t){return(t=ha(t/2))*t}function ga(){}function ma(t,e){t&&ya.hasOwnProperty(t.type)&&ya[t.type](t,e)}var va={Feature:function(t,e){ma(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)ma(i[n].geometry,e)}},ya={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)e.point((t=i[n])[0],t[1],t[2])},LineString:function(t,e){ba(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)ba(i[n],e,0)},Polygon:function(t,e){_a(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)_a(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)ma(i[n],e)}};function ba(t,e,i){var n,r=-1,s=t.length-i;for(e.lineStart();++r<s;)e.point((n=t[r])[0],n[1],n[2]);e.lineEnd()}function _a(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)ba(t[i],e,1);e.polygonEnd()}function wa(t,e){t&&va.hasOwnProperty(t.type)?va[t.type](t,e):ma(t,e)}var xa,Sa,ka,Ca,Aa,Ta=Yo(),Ma=Yo(),Ea={point:ga,lineStart:ga,lineEnd:ga,polygonStart:function(){Ta.reset(),Ea.lineStart=Da,Ea.lineEnd=Pa},polygonEnd:function(){var t=+Ta;Ma.add(t<0?Qo+t:t),this.lineStart=this.lineEnd=this.point=ga},sphere:function(){Ma.add(Qo)}};function Da(){Ea.point=Oa}function Pa(){Na(xa,Sa)}function Oa(t,e){Ea.point=Na,xa=t,Sa=e,ka=t*=Jo,Ca=na(e=(e*=Jo)/2+Zo),Aa=ha(e)}function Na(t,e){var i=(t*=Jo)-ka,n=i>=0?1:-1,r=n*i,s=na(e=(e*=Jo)/2+Zo),o=ha(e),a=Aa*o,h=Ca*s+a*na(r),l=a*n*ha(r);Ta.add(ia(l,h)),ka=t,Ca=s,Aa=o}function La(t){return[ia(t[1],t[0]),fa(t[2])]}function Ia(t){var e=t[0],i=t[1],n=na(i);return[n*na(e),n*ha(e),ha(i)]}function Fa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ra(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function za(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ba(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ja(t){var e=ua(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ha,Ya,Va,qa,Wa,Ua,Ga,Xa,Ka,Za,Qa,$a,Ja,th,eh,ih,nh,rh,sh,oh,ah,hh,lh,uh,ch,dh,fh=Yo(),ph={point:gh,lineStart:vh,lineEnd:yh,polygonStart:function(){ph.point=bh,ph.lineStart=_h,ph.lineEnd=wh,fh.reset(),Ea.polygonStart()},polygonEnd:function(){Ea.polygonEnd(),ph.point=gh,ph.lineStart=vh,ph.lineEnd=yh,Ta<0?(Ha=-(Va=180),Ya=-(qa=90)):fh>Uo?qa=90:fh<-Uo&&(Ya=-90),Za[0]=Ha,Za[1]=Va},sphere:function(){Ha=-(Va=180),Ya=-(qa=90)}};function gh(t,e){Ka.push(Za=[Ha=t,Va=t]),e<Ya&&(Ya=e),e>qa&&(qa=e)}function mh(t,e){var i=Ia([t*Jo,e*Jo]);if(Xa){var n=Ra(Xa,i),r=Ra([n[1],-n[0],0],n);ja(r),r=La(r);var s,o=t-Wa,a=o>0?1:-1,h=r[0]*$o*a,l=ta(o)>180;l^(a*Wa<h&&h<a*t)?(s=r[1]*$o)>qa&&(qa=s):l^(a*Wa<(h=(h+360)%360-180)&&h<a*t)?(s=-r[1]*$o)<Ya&&(Ya=s):(e<Ya&&(Ya=e),e>qa&&(qa=e)),l?t<Wa?xh(Ha,t)>xh(Ha,Va)&&(Va=t):xh(t,Va)>xh(Ha,Va)&&(Ha=t):Va>=Ha?(t<Ha&&(Ha=t),t>Va&&(Va=t)):t>Wa?xh(Ha,t)>xh(Ha,Va)&&(Va=t):xh(t,Va)>xh(Ha,Va)&&(Ha=t)}else Ka.push(Za=[Ha=t,Va=t]);e<Ya&&(Ya=e),e>qa&&(qa=e),Xa=i,Wa=t}function vh(){ph.point=mh}function yh(){Za[0]=Ha,Za[1]=Va,ph.point=gh,Xa=null}function bh(t,e){if(Xa){var i=t-Wa;fh.add(ta(i)>180?i+(i>0?360:-360):i)}else Ua=t,Ga=e;Ea.point(t,e),mh(t,e)}function _h(){Ea.lineStart()}function wh(){bh(Ua,Ga),Ea.lineEnd(),ta(fh)>Uo&&(Ha=-(Va=180)),Za[0]=Ha,Za[1]=Va,Xa=null}function xh(t,e){return(e-=t)<0?e+360:e}function Sh(t,e){return t[0]-e[0]}function kh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Ch={sphere:ga,point:Ah,lineStart:Mh,lineEnd:Ph,polygonStart:function(){Ch.lineStart=Oh,Ch.lineEnd=Nh},polygonEnd:function(){Ch.lineStart=Mh,Ch.lineEnd=Ph}};function Ah(t,e){t*=Jo;var i=na(e*=Jo);Th(i*na(t),i*ha(t),ha(e))}function Th(t,e,i){Ja+=(t-Ja)/++Qa,th+=(e-th)/Qa,eh+=(i-eh)/Qa}function Mh(){Ch.point=Eh}function Eh(t,e){t*=Jo;var i=na(e*=Jo);uh=i*na(t),ch=i*ha(t),dh=ha(e),Ch.point=Dh,Th(uh,ch,dh)}function Dh(t,e){t*=Jo;var i=na(e*=Jo),n=i*na(t),r=i*ha(t),s=ha(e),o=ia(ua((o=ch*s-dh*r)*o+(o=dh*n-uh*s)*o+(o=uh*r-ch*n)*o),uh*n+ch*r+dh*s);$a+=o,ih+=o*(uh+(uh=n)),nh+=o*(ch+(ch=r)),rh+=o*(dh+(dh=s)),Th(uh,ch,dh)}function Ph(){Ch.point=Ah}function Oh(){Ch.point=Lh}function Nh(){Ih(hh,lh),Ch.point=Ah}function Lh(t,e){hh=t,lh=e,t*=Jo,e*=Jo,Ch.point=Ih;var i=na(e);uh=i*na(t),ch=i*ha(t),dh=ha(e),Th(uh,ch,dh)}function Ih(t,e){t*=Jo;var i=na(e*=Jo),n=i*na(t),r=i*ha(t),s=ha(e),o=ch*s-dh*r,a=dh*n-uh*s,h=uh*r-ch*n,l=ua(o*o+a*a+h*h),u=fa(l),c=l&&-u/l;sh+=c*o,oh+=c*a,ah+=c*h,$a+=u,ih+=u*(uh+(uh=n)),nh+=u*(ch+(ch=r)),rh+=u*(dh+(dh=s)),Th(uh,ch,dh)}function Fh(t){return function(){return t}}function Rh(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return(i=e.invert(i,n))&&t.invert(i[0],i[1])}),i}function zh(t,e){return[ta(t)>Xo?t+Math.round(-t/Qo)*Qo:t,e]}function Bh(t,e,i){return(t%=Qo)?e||i?Rh(Hh(t),Yh(e,i)):Hh(t):e||i?Yh(e,i):zh}function jh(t){return function(e,i){return[(e+=t)>Xo?e-Qo:e<-Xo?e+Qo:e,i]}}function Hh(t){var e=jh(t);return e.invert=jh(-t),e}function Yh(t,e){var i=na(t),n=ha(t),r=na(e),s=ha(e);function o(t,e){var o=na(e),a=na(t)*o,h=ha(t)*o,l=ha(e),u=l*i+a*n;return[ia(h*r-u*s,a*i-l*n),fa(u*r+h*s)]}return o.invert=function(t,e){var o=na(e),a=na(t)*o,h=ha(t)*o,l=ha(e),u=l*r-h*s;return[ia(h*r+l*s,a*i+u*n),fa(u*i-a*n)]},o}function Vh(t){function e(e){return(e=t(e[0]*Jo,e[1]*Jo))[0]*=$o,e[1]*=$o,e}return t=Bh(t[0]*Jo,t[1]*Jo,t.length>2?t[2]*Jo:0),e.invert=function(e){return(e=t.invert(e[0]*Jo,e[1]*Jo))[0]*=$o,e[1]*=$o,e},e}function qh(t,e,i,n,r,s){if(i){var o=na(e),a=ha(e),h=n*i;null==r?(r=e+n*Qo,s=e-h/2):(r=Wh(o,r),s=Wh(o,s),(n>0?r<s:r>s)&&(r+=n*Qo));for(var l,u=r;n>0?u>s:u<s;u-=h)l=La([o,-a*na(u),-a*ha(u)]),t.point(l[0],l[1])}}function Wh(t,e){(e=Ia(e))[0]-=t,ja(e);var i=da(-e[1]);return((-e[2]<0?-i:i)+Qo-Uo)%Qo}function Uh(){var t,e=[];return{point:function(e,i){t.push([e,i])},lineStart:function(){e.push(t=[])},lineEnd:ga,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function Gh(t,e){return ta(t[0]-e[0])<Uo&&ta(t[1]-e[1])<Uo}function Xh(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function Kh(t,e,i,n,r){var s,o,a=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i,n=t[0],o=t[e];if(Gh(n,o)){for(r.lineStart(),s=0;s<e;++s)r.point((n=t[s])[0],n[1]);r.lineEnd()}else a.push(i=new Xh(n,t,null,!0)),h.push(i.o=new Xh(n,null,i,!1)),a.push(i=new Xh(o,t,null,!1)),h.push(i.o=new Xh(o,null,i,!0))}}),a.length){for(h.sort(e),Zh(a),Zh(h),s=0,o=h.length;s<o;++s)h[s].e=i=!i;for(var l,u,c=a[0];;){for(var d=c,f=!0;d.v;)if((d=d.n)===c)return;l=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(s=0,o=l.length;s<o;++s)r.point((u=l[s])[0],u[1]);else n(d.x,d.n.x,1,r);d=d.n}else{if(f)for(s=(l=d.p.z).length-1;s>=0;--s)r.point((u=l[s])[0],u[1]);else n(d.x,d.p.x,-1,r);d=d.p}l=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}}function Zh(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}zh.invert=zh;var Qh=Yo();function $h(t){return ta(t[0])<=Xo?t[0]:la(t[0])*((ta(t[0])+Xo)%Qo-Xo)}function Jh(t,e){var i=$h(e),n=e[1],r=ha(n),s=[ha(i),-na(i),0],o=0,a=0;Qh.reset(),1===r?n=Ko+Uo:-1===r&&(n=-Ko-Uo);for(var h=0,l=t.length;h<l;++h)if(c=(u=t[h]).length)for(var u,c,d=u[c-1],f=$h(d),p=d[1]/2+Zo,g=ha(p),m=na(p),v=0;v<c;++v,f=b,g=w,m=x,d=y){var y=u[v],b=$h(y),_=y[1]/2+Zo,w=ha(_),x=na(_),S=b-f,k=S>=0?1:-1,C=k*S,A=C>Xo,T=g*w;if(Qh.add(ia(T*k*ha(C),m*x+T*na(C))),o+=A?S+k*Qo:S,A^f>=i^b>=i){var M=Ra(Ia(d),Ia(y));ja(M);var E=Ra(s,M);ja(E);var D=(A^S>=0?-1:1)*fa(E[2]);(n>D||n===D&&(M[0]||M[1]))&&(a+=A^S>=0?1:-1)}}return(o<-Uo||o<Uo&&Qh<-Uo)^1&a}function tl(t,e,i,n){return function(r){var s,o,a,h=e(r),l=Uh(),u=e(l),c=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=b,o=[],s=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,o=A(o);var t=Jh(s,n);o.length?(c||(r.polygonStart(),c=!0),Kh(o,il,t,i,r)):t&&(c||(r.polygonStart(),c=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),o=s=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(e,i){t(e,i)&&r.point(e,i)}function p(t,e){h.point(t,e)}function g(){d.point=p,h.lineStart()}function m(){d.point=f,h.lineEnd()}function v(t,e){a.push([t,e]),u.point(t,e)}function y(){u.lineStart(),a=[]}function b(){v(a[0][0],a[0][1]),u.lineEnd();var t,e,i,n,h=u.clean(),d=l.result(),f=d.length;if(a.pop(),s.push(a),a=null,f)if(1&h){if((e=(i=d[0]).length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),t=0;t<e;++t)r.point((n=i[t])[0],n[1]);r.lineEnd()}}else f>1&&2&h&&d.push(d.pop().concat(d.shift())),o.push(d.filter(el))}return d}}function el(t){return t.length>1}function il(t,e){return((t=t.x)[0]<0?t[1]-Ko-Uo:Ko-t[1])-((e=e.x)[0]<0?e[1]-Ko-Uo:Ko-e[1])}var nl=tl(function(){return!0},function(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?Xo:-Xo,h=ta(s-i);ta(h-Xo)<Uo?(t.point(i,n=(n+o)/2>0?Ko:-Ko),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(s,n),e=0):r!==a&&h>=Xo&&(ta(i-r)<Uo&&(i-=r*Uo),ta(s-a)<Uo&&(s-=a*Uo),n=function(t,e,i,n){var r,s,o=ha(t-i);return ta(o)>Uo?ea((ha(e)*(s=na(n))*ha(i)-ha(n)*(r=na(e))*ha(t))/(r*s*o)):(e+n)/2}(i,n,s,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),e=0),t.point(i=s,n=o),r=a},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}},function(t,e,i,n){var r;if(null==t)n.point(-Xo,r=i*Ko),n.point(0,r),n.point(Xo,r),n.point(Xo,0),n.point(Xo,-r),n.point(0,-r),n.point(-Xo,-r),n.point(-Xo,0),n.point(-Xo,r);else if(ta(t[0]-e[0])>Uo){var s=t[0]<e[0]?Xo:-Xo;n.point(-s,r=i*s/2),n.point(0,r),n.point(s,r)}else n.point(e[0],e[1])},[-Xo,-Ko]);function rl(t){var e=na(t),i=6*Jo,n=e>0,r=ta(e)>Uo;function s(t,i){return na(t)*na(i)>e}function o(t,i,n){var r=[1,0,0],s=Ra(Ia(t),Ia(i)),o=Fa(s,s),a=s[0],h=o-a*a;if(!h)return!n&&t;var l=e*o/h,u=-e*a/h,c=Ra(r,s),d=Ba(r,l);za(d,Ba(s,u));var f=c,p=Fa(d,f),g=Fa(f,f),m=p*p-g*(Fa(d,d)-1);if(!(m<0)){var v=ua(m),y=Ba(f,(-p-v)/g);if(za(y,d),y=La(y),!n)return y;var b,_=t[0],w=i[0],x=t[1],S=i[1];w<_&&(b=_,_=w,w=b);var k=w-_,C=ta(k-Xo)<Uo;if(!C&&S<x&&(b=x,x=S,S=b),C||k<Uo?C?x+S>0^y[1]<(ta(y[0]-_)<Uo?x:S):x<=y[1]&&y[1]<=S:k>Xo^(_<=y[0]&&y[0]<=w)){var A=Ba(f,(-p+v)/g);return za(A,d),[y,La(A)]}}}function a(e,i){var r=n?t:Xo-t,s=0;return e<-r?s|=1:e>r&&(s|=2),i<-r?s|=4:i>r&&(s|=8),s}return tl(s,function(t){var e,i,h,l,u;return{lineStart:function(){l=h=!1,u=1},point:function(c,d){var f,p=[c,d],g=s(c,d),m=n?g?0:a(c,d):g?a(c+(c<0?Xo:-Xo),d):0;if(!e&&(l=h=g)&&t.lineStart(),g!==h&&(!(f=o(e,p))||Gh(e,f)||Gh(p,f))&&(p[0]+=Uo,p[1]+=Uo,g=s(p[0],p[1])),g!==h)u=0,g?(t.lineStart(),f=o(p,e),t.point(f[0],f[1])):(f=o(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(r&&e&&n^g){var v;m&i||!(v=o(p,e,!0))||(u=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Gh(e,p)||t.point(p[0],p[1]),e=p,h=g,i=m},lineEnd:function(){h&&t.lineEnd(),e=null},clean:function(){return u|(l&&h)<<1}}},function(e,n,r,s){qh(s,t,i,r,e,n)},n?[0,-t]:[-Xo,t-Xo])}var sl=1e9,ol=-sl;function al(t,e,i,n){function r(r,s){return t<=r&&r<=i&&e<=s&&s<=n}function s(r,s,a,l){var u=0,c=0;if(null==r||(u=o(r,a))!==(c=o(s,a))||h(r,s)<0^a>0)do{l.point(0===u||3===u?t:i,u>1?n:e)}while((u=(u+a+4)%4)!==c);else l.point(s[0],s[1])}function o(n,r){return ta(n[0]-t)<Uo?r>0?0:3:ta(n[0]-i)<Uo?r>0?2:1:ta(n[1]-e)<Uo?r>0?1:0:r>0?3:2}function a(t,e){return h(t.x,e.x)}function h(t,e){var i=o(t,1),n=o(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(o){var h,l,u,c,d,f,p,g,m,v,y,b=o,_=Uh(),w={point:x,lineStart:function(){w.point=S,l&&l.push(u=[]),v=!0,m=!1,p=g=NaN},lineEnd:function(){h&&(S(c,d),f&&m&&_.rejoin(),h.push(_.result())),w.point=x,m&&b.lineEnd()},polygonStart:function(){b=_,h=[],l=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,r=l.length;i<r;++i)for(var s,o,a=l[i],h=1,u=a.length,c=a[0],d=c[0],f=c[1];h<u;++h)s=d,o=f,d=(c=a[h])[0],f=c[1],o<=n?f>n&&(d-s)*(n-o)>(f-o)*(t-s)&&++e:f<=n&&(d-s)*(n-o)<(f-o)*(t-s)&&--e;return e}(),i=y&&e,r=(h=A(h)).length;(i||r)&&(o.polygonStart(),i&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),r&&Kh(h,a,e,s,o),o.polygonEnd()),b=o,h=l=u=null}};function x(t,e){r(t,e)&&b.point(t,e)}function S(s,o){var a=r(s,o);if(l&&u.push([s,o]),v)c=s,d=o,f=a,v=!1,a&&(b.lineStart(),b.point(s,o));else if(a&&m)b.point(s,o);else{var h=[p=Math.max(ol,Math.min(sl,p)),g=Math.max(ol,Math.min(sl,g))],_=[s=Math.max(ol,Math.min(sl,s)),o=Math.max(ol,Math.min(sl,o))];!function(t,e,i,n,r,s){var o,a=t[0],h=t[1],l=0,u=1,c=e[0]-a,d=e[1]-h;if(o=i-a,c||!(o>0)){if(o/=c,c<0){if(o<l)return;o<u&&(u=o)}else if(c>0){if(o>u)return;o>l&&(l=o)}if(o=r-a,c||!(o<0)){if(o/=c,c<0){if(o>u)return;o>l&&(l=o)}else if(c>0){if(o<l)return;o<u&&(u=o)}if(o=n-h,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<u&&(u=o)}else if(d>0){if(o>u)return;o>l&&(l=o)}if(o=s-h,d||!(o<0)){if(o/=d,d<0){if(o>u)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<u&&(u=o)}return l>0&&(t[0]=a+l*c,t[1]=h+l*d),u<1&&(e[0]=a+u*c,e[1]=h+u*d),!0}}}}}(h,_,t,e,i,n)?a&&(b.lineStart(),b.point(s,o),y=!1):(m||(b.lineStart(),b.point(h[0],h[1])),b.point(_[0],_[1]),a||b.lineEnd(),y=!1)}p=s,g=o,m=a}return w}}var hl,ll,ul,cl=Yo(),dl={sphere:ga,point:ga,lineStart:function(){dl.point=pl,dl.lineEnd=fl},lineEnd:ga,polygonStart:ga,polygonEnd:ga};function fl(){dl.point=dl.lineEnd=ga}function pl(t,e){hl=t*=Jo,ll=ha(e*=Jo),ul=na(e),dl.point=gl}function gl(t,e){t*=Jo;var i=ha(e*=Jo),n=na(e),r=ta(t-hl),s=na(r),o=n*ha(r),a=ul*i-ll*n*s,h=ll*i+ul*n*s;cl.add(ia(ua(o*o+a*a),h)),hl=t,ll=i,ul=n}function ml(t){return cl.reset(),wa(t,dl),+cl}var vl=[null,null],yl={type:"LineString",coordinates:vl};function bl(t,e){return vl[0]=t,vl[1]=e,ml(yl)}var _l={Feature:function(t,e){return xl(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)if(xl(i[n].geometry,e))return!0;return!1}},wl={Sphere:function(){return!0},Point:function(t,e){return Sl(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Sl(i[n],e))return!0;return!1},LineString:function(t,e){return kl(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(kl(i[n],e))return!0;return!1},Polygon:function(t,e){return Cl(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Cl(i[n],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)if(xl(i[n],e))return!0;return!1}};function xl(t,e){return!(!t||!wl.hasOwnProperty(t.type))&&wl[t.type](t,e)}function Sl(t,e){return 0===bl(t,e)}function kl(t,e){for(var i,n,r,s=0,o=t.length;s<o;s++){if(0===(n=bl(t[s],e)))return!0;if(s>0&&(r=bl(t[s],t[s-1]))>0&&i<=r&&n<=r&&(i+n-r)*(1-Math.pow((i-n)/r,2))<Go*r)return!0;i=n}return!1}function Cl(t,e){return!!Jh(t.map(Al),Tl(e))}function Al(t){return(t=t.map(Tl)).pop(),t}function Tl(t){return[t[0]*Jo,t[1]*Jo]}function Ml(t,e,i){var n=m(t,e-Uo,i).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function El(t,e,i){var n=m(t,e-Uo,i).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function Dl(){var t,e,i,n,r,s,o,a,h,l,u,c,d=10,f=d,p=90,g=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return m(ra(n/p)*p,i,p).map(u).concat(m(ra(a/g)*g,o,g).map(c)).concat(m(ra(e/d)*d,t,d).filter(function(t){return ta(t%p)>Uo}).map(h)).concat(m(ra(s/f)*f,r,f).filter(function(t){return ta(t%g)>Uo}).map(l))}return y.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[u(n).concat(c(o).slice(1),u(i).reverse().slice(1),c(a).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(a=+t[0][1],o=+t[1][1],(n=+t[0][0])>(i=+t[1][0])&&(t=n,n=i,i=t),a>o&&(t=a,a=o,o=t),y.precision(v)):[[n,a],[i,o]]},y.extentMinor=function(i){return arguments.length?(s=+i[0][1],r=+i[1][1],(e=+i[0][0])>(t=+i[1][0])&&(i=e,e=t,t=i),s>r&&(i=s,s=r,r=i),y.precision(v)):[[e,s],[t,r]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(d){return arguments.length?(v=+d,h=Ml(s,r,90),l=El(e,t,v),u=Ml(a,o,90),c=El(n,i,v),y):v},y.extentMajor([[-180,-90+Uo],[180,90-Uo]]).extentMinor([[-180,-80-Uo],[180,80+Uo]])}function Pl(t){return t}var Ol,Nl,Ll,Il,Fl=Yo(),Rl=Yo(),zl={point:ga,lineStart:ga,lineEnd:ga,polygonStart:function(){zl.lineStart=Bl,zl.lineEnd=Yl},polygonEnd:function(){zl.lineStart=zl.lineEnd=zl.point=ga,Fl.add(ta(Rl)),Rl.reset()},result:function(){var t=Fl/2;return Fl.reset(),t}};function Bl(){zl.point=jl}function jl(t,e){zl.point=Hl,Ol=Ll=t,Nl=Il=e}function Hl(t,e){Rl.add(Il*t-Ll*e),Ll=t,Il=e}function Yl(){Hl(Ol,Nl)}var Vl,ql,Wl,Ul,Gl=1/0,Xl=Gl,Kl=-Gl,Zl=Kl,Ql={point:function(t,e){t<Gl&&(Gl=t),t>Kl&&(Kl=t),e<Xl&&(Xl=e),e>Zl&&(Zl=e)},lineStart:ga,lineEnd:ga,polygonStart:ga,polygonEnd:ga,result:function(){var t=[[Gl,Xl],[Kl,Zl]];return Kl=Zl=-(Xl=Gl=1/0),t}},$l=0,Jl=0,tu=0,eu=0,iu=0,nu=0,ru=0,su=0,ou=0,au={point:hu,lineStart:lu,lineEnd:du,polygonStart:function(){au.lineStart=fu,au.lineEnd=pu},polygonEnd:function(){au.point=hu,au.lineStart=lu,au.lineEnd=du},result:function(){var t=ou?[ru/ou,su/ou]:nu?[eu/nu,iu/nu]:tu?[$l/tu,Jl/tu]:[NaN,NaN];return $l=Jl=tu=eu=iu=nu=ru=su=ou=0,t}};function hu(t,e){$l+=t,Jl+=e,++tu}function lu(){au.point=uu}function uu(t,e){au.point=cu,hu(Wl=t,Ul=e)}function cu(t,e){var i=t-Wl,n=e-Ul,r=ua(i*i+n*n);eu+=r*(Wl+t)/2,iu+=r*(Ul+e)/2,nu+=r,hu(Wl=t,Ul=e)}function du(){au.point=hu}function fu(){au.point=gu}function pu(){mu(Vl,ql)}function gu(t,e){au.point=mu,hu(Vl=Wl=t,ql=Ul=e)}function mu(t,e){var i=t-Wl,n=e-Ul,r=ua(i*i+n*n);eu+=r*(Wl+t)/2,iu+=r*(Ul+e)/2,nu+=r,ru+=(r=Ul*t-Wl*e)*(Wl+t),su+=r*(Ul+e),ou+=3*r,hu(Wl=t,Ul=e)}function vu(t){this._context=t}vu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Qo)}},result:ga};var yu,bu,_u,wu,xu,Su=Yo(),ku={point:ga,lineStart:function(){ku.point=Cu},lineEnd:function(){yu&&Au(bu,_u),ku.point=ga},polygonStart:function(){yu=!0},polygonEnd:function(){yu=null},result:function(){var t=+Su;return Su.reset(),t}};function Cu(t,e){ku.point=Au,bu=wu=t,_u=xu=e}function Au(t,e){Su.add(ua((wu-=t)*wu+(xu-=e)*xu)),wu=t,xu=e}function Tu(){this._string=[]}function Mu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Eu(t){return function(e){var i=new Du;for(var n in t)i[n]=t[n];return i.stream=e,i}}function Du(){}function Pu(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),wa(i,t.stream(Ql)),e(Ql.result()),null!=n&&t.clipExtent(n),t}function Ou(t,e,i){return Pu(t,function(i){var n=e[1][0]-e[0][0],r=e[1][1]-e[0][1],s=Math.min(n/(i[1][0]-i[0][0]),r/(i[1][1]-i[0][1])),o=+e[0][0]+(n-s*(i[1][0]+i[0][0]))/2,a=+e[0][1]+(r-s*(i[1][1]+i[0][1]))/2;t.scale(150*s).translate([o,a])},i)}function Nu(t,e,i){return Ou(t,[[0,0],e],i)}function Lu(t,e,i){return Pu(t,function(i){var n=+e,r=n/(i[1][0]-i[0][0]),s=(n-r*(i[1][0]+i[0][0]))/2,o=-r*i[0][1];t.scale(150*r).translate([s,o])},i)}function Iu(t,e,i){return Pu(t,function(i){var n=+e,r=n/(i[1][1]-i[0][1]),s=-r*i[0][0],o=(n-r*(i[1][1]+i[0][1]))/2;t.scale(150*r).translate([s,o])},i)}Tu.prototype={_radius:4.5,_circle:Mu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Mu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Du.prototype={constructor:Du,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Fu=16,Ru=na(30*Jo);function zu(t,e){return+e?function(t,e){function i(n,r,s,o,a,h,l,u,c,d,f,p,g,m){var v=l-n,y=u-r,b=v*v+y*y;if(b>4*e&&g--){var _=o+d,w=a+f,x=h+p,S=ua(_*_+w*w+x*x),k=fa(x/=S),C=ta(ta(x)-1)<Uo||ta(s-c)<Uo?(s+c)/2:ia(w,_),A=t(C,k),T=A[0],M=A[1],E=T-n,D=M-r,P=y*E-v*D;(P*P/b>e||ta((v*E+y*D)/b-.5)>.3||o*d+a*f+h*p<Ru)&&(i(n,r,s,o,a,h,T,M,C,_/=S,w/=S,x,g,m),m.point(T,M),i(T,M,C,_,w,x,l,u,c,d,f,p,g,m))}}return function(e){var n,r,s,o,a,h,l,u,c,d,f,p,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function m(i,n){i=t(i,n),e.point(i[0],i[1])}function v(){u=NaN,g.point=y,e.lineStart()}function y(n,r){var s=Ia([n,r]),o=t(n,r);i(u,c,l,d,f,p,u=o[0],c=o[1],l=n,d=s[0],f=s[1],p=s[2],Fu,e),e.point(u,c)}function b(){g.point=m,e.lineEnd()}function _(){v(),g.point=w,g.lineEnd=x}function w(t,e){y(n=t,e),r=u,s=c,o=d,a=f,h=p,g.point=y}function x(){i(u,c,l,d,f,p,r,s,n,o,a,h,Fu,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return Eu({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}(t)}var Bu=Eu({point:function(t,e){this.stream.point(t*Jo,e*Jo)}});function ju(t,e,i,n){var r=na(n),s=ha(n),o=r*t,a=s*t,h=r/t,l=s/t,u=(s*i-r*e)/t,c=(s*e+r*i)/t;function d(t,n){return[o*t-a*n+e,i-a*t-o*n]}return d.invert=function(t,e){return[h*t-l*e+u,c-l*t-h*e]},d}function Hu(t){return Yu(function(){return t})()}function Yu(t){var e,i,n,r,s,o,a,h,l,u,c=150,d=480,f=250,p=0,g=0,m=0,v=0,y=0,b=0,_=null,w=nl,x=null,S=Pl,k=.5;function C(t){return h(t[0]*Jo,t[1]*Jo)}function A(t){return(t=h.invert(t[0],t[1]))&&[t[0]*$o,t[1]*$o]}function T(){var t=ju(c,0,0,b).apply(null,e(p,g)),n=(b?ju:function(t,e,i){function n(n,r){return[e+t*n,i-t*r]}return n.invert=function(n,r){return[(n-e)/t,(i-r)/t]},n})(c,d-t[0],f-t[1],b);return i=Bh(m,v,y),a=Rh(e,n),h=Rh(i,a),o=zu(a,k),M()}function M(){return l=u=null,C}return C.stream=function(t){return l&&u===t?l:l=Bu(function(t){return Eu({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}(i)(w(o(S(u=t)))))},C.preclip=function(t){return arguments.length?(w=t,_=void 0,M()):w},C.postclip=function(t){return arguments.length?(S=t,x=n=r=s=null,M()):S},C.clipAngle=function(t){return arguments.length?(w=+t?rl(_=t*Jo):(_=null,nl),M()):_*$o},C.clipExtent=function(t){return arguments.length?(S=null==t?(x=n=r=s=null,Pl):al(x=+t[0][0],n=+t[0][1],r=+t[1][0],s=+t[1][1]),M()):null==x?null:[[x,n],[r,s]]},C.scale=function(t){return arguments.length?(c=+t,T()):c},C.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],T()):[d,f]},C.center=function(t){return arguments.length?(p=t[0]%360*Jo,g=t[1]%360*Jo,T()):[p*$o,g*$o]},C.rotate=function(t){return arguments.length?(m=t[0]%360*Jo,v=t[1]%360*Jo,y=t.length>2?t[2]%360*Jo:0,T()):[m*$o,v*$o,y*$o]},C.angle=function(t){return arguments.length?(b=t%360*Jo,T()):b*$o},C.precision=function(t){return arguments.length?(o=zu(a,k=t*t),M()):ua(k)},C.fitExtent=function(t,e){return Ou(C,t,e)},C.fitSize=function(t,e){return Nu(C,t,e)},C.fitWidth=function(t,e){return Lu(C,t,e)},C.fitHeight=function(t,e){return Iu(C,t,e)},function(){return e=t.apply(this,arguments),C.invert=e.invert&&A,T()}}function Vu(t){var e=0,i=Xo/3,n=Yu(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*Jo,i=t[1]*Jo):[e*$o,i*$o]},r}function qu(t,e){var i=ha(t),n=(i+ha(e))/2;if(ta(n)<Uo)return function(t){var e=na(t);function i(t,i){return[t*e,ha(i)/e]}return i.invert=function(t,i){return[t/e,fa(i*e)]},i}(t);var r=1+i*(2*n-i),s=ua(r)/n;function o(t,e){var i=ua(r-2*n*ha(e))/n;return[i*ha(t*=n),s-i*na(t)]}return o.invert=function(t,e){var i=s-e;return[ia(t,ta(i))/n*la(i),fa((r-(t*t+i*i)*n*n)/(2*n))]},o}function Wu(){return Vu(qu).scale(155.424).center([0,33.6442])}function Uu(){return Wu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Gu(t){return function(e,i){var n=na(e),r=na(i),s=t(n*r);return[s*r*ha(e),s*ha(i)]}}function Xu(t){return function(e,i){var n=ua(e*e+i*i),r=t(n),s=ha(r),o=na(r);return[ia(e*s,n*o),fa(n&&i*s/n)]}}var Ku=Gu(function(t){return ua(2/(1+t))});Ku.invert=Xu(function(t){return 2*fa(t/2)});var Zu=Gu(function(t){return(t=da(t))&&t/ha(t)});function Qu(t,e){return[t,oa(ca((Ko+e)/2))]}function $u(t){var e,i,n,r=Hu(t),s=r.center,o=r.scale,a=r.translate,h=r.clipExtent,l=null;function u(){var s=Xo*o(),a=r(Vh(r.rotate()).invert([0,0]));return h(null==l?[[a[0]-s,a[1]-s],[a[0]+s,a[1]+s]]:t===Qu?[[Math.max(a[0]-s,l),e],[Math.min(a[0]+s,i),n]]:[[l,Math.max(a[1]-s,e)],[i,Math.min(a[1]+s,n)]])}return r.scale=function(t){return arguments.length?(o(t),u()):o()},r.translate=function(t){return arguments.length?(a(t),u()):a()},r.center=function(t){return arguments.length?(s(t),u()):s()},r.clipExtent=function(t){return arguments.length?(null==t?l=e=i=n=null:(l=+t[0][0],e=+t[0][1],i=+t[1][0],n=+t[1][1]),u()):null==l?null:[[l,e],[i,n]]},u()}function Ju(t){return ca((Ko+t)/2)}function tc(t,e){var i=na(t),n=t===e?ha(t):oa(i/na(e))/oa(Ju(e)/Ju(t)),r=i*aa(Ju(t),n)/n;if(!n)return Qu;function s(t,e){r>0?e<-Ko+Uo&&(e=-Ko+Uo):e>Ko-Uo&&(e=Ko-Uo);var i=r/aa(Ju(e),n);return[i*ha(n*t),r-i*na(n*t)]}return s.invert=function(t,e){var i=r-e,s=la(n)*ua(t*t+i*i);return[ia(t,ta(i))/n*la(i),2*ea(aa(r/s,1/n))-Ko]},s}function ec(t,e){return[t,e]}function ic(t,e){var i=na(t),n=t===e?ha(t):(i-na(e))/(e-t),r=i/n+t;if(ta(n)<Uo)return ec;function s(t,e){var i=r-e,s=n*t;return[i*ha(s),r-i*na(s)]}return s.invert=function(t,e){var i=r-e;return[ia(t,ta(i))/n*la(i),r-la(n)*ua(t*t+i*i)]},s}Zu.invert=Xu(function(t){return t}),Qu.invert=function(t,e){return[t,2*ea(sa(e))-Ko]},ec.invert=ec;var nc=1.340264,rc=-.081106,sc=893e-6,oc=.003796,ac=ua(3)/2;function hc(t,e){var i=fa(ac*ha(e)),n=i*i,r=n*n*n;return[t*na(i)/(ac*(nc+3*rc*n+r*(7*sc+9*oc*n))),i*(nc+rc*n+r*(sc+oc*n))]}function lc(t,e){var i=na(e),n=na(t)*i;return[i*ha(t)/n,ha(e)/n]}function uc(t,e,i,n){return 1===t&&1===e&&0===i&&0===n?Pl:Eu({point:function(r,s){this.stream.point(r*t+i,s*e+n)}})}function cc(t,e){var i=e*e,n=i*i;return[t*(.8707-.131979*i+n*(n*(.003971*i-.001529*n)-.013791)),e*(1.007226+i*(.015085+n*(.028874*i-.044475-.005916*n)))]}function dc(t,e){return[na(e)*ha(t),ha(e)]}function fc(t,e){var i=na(e),n=1+na(t)*i;return[i*ha(t)/n,ha(e)/n]}function pc(t,e){return[oa(ca((Ko+e)/2)),-t]}function gc(t,e){return t.parent===e.parent?1:2}function mc(t,e){return t+e.x}function vc(t,e){return Math.max(t,e.y)}function yc(t){var e=0,i=t.children,n=i&&i.length;if(n)for(;--n>=0;)e+=i[n].value;else e=1;t.value=e}function bc(t,e){var i,n,r,s,o,a=new Sc(t),h=+t.value&&(a.value=t.value),l=[a];for(null==e&&(e=_c);i=l.pop();)if(h&&(i.value=+i.data.value),(r=e(i.data))&&(o=r.length))for(i.children=new Array(o),s=o-1;s>=0;--s)l.push(n=i.children[s]=new Sc(r[s])),n.parent=i,n.depth=i.depth+1;return a.eachBefore(xc)}function _c(t){return t.children}function wc(t){t.data=t.data.data}function xc(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Sc(t){this.data=t,this.depth=this.height=0,this.parent=null}hc.invert=function(t,e){for(var i,n=e,r=n*n,s=r*r*r,o=0;o<12&&(s=(r=(n-=i=(n*(nc+rc*r+s*(sc+oc*r))-e)/(nc+3*rc*r+s*(7*sc+9*oc*r)))*n)*r*r,!(ta(i)<Go));++o);return[ac*t*(nc+3*rc*r+s*(7*sc+9*oc*r))/na(n),fa(ha(n)/ac)]},lc.invert=Xu(ea),cc.invert=function(t,e){var i,n=e,r=25;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(.028874*s-.044475-.005916*o)))-e)/(1.007226+s*(.045255+o*(.259866*s-.311325-.005916*11*o)))}while(ta(i)>Uo&&--r>0);return[t/(.8707+(s=n*n)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),n]},dc.invert=Xu(fa),fc.invert=Xu(function(t){return 2*ea(t)}),pc.invert=function(t,e){return[-e,2*ea(sa(t))-Ko]},Sc.prototype=bc.prototype={constructor:Sc,count:function(){return this.eachAfter(yc)},each:function(t){var e,i,n,r,s=this,o=[s];do{for(e=o.reverse(),o=[];s=e.pop();)if(t(s),i=s.children)for(n=0,r=i.length;n<r;++n)o.push(i[n])}while(o.length);return this},eachAfter:function(t){for(var e,i,n,r=this,s=[r],o=[];r=s.pop();)if(o.push(r),e=r.children)for(i=0,n=e.length;i<n;++i)s.push(e[i]);for(;r=o.pop();)t(r);return this},eachBefore:function(t){for(var e,i,n=this,r=[n];n=r.pop();)if(t(n),e=n.children)for(i=e.length-1;i>=0;--i)r.push(e[i]);return this},sum:function(t){return this.eachAfter(function(e){for(var i=+t(e.data)||0,n=e.children,r=n&&n.length;--r>=0;)i+=n[r].value;e.value=i})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,i=function(t,e){if(t===e)return t;var i=t.ancestors(),n=e.ancestors(),r=null;for(t=i.pop(),e=n.pop();t===e;)r=t,t=i.pop(),e=n.pop();return r}(e,t),n=[e];e!==i;)n.push(e=e.parent);for(var r=n.length;t!==i;)n.splice(r,0,t),t=t.parent;return n},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(i){i!==t&&e.push({source:i.parent,target:i})}),e},copy:function(){return bc(this).eachBefore(wc)}};var kc=Array.prototype.slice;function Cc(t){for(var e,i,n=0,r=(t=function(t){for(var e,i,n=t.length;n;)i=Math.random()*n--|0,e=t[n],t[n]=t[i],t[i]=e;return t}(kc.call(t))).length,s=[];n<r;)e=t[n],i&&Mc(i,e)?++n:(i=Dc(s=Ac(s,e)),n=0);return i}function Ac(t,e){var i,n;if(Ec(e,t))return[e];for(i=0;i<t.length;++i)if(Tc(e,t[i])&&Ec(Pc(t[i],e),t))return[t[i],e];for(i=0;i<t.length-1;++i)for(n=i+1;n<t.length;++n)if(Tc(Pc(t[i],t[n]),e)&&Tc(Pc(t[i],e),t[n])&&Tc(Pc(t[n],e),t[i])&&Ec(Oc(t[i],t[n],e),t))return[t[i],t[n],e];throw new Error}function Tc(t,e){var i=t.r-e.r,n=e.x-t.x,r=e.y-t.y;return i<0||i*i<n*n+r*r}function Mc(t,e){var i=t.r-e.r+1e-6,n=e.x-t.x,r=e.y-t.y;return i>0&&i*i>n*n+r*r}function Ec(t,e){for(var i=0;i<e.length;++i)if(!Mc(t,e[i]))return!1;return!0}function Dc(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Pc(t[0],t[1]);case 3:return Oc(t[0],t[1],t[2])}}function Pc(t,e){var i=t.x,n=t.y,r=t.r,s=e.x,o=e.y,a=e.r,h=s-i,l=o-n,u=a-r,c=Math.sqrt(h*h+l*l);return{x:(i+s+h/c*u)/2,y:(n+o+l/c*u)/2,r:(c+r+a)/2}}function Oc(t,e,i){var n=t.x,r=t.y,s=t.r,o=e.x,a=e.y,h=e.r,l=i.x,u=i.y,c=i.r,d=n-o,f=n-l,p=r-a,g=r-u,m=h-s,v=c-s,y=n*n+r*r-s*s,b=y-o*o-a*a+h*h,_=y-l*l-u*u+c*c,w=f*p-d*g,x=(p*_-g*b)/(2*w)-n,S=(g*m-p*v)/w,k=(f*b-d*_)/(2*w)-r,C=(d*v-f*m)/w,A=S*S+C*C-1,T=2*(s+x*S+k*C),M=x*x+k*k-s*s,E=-(A?(T+Math.sqrt(T*T-4*A*M))/(2*A):M/T);return{x:n+x+S*E,y:r+k+C*E,r:E}}function Nc(t,e,i){var n,r,s,o,a=t.x-e.x,h=t.y-e.y,l=a*a+h*h;l?(r=e.r+i.r,o=t.r+i.r,(r*=r)>(o*=o)?(n=(l+o-r)/(2*l),s=Math.sqrt(Math.max(0,o/l-n*n)),i.x=t.x-n*a-s*h,i.y=t.y-n*h+s*a):(n=(l+r-o)/(2*l),s=Math.sqrt(Math.max(0,r/l-n*n)),i.x=e.x+n*a-s*h,i.y=e.y+n*h+s*a)):(i.x=e.x+i.r,i.y=e.y)}function Lc(t,e){var i=t.r+e.r-1e-6,n=e.x-t.x,r=e.y-t.y;return i>0&&i*i>n*n+r*r}function Ic(t){var e=t._,i=t.next._,n=e.r+i.r,r=(e.x*i.r+i.x*e.r)/n,s=(e.y*i.r+i.y*e.r)/n;return r*r+s*s}function Fc(t){this._=t,this.next=null,this.previous=null}function Rc(t){if(!(r=t.length))return 0;var e,i,n,r,s,o,a,h,l,u,c;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(e.x=-(i=t[1]).r,i.x=e.r,i.y=0,!(r>2))return e.r+i.r;Nc(i,e,n=t[2]),e=new Fc(e),i=new Fc(i),n=new Fc(n),e.next=n.previous=i,i.next=e.previous=n,n.next=i.previous=e;t:for(a=3;a<r;++a){Nc(e._,i._,n=t[a]),n=new Fc(n),h=i.next,l=e.previous,u=i._.r,c=e._.r;do{if(u<=c){if(Lc(h._,n._)){e.next=i=h,i.previous=e,--a;continue t}u+=h._.r,h=h.next}else{if(Lc(l._,n._)){(e=l).next=i,i.previous=e,--a;continue t}c+=l._.r,l=l.previous}}while(h!==l.next);for(n.previous=e,n.next=i,e.next=i.previous=i=n,s=Ic(e);(n=n.next)!==i;)(o=Ic(n))<s&&(e=n,s=o);i=e.next}for(e=[i._],n=i;(n=n.next)!==i;)e.push(n._);for(n=Cc(e),a=0;a<r;++a)(e=t[a]).x-=n.x,e.y-=n.y;return n.r}function zc(t){return null==t?null:Bc(t)}function Bc(t){if("function"!=typeof t)throw new Error;return t}function jc(){return 0}function Hc(t){return function(){return t}}function Yc(t){return Math.sqrt(t.value)}function Vc(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function qc(t,e){return function(i){if(n=i.children){var n,r,s,o=n.length,a=t(i)*e||0;if(a)for(r=0;r<o;++r)n[r].r+=a;if(s=Rc(n),a)for(r=0;r<o;++r)n[r].r-=a;i.r=s+a}}}function Wc(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}}function Uc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Gc(t,e,i,n,r){for(var s,o=t.children,a=-1,h=o.length,l=t.value&&(n-e)/t.value;++a<h;)(s=o[a]).y0=i,s.y1=r,s.x0=e,s.x1=e+=s.value*l}var Xc="$",Kc={depth:-1},Zc={};function Qc(t){return t.id}function $c(t){return t.parentId}function Jc(t,e){return t.parent===e.parent?1:2}function td(t){var e=t.children;return e?e[0]:t.t}function ed(t){var e=t.children;return e?e[e.length-1]:t.t}function id(t,e,i){var n=i/(e.i-t.i);e.c-=n,e.s+=i,t.c+=n,e.z+=i,e.m+=i}function nd(t,e,i){return t.a.parent===e.parent?t.a:i}function rd(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function sd(t,e,i,n,r){for(var s,o=t.children,a=-1,h=o.length,l=t.value&&(r-i)/t.value;++a<h;)(s=o[a]).x0=e,s.x1=n,s.y0=i,s.y1=i+=s.value*l}rd.prototype=Object.create(Sc.prototype);var od=(1+Math.sqrt(5))/2;function ad(t,e,i,n,r,s){for(var o,a,h,l,u,c,d,f,p,g,m,v=[],y=e.children,b=0,_=0,w=y.length,x=e.value;b<w;){h=r-i,l=s-n;do{u=y[_++].value}while(!u&&_<w);for(c=d=u,m=u*u*(g=Math.max(l/h,h/l)/(x*t)),p=Math.max(d/m,m/c);_<w;++_){if(u+=a=y[_].value,a<c&&(c=a),a>d&&(d=a),m=u*u*g,(f=Math.max(d/m,m/c))>p){u-=a;break}p=f}v.push(o={value:u,dice:h<l,children:y.slice(b,_)}),o.dice?Gc(o,i,n,r,x?n+=l*u/x:s):sd(o,i,n,x?i+=h*u/x:r,s),x-=u,b=_}return v}var hd=function t(e){function i(t,i,n,r,s){ad(e,t,i,n,r,s)}return i.ratio=function(e){return t((e=+e)>1?e:1)},i}(od),ld=function t(e){function i(t,i,n,r,s){if((o=t._squarify)&&o.ratio===e)for(var o,a,h,l,u,c=-1,d=o.length,f=t.value;++c<d;){for(h=(a=o[c]).children,l=a.value=0,u=h.length;l<u;++l)a.value+=h[l].value;a.dice?Gc(a,i,n,r,n+=(s-n)*a.value/f):sd(a,i,n,i+=(r-i)*a.value/f,s),f-=a.value}else t._squarify=o=ad(e,t,i,n,r,s),o.ratio=e}return i.ratio=function(e){return t((e=+e)>1?e:1)},i}(od);function ud(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function cd(t,e){return t[0]-e[0]||t[1]-e[1]}function dd(t){for(var e=t.length,i=[0,1],n=2,r=2;r<e;++r){for(;n>1&&ud(t[i[n-2]],t[i[n-1]],t[r])<=0;)--n;i[n++]=r}return i.slice(0,n)}function fd(){return Math.random()}var pd=function t(e){function i(t,i){return t=null==t?0:+t,i=null==i?1:+i,1===arguments.length?(i=t,t=0):i-=t,function(){return e()*i+t}}return i.source=t,i}(fd),gd=function t(e){function i(t,i){var n,r;return t=null==t?0:+t,i=null==i?1:+i,function(){var s;if(null!=n)s=n,n=null;else do{n=2*e()-1,s=2*e()-1,r=n*n+s*s}while(!r||r>1);return t+i*s*Math.sqrt(-2*Math.log(r)/r)}}return i.source=t,i}(fd),md=function t(e){function i(){var t=gd.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return i.source=t,i}(fd),vd=function t(e){function i(t){return function(){for(var i=0,n=0;n<t;++n)i+=e();return i}}return i.source=t,i}(fd),yd=function t(e){function i(t){var i=vd.source(e)(t);return function(){return i()/t}}return i.source=t,i}(fd),bd=function t(e){function i(t){return function(){return-Math.log(1-e())/t}}return i.source=t,i}(fd);function _d(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function wd(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var xd=Array.prototype,Sd=xd.map,kd=xd.slice,Cd={name:"implicit"};function Ad(){var t=ss(),e=[],i=[],n=Cd;function r(r){var s=r+"",o=t.get(s);if(!o){if(n!==Cd)return n;t.set(s,o=e.push(r))}return i[(o-1)%i.length]}return r.domain=function(i){if(!arguments.length)return e.slice();e=[],t=ss();for(var n,s,o=-1,a=i.length;++o<a;)t.has(s=(n=i[o])+"")||t.set(s,e.push(n));return r},r.range=function(t){return arguments.length?(i=kd.call(t),r):i.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return Ad(e,i).unknown(n)},_d.apply(r,arguments),r}function Td(){var t,e,i=Ad().unknown(void 0),n=i.domain,r=i.range,s=[0,1],o=!1,a=0,h=0,l=.5;function u(){var i=n().length,u=s[1]<s[0],c=s[u-0],d=s[1-u];t=(d-c)/Math.max(1,i-a+2*h),o&&(t=Math.floor(t)),c+=(d-c-t*(i-a))*l,e=t*(1-a),o&&(c=Math.round(c),e=Math.round(e));var f=m(i).map(function(e){return c+t*e});return r(u?f.reverse():f)}return delete i.unknown,i.domain=function(t){return arguments.length?(n(t),u()):n()},i.range=function(t){return arguments.length?(s=[+t[0],+t[1]],u()):s.slice()},i.rangeRound=function(t){return s=[+t[0],+t[1]],o=!0,u()},i.bandwidth=function(){return e},i.step=function(){return t},i.round=function(t){return arguments.length?(o=!!t,u()):o},i.padding=function(t){return arguments.length?(a=Math.min(1,h=+t),u()):a},i.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),u()):a},i.paddingOuter=function(t){return arguments.length?(h=+t,u()):h},i.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},i.copy=function(){return Td(n(),s).round(o).paddingInner(a).paddingOuter(h).align(l)},_d.apply(u(),arguments)}function Md(t){return+t}var Ed=[0,1];function Dd(t){return t}function Pd(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Od(t){var e,i=t[0],n=t[t.length-1];return i>n&&(e=i,i=n,n=e),function(t){return Math.max(i,Math.min(n,t))}}function Nd(t,e,i){var n=t[0],r=t[1],s=e[0],o=e[1];return r<n?(n=Pd(r,n),s=i(o,s)):(n=Pd(n,r),s=i(s,o)),function(t){return s(n(t))}}function Ld(t,e,i){var n=Math.min(t.length,e.length)-1,s=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)s[a]=Pd(t[a],t[a+1]),o[a]=i(e[a],e[a+1]);return function(e){var i=r(t,e,1,n)-1;return o[i](s[i](e))}}function Id(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fd(){var t,e,i,n,r,s,o=Ed,a=Ed,h=wi,l=Dd;function u(){return n=Math.min(o.length,a.length)>2?Ld:Nd,r=s=null,c}function c(e){return isNaN(e=+e)?i:(r||(r=n(o.map(t),a,h)))(t(l(e)))}return c.invert=function(i){return l(e((s||(s=n(a,o.map(t),mi)))(i)))},c.domain=function(t){return arguments.length?(o=Sd.call(t,Md),l===Dd||(l=Od(o)),u()):o.slice()},c.range=function(t){return arguments.length?(a=kd.call(t),u()):a.slice()},c.rangeRound=function(t){return a=kd.call(t),h=xi,u()},c.clamp=function(t){return arguments.length?(l=t?Od(o):Dd,c):l!==Dd},c.interpolate=function(t){return arguments.length?(h=t,u()):h},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i,n){return t=i,e=n,u()}}function Rd(t,e){return Fd()(t,e)}function zd(e,i,n,r){var s,o=x(e,i,n);switch((r=Eo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(i));return null!=r.precision||isNaN(s=jo(o,a))||(r.precision=s),t.formatPrefix(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=Ho(o,Math.max(Math.abs(e),Math.abs(i))))||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=Bo(o))||(r.precision=s-2*("%"===r.type))}return t.format(r)}function Bd(t){var e=t.domain;return t.ticks=function(t){var i=e();return _(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,i){var n=e();return zd(n[0],n[n.length-1],null==t?10:t,i)},t.nice=function(i){null==i&&(i=10);var n,r=e(),s=0,o=r.length-1,a=r[s],h=r[o];return h<a&&(n=a,a=h,h=n,n=s,s=o,o=n),(n=w(a,h,i))>0?n=w(a=Math.floor(a/n)*n,h=Math.ceil(h/n)*n,i):n<0&&(n=w(a=Math.ceil(a*n)/n,h=Math.floor(h*n)/n,i)),n>0?(r[s]=Math.floor(a/n)*n,r[o]=Math.ceil(h/n)*n,e(r)):n<0&&(r[s]=Math.ceil(a*n)/n,r[o]=Math.floor(h*n)/n,e(r)),t},t}function jd(t,e){var i,n=0,r=(t=t.slice()).length-1,s=t[n],o=t[r];return o<s&&(i=n,n=r,r=i,i=s,s=o,o=i),t[n]=e.floor(s),t[r]=e.ceil(o),t}function Hd(t){return Math.log(t)}function Yd(t){return Math.exp(t)}function Vd(t){return-Math.log(-t)}function qd(t){return-Math.exp(-t)}function Wd(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ud(t){return function(e){return-t(-e)}}function Gd(e){var i,n,r=e(Hd,Yd),s=r.domain,o=10;function a(){return i=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Wd:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),s()[0]<0?(i=Ud(i),n=Ud(n),e(Vd,qd)):e(Hd,Yd),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(s(t),a()):s()},r.ticks=function(t){var e,r=s(),a=r[0],h=r[r.length-1];(e=h<a)&&(d=a,a=h,h=d);var l,u,c,d=i(a),f=i(h),p=null==t?10:+t,g=[];if(!(o%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,a>0){for(;d<f;++d)for(u=1,l=n(d);u<o;++u)if(!((c=l*u)<a)){if(c>h)break;g.push(c)}}else for(;d<f;++d)for(u=o-1,l=n(d);u>=1;--u)if(!((c=l*u)<a)){if(c>h)break;g.push(c)}}else g=_(d,f,Math.min(f-d,p)).map(n);return e?g.reverse():g},r.tickFormat=function(e,s){if(null==s&&(s=10===o?".0e":","),"function"!=typeof s&&(s=t.format(s)),e===1/0)return s;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(t){var e=t/n(Math.round(i(t)));return e*o<o-.5&&(e*=o),e<=a?s(t):""}},r.nice=function(){return s(jd(s(),{floor:function(t){return n(Math.floor(i(t)))},ceil:function(t){return n(Math.ceil(i(t)))}}))},r}function Xd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Kd(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zd(t){var e=1,i=t(Xd(e),Kd(e));return i.constant=function(i){return arguments.length?t(Xd(e=+i),Kd(e)):e},Bd(i)}function Qd(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $d(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jd(t){return t<0?-t*t:t*t}function tf(t){var e=t(Dd,Dd),i=1;function n(){return 1===i?t(Dd,Dd):.5===i?t($d,Jd):t(Qd(i),Qd(1/i))}return e.exponent=function(t){return arguments.length?(i=+t,n()):i},Bd(e)}function ef(){var t=tf(Fd());return t.copy=function(){return Id(t,ef()).exponent(t.exponent())},_d.apply(t,arguments),t}var nf=new Date,rf=new Date;function sf(t,e,i,n){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(i){return t(i=new Date(i-1)),e(i,1),t(i),i},r.round=function(t){var e=r(t),i=r.ceil(t);return t-e<i-t?e:i},r.offset=function(t,i){return e(t=new Date(+t),null==i?1:Math.floor(i)),t},r.range=function(i,n,s){var o,a=[];if(i=r.ceil(i),s=null==s?1:Math.floor(s),!(i<n&&s>0))return a;do{a.push(o=new Date(+i)),e(i,s),t(i)}while(o<i&&i<n);return a},r.filter=function(i){return sf(function(e){if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)},function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;e(t,-1),!i(t););else for(;--n>=0;)for(;e(t,1),!i(t););})},i&&(r.count=function(e,n){return nf.setTime(+e),rf.setTime(+n),t(nf),t(rf),Math.floor(i(nf,rf))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(n?function(e){return n(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var of=sf(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});of.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?sf(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t}):of:null};var af=of.range,hf=6e4,lf=6048e5,uf=sf(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),cf=uf.range,df=sf(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*hf)},function(t,e){return(e-t)/hf},function(t){return t.getMinutes()}),ff=df.range,pf=sf(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*hf)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),gf=pf.range,mf=sf(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hf)/864e5},function(t){return t.getDate()-1}),vf=mf.range;function yf(t){return sf(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hf)/lf})}var bf=yf(0),_f=yf(1),wf=yf(2),xf=yf(3),Sf=yf(4),kf=yf(5),Cf=yf(6),Af=bf.range,Tf=_f.range,Mf=wf.range,Ef=xf.range,Df=Sf.range,Pf=kf.range,Of=Cf.range,Nf=sf(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Lf=Nf.range,If=sf(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});If.every=function(t){return isFinite(t=Math.floor(t))&&t>0?sf(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)}):null};var Ff=If.range,Rf=sf(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*hf)},function(t,e){return(e-t)/hf},function(t){return t.getUTCMinutes()}),zf=Rf.range,Bf=sf(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),jf=Bf.range,Hf=sf(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Yf=Hf.range;function Vf(t){return sf(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/lf})}var qf=Vf(0),Wf=Vf(1),Uf=Vf(2),Gf=Vf(3),Xf=Vf(4),Kf=Vf(5),Zf=Vf(6),Qf=qf.range,$f=Wf.range,Jf=Uf.range,tp=Gf.range,ep=Xf.range,ip=Kf.range,np=Zf.range,rp=sf(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),sp=rp.range,op=sf(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});op.every=function(t){return isFinite(t=Math.floor(t))&&t>0?sf(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)}):null};var ap=op.range;function hp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function up(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function cp(t){var e=t.dateTime,i=t.date,n=t.time,r=t.periods,s=t.days,o=t.shortDays,a=t.months,h=t.shortMonths,l=bp(r),u=_p(r),c=bp(s),d=_p(s),f=bp(o),p=_p(o),g=bp(a),m=_p(a),v=bp(h),y=_p(h),b={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:jp,e:jp,f:Wp,H:Hp,I:Yp,j:Vp,L:qp,m:Up,M:Gp,p:function(t){return r[+(t.getHours()>=12)]},Q:wg,s:xg,S:Xp,u:Kp,U:Zp,V:Qp,w:$p,W:Jp,x:null,X:null,y:tg,Y:eg,Z:ig,"%":_g},_={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:ng,e:ng,f:hg,H:rg,I:sg,j:og,L:ag,m:lg,M:ug,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:wg,s:xg,S:cg,u:dg,U:fg,V:pg,w:gg,W:mg,x:null,X:null,y:vg,Y:yg,Z:bg,"%":_g},w={a:function(t,e,i){var n=f.exec(e.slice(i));return n?(t.w=p[n[0].toLowerCase()],i+n[0].length):-1},A:function(t,e,i){var n=c.exec(e.slice(i));return n?(t.w=d[n[0].toLowerCase()],i+n[0].length):-1},b:function(t,e,i){var n=v.exec(e.slice(i));return n?(t.m=y[n[0].toLowerCase()],i+n[0].length):-1},B:function(t,e,i){var n=g.exec(e.slice(i));return n?(t.m=m[n[0].toLowerCase()],i+n[0].length):-1},c:function(t,i,n){return k(t,e,i,n)},d:Dp,e:Dp,f:Fp,H:Op,I:Op,j:Pp,L:Ip,m:Ep,M:Np,p:function(t,e,i){var n=l.exec(e.slice(i));return n?(t.p=u[n[0].toLowerCase()],i+n[0].length):-1},Q:zp,s:Bp,S:Lp,u:xp,U:Sp,V:kp,w:wp,W:Cp,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,i){return k(t,n,e,i)},y:Tp,Y:Ap,Z:Mp,"%":Rp};function x(t,e){return function(i){var n,r,s,o=[],a=-1,h=0,l=t.length;for(i instanceof Date||(i=new Date(+i));++a<l;)37===t.charCodeAt(a)&&(o.push(t.slice(h,a)),null!=(r=fp[n=t.charAt(++a)])?n=t.charAt(++a):r="e"===n?" ":"0",(s=e[n])&&(n=s(i,r)),o.push(n),h=a+1);return o.push(t.slice(h,a)),o.join("")}}function S(t,e){return function(i){var n,r,s=up(1900);if(k(s,t,i+="",0)!=i.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(n=lp(up(s.y))).getUTCDay(),n=r>4||0===r?Wf.ceil(n):Wf(n),n=Hf.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(r=(n=e(up(s.y))).getDay(),n=r>4||0===r?_f.ceil(n):_f(n),n=mf.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),r="Z"in s?lp(up(s.y)).getUTCDay():e(up(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(r+5)%7:s.w+7*s.U-(r+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,lp(s)):e(s)}}function k(t,e,i,n){for(var r,s,o=0,a=e.length,h=i.length;o<a;){if(n>=h)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(s=w[r in fp?e.charAt(o++):r])||(n=s(t,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}return b.x=x(i,b),b.X=x(n,b),b.c=x(e,b),_.x=x(i,_),_.X=x(n,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",hp);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t,lp);return e.toString=function(){return t},e}}}var dp,fp={"-":"",_:" ",0:"0"},pp=/^\s*\d+/,gp=/^%/,mp=/[\\^$*+?|[\]().{}]/g;function vp(t,e,i){var n=t<0?"-":"",r=(n?-t:t)+"",s=r.length;return n+(s<i?new Array(i-s+1).join(e)+r:r)}function yp(t){return t.replace(mp,"\\$&")}function bp(t){return new RegExp("^(?:"+t.map(yp).join("|")+")","i")}function _p(t){for(var e={},i=-1,n=t.length;++i<n;)e[t[i].toLowerCase()]=i;return e}function wp(t,e,i){var n=pp.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function xp(t,e,i){var n=pp.exec(e.slice(i,i+1));return n?(t.u=+n[0],i+n[0].length):-1}function Sp(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.U=+n[0],i+n[0].length):-1}function kp(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.V=+n[0],i+n[0].length):-1}function Cp(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.W=+n[0],i+n[0].length):-1}function Ap(t,e,i){var n=pp.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function Tp(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function Mp(t,e,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function Ep(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function Dp(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function Pp(t,e,i){var n=pp.exec(e.slice(i,i+3));return n?(t.m=0,t.d=+n[0],i+n[0].length):-1}function Op(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function Np(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function Lp(t,e,i){var n=pp.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function Ip(t,e,i){var n=pp.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function Fp(t,e,i){var n=pp.exec(e.slice(i,i+6));return n?(t.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function Rp(t,e,i){var n=gp.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function zp(t,e,i){var n=pp.exec(e.slice(i));return n?(t.Q=+n[0],i+n[0].length):-1}function Bp(t,e,i){var n=pp.exec(e.slice(i));return n?(t.Q=1e3*+n[0],i+n[0].length):-1}function jp(t,e){return vp(t.getDate(),e,2)}function Hp(t,e){return vp(t.getHours(),e,2)}function Yp(t,e){return vp(t.getHours()%12||12,e,2)}function Vp(t,e){return vp(1+mf.count(If(t),t),e,3)}function qp(t,e){return vp(t.getMilliseconds(),e,3)}function Wp(t,e){return qp(t,e)+"000"}function Up(t,e){return vp(t.getMonth()+1,e,2)}function Gp(t,e){return vp(t.getMinutes(),e,2)}function Xp(t,e){return vp(t.getSeconds(),e,2)}function Kp(t){var e=t.getDay();return 0===e?7:e}function Zp(t,e){return vp(bf.count(If(t),t),e,2)}function Qp(t,e){var i=t.getDay();return t=i>=4||0===i?Sf(t):Sf.ceil(t),vp(Sf.count(If(t),t)+(4===If(t).getDay()),e,2)}function $p(t){return t.getDay()}function Jp(t,e){return vp(_f.count(If(t),t),e,2)}function tg(t,e){return vp(t.getFullYear()%100,e,2)}function eg(t,e){return vp(t.getFullYear()%1e4,e,4)}function ig(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vp(e/60|0,"0",2)+vp(e%60,"0",2)}function ng(t,e){return vp(t.getUTCDate(),e,2)}function rg(t,e){return vp(t.getUTCHours(),e,2)}function sg(t,e){return vp(t.getUTCHours()%12||12,e,2)}function og(t,e){return vp(1+Hf.count(op(t),t),e,3)}function ag(t,e){return vp(t.getUTCMilliseconds(),e,3)}function hg(t,e){return ag(t,e)+"000"}function lg(t,e){return vp(t.getUTCMonth()+1,e,2)}function ug(t,e){return vp(t.getUTCMinutes(),e,2)}function cg(t,e){return vp(t.getUTCSeconds(),e,2)}function dg(t){var e=t.getUTCDay();return 0===e?7:e}function fg(t,e){return vp(qf.count(op(t),t),e,2)}function pg(t,e){var i=t.getUTCDay();return t=i>=4||0===i?Xf(t):Xf.ceil(t),vp(Xf.count(op(t),t)+(4===op(t).getUTCDay()),e,2)}function gg(t){return t.getUTCDay()}function mg(t,e){return vp(Wf.count(op(t),t),e,2)}function vg(t,e){return vp(t.getUTCFullYear()%100,e,2)}function yg(t,e){return vp(t.getUTCFullYear()%1e4,e,4)}function bg(){return"+0000"}function _g(){return"%"}function wg(t){return+t}function xg(t){return Math.floor(+t/1e3)}function Sg(e){return dp=cp(e),t.timeFormat=dp.format,t.timeParse=dp.parse,t.utcFormat=dp.utcFormat,t.utcParse=dp.utcParse,dp}Sg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var kg=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Cg=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Ag=1e3,Tg=60*Ag,Mg=60*Tg,Eg=24*Mg,Dg=7*Eg,Pg=30*Eg,Og=365*Eg;function Ng(t){return new Date(t)}function Lg(t){return t instanceof Date?+t:+new Date(+t)}function Ig(t,e,n,r,s,o,a,h,l){var u=Rd(Dd,Dd),c=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),_=l("%Y"),w=[[a,1,Ag],[a,5,5*Ag],[a,15,15*Ag],[a,30,30*Ag],[o,1,Tg],[o,5,5*Tg],[o,15,15*Tg],[o,30,30*Tg],[s,1,Mg],[s,3,3*Mg],[s,6,6*Mg],[s,12,12*Mg],[r,1,Eg],[r,2,2*Eg],[n,1,Dg],[e,1,Pg],[e,3,3*Pg],[t,1,Og]];function S(i){return(a(i)<i?f:o(i)<i?p:s(i)<i?g:r(i)<i?m:e(i)<i?n(i)<i?v:y:t(i)<i?b:_)(i)}function k(e,n,r,s){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,a=i(function(t){return t[2]}).right(w,o);a===w.length?(s=x(n/Og,r/Og,e),e=t):a?(s=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],e=a[0]):(s=Math.max(x(n,r,e),1),e=h)}return null==s?e:e.every(s)}return u.invert=function(t){return new Date(c(t))},u.domain=function(t){return arguments.length?d(Sd.call(t,Lg)):d().map(Ng)},u.ticks=function(t,e){var i,n=d(),r=n[0],s=n[n.length-1],o=s<r;return o&&(i=r,r=s,s=i),i=(i=k(t,r,s,e))?i.range(r,s+1):[],o?i.reverse():i},u.tickFormat=function(t,e){return null==e?S:l(e)},u.nice=function(t,e){var i=d();return(t=k(t,i[0],i[i.length-1],e))?d(jd(i,t)):u},u.copy=function(){return Id(u,Ig(t,e,n,r,s,o,a,h,l))},u}function Fg(){var t,e,i,n,r,s=0,o=1,a=Dd,h=!1;function l(e){return isNaN(e=+e)?r:a(0===i?.5:(e=(n(e)-t)*i,h?Math.max(0,Math.min(1,e)):e))}return l.domain=function(r){return arguments.length?(t=n(s=+r[0]),e=n(o=+r[1]),i=t===e?0:1/(e-t),l):[s,o]},l.clamp=function(t){return arguments.length?(h=!!t,l):h},l.interpolator=function(t){return arguments.length?(a=t,l):a},l.unknown=function(t){return arguments.length?(r=t,l):r},function(r){return n=r,t=r(s),e=r(o),i=t===e?0:1/(e-t),l}}function Rg(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zg(){var t=tf(Fg());return t.copy=function(){return Rg(t,zg()).exponent(t.exponent())},wd.apply(t,arguments)}function Bg(){var t,e,i,n,r,s,o,a=0,h=.5,l=1,u=Dd,c=!1;function d(t){return isNaN(t=+t)?o:(t=.5+((t=+s(t))-e)*(t<e?n:r),u(c?Math.max(0,Math.min(1,t)):t))}return d.domain=function(o){return arguments.length?(t=s(a=+o[0]),e=s(h=+o[1]),i=s(l=+o[2]),n=t===e?0:.5/(e-t),r=e===i?0:.5/(i-e),d):[a,h,l]},d.clamp=function(t){return arguments.length?(c=!!t,d):c},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return s=o,t=o(a),e=o(h),i=o(l),n=t===e?0:.5/(e-t),r=e===i?0:.5/(i-e),d}}function jg(){var t=tf(Bg());return t.copy=function(){return Rg(t,jg()).exponent(t.exponent())},wd.apply(t,arguments)}function Hg(t){for(var e=t.length/6|0,i=new Array(e),n=0;n<e;)i[n]="#"+t.slice(6*n,6*++n);return i}var Yg=Hg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Vg=Hg("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),qg=Hg("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Wg=Hg("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ug=Hg("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Gg=Hg("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Xg=Hg("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Kg=Hg("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Zg=Hg("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Qg=Hg("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function $g(t){return di(t[t.length-1])}var Jg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Hg),tm=$g(Jg),em=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Hg),im=$g(em),nm=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Hg),rm=$g(nm),sm=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Hg),om=$g(sm),am=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Hg),hm=$g(am),lm=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Hg),um=$g(lm),cm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Hg),dm=$g(cm),fm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Hg),pm=$g(fm),gm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Hg),mm=$g(gm),vm=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Hg),ym=$g(vm),bm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Hg),_m=$g(bm),wm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Hg),xm=$g(wm),Sm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Hg),km=$g(Sm),Cm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Hg),Am=$g(Cm),Tm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Hg),Mm=$g(Tm),Em=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Hg),Dm=$g(Em),Pm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Hg),Om=$g(Pm),Nm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Hg),Lm=$g(Nm),Im=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Hg),Fm=$g(Im),Rm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Hg),zm=$g(Rm),Bm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Hg),jm=$g(Bm),Hm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Hg),Ym=$g(Hm),Vm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Hg),qm=$g(Vm),Wm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Hg),Um=$g(Wm),Gm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Hg),Xm=$g(Gm),Km=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Hg),Zm=$g(Km),Qm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Hg),$m=$g(Qm),Jm=Ki(ei(300,.5,0),ei(-240,.5,1)),tv=Ki(ei(-100,.75,.35),ei(80,1.5,.8)),ev=Ki(ei(260,.75,.35),ei(80,1.5,.8)),iv=ei(),nv=ye(),rv=Math.PI/3,sv=2*Math.PI/3;function ov(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var av=ov(Hg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),hv=ov(Hg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),lv=ov(Hg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),uv=ov(Hg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function cv(t){return function(){return t}}var dv=Math.abs,fv=Math.atan2,pv=Math.cos,gv=Math.max,mv=Math.min,vv=Math.sin,yv=Math.sqrt,bv=1e-12,_v=Math.PI,wv=_v/2,xv=2*_v;function Sv(t){return t>=1?wv:t<=-1?-wv:Math.asin(t)}function kv(t){return t.innerRadius}function Cv(t){return t.outerRadius}function Av(t){return t.startAngle}function Tv(t){return t.endAngle}function Mv(t){return t&&t.padAngle}function Ev(t,e,i,n,r,s,o){var a=t-i,h=e-n,l=(o?s:-s)/yv(a*a+h*h),u=l*h,c=-l*a,d=t+u,f=e+c,p=i+u,g=n+c,m=(d+p)/2,v=(f+g)/2,y=p-d,b=g-f,_=y*y+b*b,w=r-s,x=d*g-p*f,S=(b<0?-1:1)*yv(gv(0,w*w*_-x*x)),k=(x*b-y*S)/_,C=(-x*y-b*S)/_,A=(x*b+y*S)/_,T=(-x*y+b*S)/_,M=k-m,E=C-v,D=A-m,P=T-v;return M*M+E*E>D*D+P*P&&(k=A,C=T),{cx:k,cy:C,x01:-u,y01:-c,x11:k*(r/w-1),y11:C*(r/w-1)}}function Dv(t){this._context=t}function Pv(t){return new Dv(t)}function Ov(t){return t[0]}function Nv(t){return t[1]}function Lv(){var t=Ov,e=Nv,i=cv(!0),n=null,r=Pv,s=null;function o(o){var a,h,l,u=o.length,c=!1;for(null==n&&(s=r(l=$r())),a=0;a<=u;++a)!(a<u&&i(h=o[a],a,o))===c&&((c=!c)?s.lineStart():s.lineEnd()),c&&s.point(+t(h,a,o),+e(h,a,o));if(l)return s=null,l+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:cv(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:cv(+t),o):e},o.defined=function(t){return arguments.length?(i="function"==typeof t?t:cv(!!t),o):i},o.curve=function(t){return arguments.length?(r=t,null!=n&&(s=r(n)),o):r},o.context=function(t){return arguments.length?(null==t?n=s=null:s=r(n=t),o):n},o}function Iv(){var t=Ov,e=null,i=cv(0),n=Nv,r=cv(!0),s=null,o=Pv,a=null;function h(h){var l,u,c,d,f,p=h.length,g=!1,m=new Array(p),v=new Array(p);for(null==s&&(a=o(f=$r())),l=0;l<=p;++l){if(!(l<p&&r(d=h[l],l,h))===g)if(g=!g)u=l,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),c=l-1;c>=u;--c)a.point(m[c],v[c]);a.lineEnd(),a.areaEnd()}g&&(m[l]=+t(d,l,h),v[l]=+i(d,l,h),a.point(e?+e(d,l,h):m[l],n?+n(d,l,h):v[l]))}if(f)return a=null,f+""||null}function l(){return Lv().defined(r).curve(o).context(s)}return h.x=function(i){return arguments.length?(t="function"==typeof i?i:cv(+i),e=null,h):t},h.x0=function(e){return arguments.length?(t="function"==typeof e?e:cv(+e),h):t},h.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:cv(+t),h):e},h.y=function(t){return arguments.length?(i="function"==typeof t?t:cv(+t),n=null,h):i},h.y0=function(t){return arguments.length?(i="function"==typeof t?t:cv(+t),h):i},h.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:cv(+t),h):n},h.lineX0=h.lineY0=function(){return l().x(t).y(i)},h.lineY1=function(){return l().x(t).y(n)},h.lineX1=function(){return l().x(e).y(i)},h.defined=function(t){return arguments.length?(r="function"==typeof t?t:cv(!!t),h):r},h.curve=function(t){return arguments.length?(o=t,null!=s&&(a=o(s)),h):o},h.context=function(t){return arguments.length?(null==t?s=a=null:a=o(s=t),h):s},h}function Fv(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Rv(t){return t}Dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var zv=jv(Pv);function Bv(t){this._curve=t}function jv(t){function e(e){return new Bv(t(e))}return e._curve=t,e}function Hv(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(jv(t)):e()._curve},t}function Yv(){return Hv(Lv().curve(zv))}function Vv(){var t=Iv().curve(zv),e=t.curve,i=t.lineX0,n=t.lineX1,r=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Hv(i())},delete t.lineX0,t.lineEndAngle=function(){return Hv(n())},delete t.lineX1,t.lineInnerRadius=function(){return Hv(r())},delete t.lineY0,t.lineOuterRadius=function(){return Hv(s())},delete t.lineY1,t.curve=function(t){return arguments.length?e(jv(t)):e()._curve},t}function qv(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Bv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Wv=Array.prototype.slice;function Uv(t){return t.source}function Gv(t){return t.target}function Xv(t){var e=Uv,i=Gv,n=Ov,r=Nv,s=null;function o(){var o,a=Wv.call(arguments),h=e.apply(this,a),l=i.apply(this,a);if(s||(s=o=$r()),t(s,+n.apply(this,(a[0]=h,a)),+r.apply(this,a),+n.apply(this,(a[0]=l,a)),+r.apply(this,a)),o)return s=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(i=t,o):i},o.x=function(t){return arguments.length?(n="function"==typeof t?t:cv(+t),o):n},o.y=function(t){return arguments.length?(r="function"==typeof t?t:cv(+t),o):r},o.context=function(t){return arguments.length?(s=null==t?null:t,o):s},o}function Kv(t,e,i,n,r){t.moveTo(e,i),t.bezierCurveTo(e=(e+n)/2,i,e,r,n,r)}function Zv(t,e,i,n,r){t.moveTo(e,i),t.bezierCurveTo(e,i=(i+r)/2,n,i,n,r)}function Qv(t,e,i,n,r){var s=qv(e,i),o=qv(e,i=(i+r)/2),a=qv(n,i),h=qv(n,r);t.moveTo(s[0],s[1]),t.bezierCurveTo(o[0],o[1],a[0],a[1],h[0],h[1])}var $v={draw:function(t,e){var i=Math.sqrt(e/_v);t.moveTo(i,0),t.arc(0,0,i,0,xv)}},Jv={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},ty=Math.sqrt(1/3),ey=2*ty,iy={draw:function(t,e){var i=Math.sqrt(e/ey),n=i*ty;t.moveTo(0,-i),t.lineTo(n,0),t.lineTo(0,i),t.lineTo(-n,0),t.closePath()}},ny=Math.sin(_v/10)/Math.sin(7*_v/10),ry=Math.sin(xv/10)*ny,sy=-Math.cos(xv/10)*ny,oy={draw:function(t,e){var i=Math.sqrt(.8908130915292852*e),n=ry*i,r=sy*i;t.moveTo(0,-i),t.lineTo(n,r);for(var s=1;s<5;++s){var o=xv*s/5,a=Math.cos(o),h=Math.sin(o);t.lineTo(h*i,-a*i),t.lineTo(a*n-h*r,h*n+a*r)}t.closePath()}},ay={draw:function(t,e){var i=Math.sqrt(e),n=-i/2;t.rect(n,n,i,i)}},hy=Math.sqrt(3),ly={draw:function(t,e){var i=-Math.sqrt(e/(3*hy));t.moveTo(0,2*i),t.lineTo(-hy*i,-i),t.lineTo(hy*i,-i),t.closePath()}},uy=Math.sqrt(3)/2,cy=1/Math.sqrt(12),dy=3*(cy/2+1),fy={draw:function(t,e){var i=Math.sqrt(e/dy),n=i/2,r=i*cy,s=n,o=i*cy+i,a=-s,h=o;t.moveTo(n,r),t.lineTo(s,o),t.lineTo(a,h),t.lineTo(-.5*n-uy*r,uy*n+-.5*r),t.lineTo(-.5*s-uy*o,uy*s+-.5*o),t.lineTo(-.5*a-uy*h,uy*a+-.5*h),t.lineTo(-.5*n+uy*r,-.5*r-uy*n),t.lineTo(-.5*s+uy*o,-.5*o-uy*s),t.lineTo(-.5*a+uy*h,-.5*h-uy*a),t.closePath()}},py=[$v,Jv,iy,ay,oy,ly,fy];function gy(){}function my(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function vy(t){this._context=t}function yy(t){this._context=t}function by(t){this._context=t}function _y(t,e){this._basis=new vy(t),this._beta=e}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:my(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:my(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},yy.prototype={areaStart:gy,areaEnd:gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:my(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:my(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_y.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var n,r=t[0],s=e[0],o=t[i]-r,a=e[i]-s,h=-1;++h<=i;)this._basis.point(this._beta*t[h]+(1-this._beta)*(r+(n=h/i)*o),this._beta*e[h]+(1-this._beta)*(s+n*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var wy=function t(e){function i(t){return 1===e?new vy(t):new _y(t,e)}return i.beta=function(e){return t(+e)},i}(.85);function xy(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Sy(t,e){this._context=t,this._k=(1-e)/6}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:xy(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ky=function t(e){function i(t){return new Sy(t,e)}return i.tension=function(e){return t(+e)},i}(0);function Cy(t,e){this._context=t,this._k=(1-e)/6}Cy.prototype={areaStart:gy,areaEnd:gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xy(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ay=function t(e){function i(t){return new Cy(t,e)}return i.tension=function(e){return t(+e)},i}(0);function Ty(t,e){this._context=t,this._k=(1-e)/6}Ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xy(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var My=function t(e){function i(t){return new Ty(t,e)}return i.tension=function(e){return t(+e)},i}(0);function Ey(t,e,i){var n=t._x1,r=t._y1,s=t._x2,o=t._y2;if(t._l01_a>bv){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>bv){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*l+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*l+t._y1*t._l23_2a-i*t._l12_2a)/u}t._context.bezierCurveTo(n,r,s,o,t._x2,t._y2)}function Dy(t,e){this._context=t,this._alpha=e}Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ey(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Py=function t(e){function i(t){return e?new Dy(t,e):new Sy(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Oy(t,e){this._context=t,this._alpha=e}Oy.prototype={areaStart:gy,areaEnd:gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ey(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ny=function t(e){function i(t){return e?new Oy(t,e):new Cy(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Ly(t,e){this._context=t,this._alpha=e}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ey(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Iy=function t(e){function i(t){return e?new Ly(t,e):new Ty(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Fy(t){this._context=t}function Ry(t){return t<0?-1:1}function zy(t,e,i){var n=t._x1-t._x0,r=e-t._x1,s=(t._y1-t._y0)/(n||r<0&&-0),o=(i-t._y1)/(r||n<0&&-0),a=(s*r+o*n)/(n+r);return(Ry(s)+Ry(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function By(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function jy(t,e,i){var n=t._x0,r=t._x1,s=t._y1,o=(r-n)/3;t._context.bezierCurveTo(n+o,t._y0+o*e,r-o,s-o*i,r,s)}function Hy(t){this._context=t}function Yy(t){this._context=new Vy(t)}function Vy(t){this._context=t}function qy(t){this._context=t}function Wy(t){var e,i,n=t.length-1,r=new Array(n),s=new Array(n),o=new Array(n);for(r[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)s[e]-=i=r[e]/s[e-1],o[e]-=i*o[e-1];for(r[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-r[e+1];return[r,s]}function Uy(t,e){this._context=t,this._t=e}function Gy(t,e){if((r=t.length)>1)for(var i,n,r,s=1,o=t[e[0]],a=o.length;s<r;++s)for(n=o,o=t[e[s]],i=0;i<a;++i)o[i][1]+=o[i][0]=isNaN(n[i][1])?n[i][0]:n[i][1]}function Xy(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function Ky(t,e){return t[e]}function Zy(t){var e=t.map(Qy);return Xy(t).sort(function(t,i){return e[t]-e[i]})}function Qy(t){for(var e,i=-1,n=0,r=t.length,s=-1/0;++i<r;)(e=+t[i][1])>s&&(s=e,n=i);return n}function $y(t){var e=t.map(Jy);return Xy(t).sort(function(t,i){return e[t]-e[i]})}function Jy(t){for(var e,i=0,n=-1,r=t.length;++n<r;)(e=+t[n][1])&&(i+=e);return i}function tb(t){return function(){return t}}function eb(t){return t[0]}function ib(t){return t[1]}function nb(){this._=null}function rb(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function sb(t,e){var i=e,n=e.R,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function ob(t,e){var i=e,n=e.L,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function ab(t){for(;t.L;)t=t.L;return t}function hb(t,e,i,n){var r=[null,null],s=Ob.push(r)-1;return r.left=t,r.right=e,i&&ub(r,t,e,i),n&&ub(r,e,t,n),Db[t.index].halfedges.push(s),Db[e.index].halfedges.push(s),r}function lb(t,e,i){var n=[e,i];return n.left=t,n}function ub(t,e,i,n){t[0]||t[1]?t.left===i?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=i)}function cb(t,e,i,n,r){var s,o=t[0],a=t[1],h=o[0],l=o[1],u=0,c=1,d=a[0]-h,f=a[1]-l;if(s=e-h,d||!(s>0)){if(s/=d,d<0){if(s<u)return;s<c&&(c=s)}else if(d>0){if(s>c)return;s>u&&(u=s)}if(s=n-h,d||!(s<0)){if(s/=d,d<0){if(s>c)return;s>u&&(u=s)}else if(d>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>u&&(u=s)}if(s=r-l,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<c&&(c=s)}return!(u>0||c<1)||(u>0&&(t[0]=[h+u*d,l+u*f]),c<1&&(t[1]=[h+c*d,l+c*f]),!0)}}}}}function db(t,e,i,n,r){var s=t[1];if(s)return!0;var o,a,h=t[0],l=t.left,u=t.right,c=l[0],d=l[1],f=u[0],p=u[1],g=(c+f)/2;if(p===d){if(g<e||g>=n)return;if(c>f){if(h){if(h[1]>=r)return}else h=[g,i];s=[g,r]}else{if(h){if(h[1]<i)return}else h=[g,r];s=[g,i]}}else if(a=(d+p)/2-(o=(c-f)/(p-d))*g,o<-1||o>1)if(c>f){if(h){if(h[1]>=r)return}else h=[(i-a)/o,i];s=[(r-a)/o,r]}else{if(h){if(h[1]<i)return}else h=[(r-a)/o,r];s=[(i-a)/o,i]}else if(d<p){if(h){if(h[0]>=n)return}else h=[e,o*e+a];s=[n,o*n+a]}else{if(h){if(h[0]<e)return}else h=[n,o*n+a];s=[e,o*e+a]}return t[0]=h,t[1]=s,!0}function fb(t,e){var i=t.site,n=e.left,r=e.right;return i===r&&(r=n,n=i),r?Math.atan2(r[1]-n[1],r[0]-n[0]):(i===n?(n=e[1],r=e[0]):(n=e[0],r=e[1]),Math.atan2(n[0]-r[0],r[1]-n[1]))}function pb(t,e){return e[+(e.left!==t.site)]}function gb(t,e){return e[+(e.left===t.site)]}Fy.prototype={areaStart:gy,areaEnd:gy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jy(this,this._t0,By(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jy(this,By(this,i=zy(this,t,e)),i);break;default:jy(this,this._t0,i=zy(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(Yy.prototype=Object.create(Hy.prototype)).point=function(t,e){Hy.prototype.point.call(this,e,t)},Vy.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,n,r,s){this._context.bezierCurveTo(e,t,n,i,s,r)}},qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var n=Wy(t),r=Wy(e),s=0,o=1;o<i;++s,++o)this._context.bezierCurveTo(n[0][s],r[0][s],n[1][s],r[1][s],t[o],e[o]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}},nb.prototype={constructor:nb,insert:function(t,e){var i,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=ab(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)i===(n=i.U).L?(r=n.R)&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.R&&(sb(this,i),i=(t=i).U),i.C=!1,n.C=!0,ob(this,n)):(r=n.L)&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.L&&(ob(this,i),i=(t=i).U),i.C=!1,n.C=!0,sb(this,n)),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,r=t.U,s=t.L,o=t.R;if(i=s?o?ab(o):s:o,r?r.L===t?r.L=i:r.R=i:this._=i,s&&o?(n=i.C,i.C=t.C,i.L=s,s.U=i,i!==o?(r=i.U,i.U=t.U,r.L=t=i.R,i.R=o,o.U=i):(i.U=r,r=i,t=i.R)):(n=t.C,t=i),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,sb(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ob(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,sb(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,ob(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,sb(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ob(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var mb,vb=[];function yb(){rb(this),this.x=this.y=this.arc=this.site=this.cy=null}function bb(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,r=t.site,s=i.site;if(n!==s){var o=r[0],a=r[1],h=n[0]-o,l=n[1]-a,u=s[0]-o,c=s[1]-a,d=2*(h*c-l*u);if(!(d>=-Lb)){var f=h*h+l*l,p=u*u+c*c,g=(c*f-l*p)/d,m=(h*p-u*f)/d,v=vb.pop()||new yb;v.arc=t,v.site=r,v.x=g+o,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,b=Pb._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Pb.insert(y,v),y||(mb=v)}}}}function _b(t){var e=t.circle;e&&(e.P||(mb=e.N),Pb.remove(e),vb.push(e),rb(e),t.circle=null)}var wb=[];function xb(){rb(this),this.edge=this.site=this.circle=null}function Sb(t){var e=wb.pop()||new xb;return e.site=t,e}function kb(t){_b(t),Eb.remove(t),wb.push(t),rb(t)}function Cb(t){var e=t.circle,i=e.x,n=e.cy,r=[i,n],s=t.P,o=t.N,a=[t];kb(t);for(var h=s;h.circle&&Math.abs(i-h.circle.x)<Nb&&Math.abs(n-h.circle.cy)<Nb;)s=h.P,a.unshift(h),kb(h),h=s;a.unshift(h),_b(h);for(var l=o;l.circle&&Math.abs(i-l.circle.x)<Nb&&Math.abs(n-l.circle.cy)<Nb;)o=l.N,a.push(l),kb(l),l=o;a.push(l),_b(l);var u,c=a.length;for(u=1;u<c;++u)ub((l=a[u]).edge,(h=a[u-1]).site,l.site,r);(l=a[c-1]).edge=hb((h=a[0]).site,l.site,null,r),bb(h),bb(l)}function Ab(t){for(var e,i,n,r,s=t[0],o=t[1],a=Eb._;a;)if((n=Tb(a,o)-s)>Nb)a=a.L;else{if(!((r=s-Mb(a,o))>Nb)){n>-Nb?(e=a.P,i=a):r>-Nb?(e=a,i=a.N):e=i=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Db[t.index]={site:t,halfedges:[]}}(t);var h=Sb(t);if(Eb.insert(e,h),e||i){if(e===i)return _b(e),i=Sb(e.site),Eb.insert(h,i),h.edge=i.edge=hb(e.site,h.site),bb(e),void bb(i);if(i){_b(e),_b(i);var l=e.site,u=l[0],c=l[1],d=t[0]-u,f=t[1]-c,p=i.site,g=p[0]-u,m=p[1]-c,v=2*(d*m-f*g),y=d*d+f*f,b=g*g+m*m,_=[(m*y-f*b)/v+u,(d*b-g*y)/v+c];ub(i.edge,l,p,_),h.edge=hb(l,t,null,_),i.edge=hb(t,p,null,_),bb(e),bb(i)}else h.edge=hb(e.site,h.site)}}function Tb(t,e){var i=t.site,n=i[0],r=i[1],s=r-e;if(!s)return n;var o=t.P;if(!o)return-1/0;var a=(i=o.site)[0],h=i[1],l=h-e;if(!l)return a;var u=a-n,c=1/s-1/l,d=u/l;return c?(-d+Math.sqrt(d*d-2*c*(u*u/(-2*l)-h+l/2+r-s/2)))/c+n:(n+a)/2}function Mb(t,e){var i=t.N;if(i)return Tb(i,e);var n=t.site;return n[1]===e?n[0]:1/0}var Eb,Db,Pb,Ob,Nb=1e-6,Lb=1e-12;function Ib(t,e,i){return(t[0]-i[0])*(e[1]-t[1])-(t[0]-e[0])*(i[1]-t[1])}function Fb(t,e){return e[1]-t[1]||e[0]-t[0]}function Rb(t,e){var i,n,r,s=t.sort(Fb).pop();for(Ob=[],Db=new Array(t.length),Eb=new nb,Pb=new nb;;)if(r=mb,s&&(!r||s[1]<r.y||s[1]===r.y&&s[0]<r.x))s[0]===i&&s[1]===n||(Ab(s),i=s[0],n=s[1]),s=t.pop();else{if(!r)break;Cb(r.arc)}if(function(){for(var t,e,i,n,r=0,s=Db.length;r<s;++r)if((t=Db[r])&&(n=(e=t.halfedges).length)){var o=new Array(n),a=new Array(n);for(i=0;i<n;++i)o[i]=i,a[i]=fb(t,Ob[e[i]]);for(o.sort(function(t,e){return a[e]-a[t]}),i=0;i<n;++i)a[i]=e[o[i]];for(i=0;i<n;++i)e[i]=a[i]}}(),e){var o=+e[0][0],a=+e[0][1],h=+e[1][0],l=+e[1][1];!function(t,e,i,n){for(var r,s=Ob.length;s--;)db(r=Ob[s],t,e,i,n)&&cb(r,t,e,i,n)&&(Math.abs(r[0][0]-r[1][0])>Nb||Math.abs(r[0][1]-r[1][1])>Nb)||delete Ob[s]}(o,a,h,l),function(t,e,i,n){var r,s,o,a,h,l,u,c,d,f,p,g,m=Db.length,v=!0;for(r=0;r<m;++r)if(s=Db[r]){for(o=s.site,a=(h=s.halfedges).length;a--;)Ob[h[a]]||h.splice(a,1);for(a=0,l=h.length;a<l;)p=(f=gb(s,Ob[h[a]]))[0],g=f[1],c=(u=pb(s,Ob[h[++a%l]]))[0],d=u[1],(Math.abs(p-c)>Nb||Math.abs(g-d)>Nb)&&(h.splice(a,0,Ob.push(lb(o,f,Math.abs(p-t)<Nb&&n-g>Nb?[t,Math.abs(c-t)<Nb?d:n]:Math.abs(g-n)<Nb&&i-p>Nb?[Math.abs(d-n)<Nb?c:i,n]:Math.abs(p-i)<Nb&&g-e>Nb?[i,Math.abs(c-i)<Nb?d:e]:Math.abs(g-e)<Nb&&p-t>Nb?[Math.abs(d-e)<Nb?c:t,e]:null))-1),++l);l&&(v=!1)}if(v){var y,b,_,w=1/0;for(r=0,v=null;r<m;++r)(s=Db[r])&&(_=(y=(o=s.site)[0]-t)*y+(b=o[1]-e)*b)<w&&(w=_,v=s);if(v){var x=[t,e],S=[t,n],k=[i,n],C=[i,e];v.halfedges.push(Ob.push(lb(o=v.site,x,S))-1,Ob.push(lb(o,S,k))-1,Ob.push(lb(o,k,C))-1,Ob.push(lb(o,C,x))-1)}}for(r=0;r<m;++r)(s=Db[r])&&(s.halfedges.length||delete Db[r])}(o,a,h,l)}this.edges=Ob,this.cells=Db,Eb=Pb=Ob=Db=null}function zb(t){return function(){return t}}function Bb(t,e,i){this.target=t,this.type=e,this.transform=i}function jb(t,e,i){this.k=t,this.x=e,this.y=i}Rb.prototype={constructor:Rb,polygons:function(){var t=this.edges;return this.cells.map(function(e){var i=e.halfedges.map(function(i){return pb(e,t[i])});return i.data=e.site.data,i})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(i,n){if(s=(r=i.halfedges).length)for(var r,s,o,a=i.site,h=-1,l=e[r[s-1]],u=l.left===a?l.right:l.left;++h<s;)o=u,u=(l=e[r[h]]).left===a?l.right:l.left,o&&u&&n<o.index&&n<u.index&&Ib(a,o,u)<0&&t.push([a.data,o.data,u.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,i){for(var n,r,s=this,o=s._found||0,a=s.cells.length;!(r=s.cells[o]);)if(++o>=a)return null;var h=t-r.site[0],l=e-r.site[1],u=h*h+l*l;do{r=s.cells[n=o],o=null,r.halfedges.forEach(function(i){var n=s.edges[i],a=n.left;if(a!==r.site&&a||(a=n.right)){var h=t-a[0],l=e-a[1],c=h*h+l*l;c<u&&(u=c,o=a.index)}})}while(null!==o);return s._found=n,null==i||u<=i*i?r.site:null}},jb.prototype={constructor:jb,scale:function(t){return 1===t?this:new jb(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new jb(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hb=new jb(1,0,0);function Yb(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Hb;return t.__zoom}function Vb(){t.event.stopImmediatePropagation()}function qb(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Wb(){return!t.event.ctrlKey&&!t.event.button}function Ub(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Gb(){return this.__zoom||Hb}function Xb(){return-t.event.deltaY*(1===t.event.deltaMode?.05:t.event.deltaMode?1:.002)}function Kb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zb(t,e,i){var n=t.invertX(e[0][0])-i[0][0],r=t.invertX(e[1][0])-i[1][0],s=t.invertY(e[0][1])-i[0][1],o=t.invertY(e[1][1])-i[1][1];return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}Yb.prototype=jb.prototype,t.FormatSpecifier=Do,t.active=function(t,e){var i,n,r=t.__transition;if(r)for(n in e=null==e?null:e+"",r)if((i=r[n]).state>yn&&i.name===e)return new Ln([[t]],pr,e,+n);return null},t.arc=function(){var t=kv,e=Cv,i=cv(0),n=null,r=Av,s=Tv,o=Mv,a=null;function h(){var h,l,u=+t.apply(this,arguments),c=+e.apply(this,arguments),d=r.apply(this,arguments)-wv,f=s.apply(this,arguments)-wv,p=dv(f-d),g=f>d;if(a||(a=h=$r()),c<u&&(l=c,c=u,u=l),c>bv)if(p>xv-bv)a.moveTo(c*pv(d),c*vv(d)),a.arc(0,0,c,d,f,!g),u>bv&&(a.moveTo(u*pv(f),u*vv(f)),a.arc(0,0,u,f,d,g));else{var m,v,y=d,b=f,_=d,w=f,x=p,S=p,k=o.apply(this,arguments)/2,C=k>bv&&(n?+n.apply(this,arguments):yv(u*u+c*c)),A=mv(dv(c-u)/2,+i.apply(this,arguments)),T=A,M=A;if(C>bv){var E=Sv(C/u*vv(k)),D=Sv(C/c*vv(k));(x-=2*E)>bv?(_+=E*=g?1:-1,w-=E):(x=0,_=w=(d+f)/2),(S-=2*D)>bv?(y+=D*=g?1:-1,b-=D):(S=0,y=b=(d+f)/2)}var P=c*pv(y),O=c*vv(y),N=u*pv(w),L=u*vv(w);if(A>bv){var I,F=c*pv(b),R=c*vv(b),z=u*pv(_),B=u*vv(_);if(p<_v&&(I=function(t,e,i,n,r,s,o,a){var h=z-P,l=B-O,u=N-F,c=L-R,d=c*h-u*l;if(!(d*d<bv))return[P+(d=(u*(O-R)-c*(P-F))/d)*h,O+d*l]}())){var j=P-I[0],H=O-I[1],Y=F-I[0],V=R-I[1],q=1/vv(function(t){return t>1?0:t<-1?_v:Math.acos(t)}((j*Y+H*V)/(yv(j*j+H*H)*yv(Y*Y+V*V)))/2),W=yv(I[0]*I[0]+I[1]*I[1]);T=mv(A,(u-W)/(q-1)),M=mv(A,(c-W)/(q+1))}}S>bv?M>bv?(m=Ev(z,B,P,O,c,M,g),v=Ev(F,R,N,L,c,M,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),M<A?a.arc(m.cx,m.cy,M,fv(m.y01,m.x01),fv(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,M,fv(m.y01,m.x01),fv(m.y11,m.x11),!g),a.arc(0,0,c,fv(m.cy+m.y11,m.cx+m.x11),fv(v.cy+v.y11,v.cx+v.x11),!g),a.arc(v.cx,v.cy,M,fv(v.y11,v.x11),fv(v.y01,v.x01),!g))):(a.moveTo(P,O),a.arc(0,0,c,y,b,!g)):a.moveTo(P,O),u>bv&&x>bv?T>bv?(m=Ev(N,L,F,R,u,-T,g),v=Ev(P,O,z,B,u,-T,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),T<A?a.arc(m.cx,m.cy,T,fv(m.y01,m.x01),fv(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,T,fv(m.y01,m.x01),fv(m.y11,m.x11),!g),a.arc(0,0,u,fv(m.cy+m.y11,m.cx+m.x11),fv(v.cy+v.y11,v.cx+v.x11),g),a.arc(v.cx,v.cy,T,fv(v.y11,v.x11),fv(v.y01,v.x01),!g))):a.arc(0,0,u,w,_,g):a.lineTo(N,L)}else a.moveTo(0,0);if(a.closePath(),h)return a=null,h+""||null}return h.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-_v/2;return[pv(n)*i,vv(n)*i]},h.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:cv(+e),h):t},h.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:cv(+t),h):e},h.cornerRadius=function(t){return arguments.length?(i="function"==typeof t?t:cv(+t),h):i},h.padRadius=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:cv(+t),h):n},h.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:cv(+t),h):r},h.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:cv(+t),h):s},h.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:cv(+t),h):o},h.context=function(t){return arguments.length?(a=null==t?null:t,h):a},h},t.area=Iv,t.areaRadial=Vv,t.ascending=e,t.autoType=function(t){for(var e in t){var i,n=t[e].trim();if(n)if("true"===n)n=!0;else if("false"===n)n=!1;else if("NaN"===n)n=NaN;else if(isNaN(i=+n)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(n))continue;n=new Date(n)}else n=i;else n=null;t[e]=n}return t},t.axisBottom=function(t){return j(L,t)},t.axisLeft=function(t){return j(I,t)},t.axisRight=function(t){return j(N,t)},t.axisTop=function(t){return j(O,t)},t.bisect=r,t.bisectLeft=s,t.bisectRight=r,t.bisector=i,t.blob=function(t,e){return fetch(t,e).then(Xs)},t.brush=function(){return zr(Tr)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.brushX=function(){return zr(Cr)},t.brushY=function(){return zr(Ar)},t.buffer=function(t,e){return fetch(t,e).then(Ks)},t.chord=function(){var t=0,e=null,i=null,n=null;function r(r){var s,o,a,h,l,u,c=r.length,d=[],f=m(c),p=[],g=[],v=g.groups=new Array(c),y=new Array(c*c);for(s=0,l=-1;++l<c;){for(o=0,u=-1;++u<c;)o+=r[l][u];d.push(o),p.push(m(c)),s+=o}for(e&&f.sort(function(t,i){return e(d[t],d[i])}),i&&p.forEach(function(t,e){t.sort(function(t,n){return i(r[e][t],r[e][n])})}),h=(s=qr(0,Vr-t*c)/s)?t:Vr/c,o=0,l=-1;++l<c;){for(a=o,u=-1;++u<c;){var b=f[l],_=p[b][u],w=r[b][_],x=o,S=o+=w*s;y[_*c+b]={index:b,subindex:_,startAngle:x,endAngle:S,value:w}}v[b]={index:b,startAngle:a,endAngle:o,value:d[b]},o+=h}for(l=-1;++l<c;)for(u=l-1;++u<c;){var k=y[u*c+l],C=y[l*c+u];(k.value||C.value)&&g.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}return n?g.sort(n):g}return r.padAngle=function(e){return arguments.length?(t=qr(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(i=t,r):i},r.sortChords=function(t){return arguments.length?(null==t?n=null:(n=Wr(t))._=t,r):n&&n._},r},t.clientPoint=zt,t.cluster=function(){var t=gc,e=1,i=1,n=!1;function r(r){var s,o=0;r.eachAfter(function(e){var i=e.children;i?(e.x=function(t){return t.reduce(mc,0)/t.length}(i),e.y=1+i.reduce(vc,0)):(e.x=s?o+=t(e,s):0,e.y=0,s=e)});var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),h=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),l=a.x-t(a,h)/2,u=h.x+t(h,a)/2;return r.eachAfter(n?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*i}:function(t){t.x=(t.x-l)/(u-l)*e,t.y=(1-(r.y?t.y/r.y:1))*i})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(n=!1,e=+t[0],i=+t[1],r):n?null:[e,i]},r.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],i=+t[1],r):n?[e,i]:null},r},t.color=pe,t.contourDensity=function(){var t=ks,e=Cs,i=As,n=960,r=500,s=20,o=2,a=3*s,h=n+2*a>>o,l=r+2*a>>o,u=gs(20);function c(n){var r=new Float32Array(h*l),c=new Float32Array(h*l);n.forEach(function(n,s,u){var c=+t(n,s,u)+a>>o,d=+e(n,s,u)+a>>o,f=+i(n,s,u);c>=0&&c<h&&d>=0&&d<l&&(r[c+d*h]+=f)}),xs({width:h,height:l,data:r},{width:h,height:l,data:c},s>>o),Ss({width:h,height:l,data:c},{width:h,height:l,data:r},s>>o),xs({width:h,height:l,data:r},{width:h,height:l,data:c},s>>o),Ss({width:h,height:l,data:c},{width:h,height:l,data:r},s>>o),xs({width:h,height:l,data:r},{width:h,height:l,data:c},s>>o),Ss({width:h,height:l,data:c},{width:h,height:l,data:r},s>>o);var f=u(r);if(!Array.isArray(f)){var p=C(r);f=x(0,p,f),(f=m(0,Math.floor(p/f)*f,f)).shift()}return ws().thresholds(f).size([h,l])(r).map(d)}function d(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,o)-a,t[1]=t[1]*Math.pow(2,o)-a}function v(){return h=n+2*(a=3*s)>>o,l=r+2*a>>o,c}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:gs(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:gs(+t),c):e},c.weight=function(t){return arguments.length?(i="function"==typeof t?t:gs(+t),c):i},c.size=function(t){if(!arguments.length)return[n,r];var e=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return n=e,r=i,v()},c.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),v()},c.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?gs(fs.call(t)):gs(t),c):u},c.bandwidth=function(t){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},c},t.contours=ws,t.create=function(t){return Nt(Z(t).call(document.documentElement))},t.creator=Z,t.cross=function(t,e,i){var n,r,s,a,h=t.length,l=e.length,u=new Array(h*l);for(null==i&&(i=o),n=s=0;n<h;++n)for(a=t[n],r=0;r<l;++r,++s)u[s]=i(a,e[r]);return u},t.csv=Js,t.csvFormat=Bs,t.csvFormatBody=js,t.csvFormatRows=Hs,t.csvParse=Rs,t.csvParseRows=zs,t.cubehelix=ei,t.curveBasis=function(t){return new vy(t)},t.curveBasisClosed=function(t){return new yy(t)},t.curveBasisOpen=function(t){return new by(t)},t.curveBundle=wy,t.curveCardinal=ky,t.curveCardinalClosed=Ay,t.curveCardinalOpen=My,t.curveCatmullRom=Py,t.curveCatmullRomClosed=Ny,t.curveCatmullRomOpen=Iy,t.curveLinear=Pv,t.curveLinearClosed=function(t){return new Fy(t)},t.curveMonotoneX=function(t){return new Hy(t)},t.curveMonotoneY=function(t){return new Yy(t)},t.curveNatural=function(t){return new qy(t)},t.curveStep=function(t){return new Uy(t,.5)},t.curveStepAfter=function(t){return new Uy(t,1)},t.curveStepBefore=function(t){return new Uy(t,0)},t.customEvent=Mt,t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=l,t.dispatch=Y,t.drag=function(){var e,i,n,r,s=Gt,o=Xt,a=Kt,h=Zt,l={},u=Y("start","drag","end"),c=0,d=0;function f(t){t.on("mousedown.drag",p).filter(h).on("touchstart.drag",v).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&s.apply(this,arguments)){var a=_("mouse",o.apply(this,arguments),Bt,this,arguments);a&&(Nt(t.event.view).on("mousemove.drag",g,!0).on("mouseup.drag",m,!0),Vt(t.event.view),Ht(),n=!1,e=t.event.clientX,i=t.event.clientY,a("start"))}}function g(){if(Yt(),!n){var r=t.event.clientX-e,s=t.event.clientY-i;n=r*r+s*s>d}l.mouse("drag")}function m(){Nt(t.event.view).on("mousemove.drag mouseup.drag",null),qt(t.event.view,n),Yt(),l.mouse("end")}function v(){if(s.apply(this,arguments)){var e,i,n=t.event.changedTouches,r=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(i=_(n[e].identifier,r,jt,this,arguments))&&(Ht(),i("start"))}}function y(){var e,i,n=t.event.changedTouches,r=n.length;for(e=0;e<r;++e)(i=l[n[e].identifier])&&(Yt(),i("drag"))}function b(){var e,i,n=t.event.changedTouches,s=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<s;++e)(i=l[n[e].identifier])&&(Ht(),i("end"))}function _(e,i,n,r,s){var o,h,d,p=n(i,e),g=u.copy();if(Mt(new Ut(f,"beforestart",o,e,c,p[0],p[1],0,0,g),function(){return null!=(t.event.subject=o=a.apply(r,s))&&(h=o.x-p[0]||0,d=o.y-p[1]||0,!0)}))return function t(a){var u,m=p;switch(a){case"start":l[e]=t,u=c++;break;case"end":delete l[e],--c;case"drag":p=n(i,e),u=c}Mt(new Ut(f,a,o,e,u,p[0]+h,p[1]+d,p[0]-m[0],p[1]-m[1],g),g.apply,g,[a,r,s])}}return f.filter=function(t){return arguments.length?(s="function"==typeof t?t:Wt(!!t),f):s},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Wt(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:Wt(t),f):a},f.touchable=function(t){return arguments.length?(h="function"==typeof t?t:Wt(!!t),f):h},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,f):Math.sqrt(d)},f},t.dragDisable=Vt,t.dragEnable=qt,t.dsv=function(t,e,i,n){3===arguments.length&&"function"==typeof i&&(n=i,i=void 0);var r=Is(t);return Qs(e,i).then(function(t){return r.parse(t,n)})},t.dsvFormat=Is,t.easeBack=ar,t.easeBackIn=sr,t.easeBackInOut=ar,t.easeBackOut=or,t.easeBounce=rr,t.easeBounceIn=function(t){return 1-rr(1-t)},t.easeBounceInOut=function(t){return((t*=2)<=1?1-rr(1-t):rr(t-1)+1)/2},t.easeBounceOut=rr,t.easeCircle=Gn,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleInOut=Gn,t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCubic=Bn,t.easeCubicIn=function(t){return t*t*t},t.easeCubicInOut=Bn,t.easeCubicOut=function(t){return--t*t*t+1},t.easeElastic=ur,t.easeElasticIn=lr,t.easeElasticInOut=cr,t.easeElasticOut=ur,t.easeExp=Un,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpInOut=Un,t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeLinear=function(t){return+t},t.easePoly=Yn,t.easePolyIn=jn,t.easePolyInOut=Yn,t.easePolyOut=Hn,t.easeQuad=zn,t.easeQuadIn=function(t){return t*t},t.easeQuadInOut=zn,t.easeQuadOut=function(t){return t*(2-t)},t.easeSin=Wn,t.easeSinIn=function(t){return 1-Math.cos(t*qn)},t.easeSinInOut=Wn,t.easeSinOut=function(t){return Math.sin(t*qn)},t.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},t.extent=u,t.forceCenter=function(t,e){var i;function n(){var n,r,s=i.length,o=0,a=0;for(n=0;n<s;++n)o+=(r=i[n]).x,a+=r.y;for(o=o/s-t,a=a/s-e,n=0;n<s;++n)(r=i[n]).x-=o,r.y-=a}return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},t.forceCollide=function(t){var e,i,n=1,r=1;function s(){for(var t,s,a,h,l,u,c,d=e.length,f=0;f<r;++f)for(s=fo(e,vo,yo).visitAfter(o),t=0;t<d;++t)c=(u=i[(a=e[t]).index])*u,h=a.x+a.vx,l=a.y+a.vy,s.visit(p);function p(t,e,i,r,s){var o=t.data,d=t.r,f=u+d;if(!o)return e>h+f||r<h-f||i>l+f||s<l-f;if(o.index>a.index){var p=h-o.x-o.vx,g=l-o.y-o.vy,m=p*p+g*g;m<f*f&&(0===p&&(m+=(p=ao())*p),0===g&&(m+=(g=ao())*g),m=(f-(m=Math.sqrt(m)))/m*n,a.vx+=(p*=m)*(f=(d*=d)/(c+d)),a.vy+=(g*=m)*f,o.vx-=p*(f=1-f),o.vy-=g*f)}}}function o(t){if(t.data)return t.r=i[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function a(){if(e){var n,r,s=e.length;for(i=new Array(s),n=0;n<s;++n)i[(r=e[n]).index]=+t(r,n,e)}}return"function"!=typeof t&&(t=oo(null==t?1:+t)),s.initialize=function(t){e=t,a()},s.iterations=function(t){return arguments.length?(r=+t,s):r},s.strength=function(t){return arguments.length?(n=+t,s):n},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:oo(+e),a(),s):t},s},t.forceLink=function(t){var e,i,n,r,s,o=bo,a=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},h=oo(30),l=1;function u(n){for(var r=0,o=t.length;r<l;++r)for(var a,h,u,c,d,f,p,g=0;g<o;++g)h=(a=t[g]).source,c=(u=a.target).x+u.vx-h.x-h.vx||ao(),d=u.y+u.vy-h.y-h.vy||ao(),c*=f=((f=Math.sqrt(c*c+d*d))-i[g])/f*n*e[g],d*=f,u.vx-=c*(p=s[g]),u.vy-=d*p,h.vx+=c*(p=1-p),h.vy+=d*p}function c(){if(n){var a,h,l=n.length,u=t.length,c=ss(n,o);for(a=0,r=new Array(l);a<u;++a)(h=t[a]).index=a,"object"!=typeof h.source&&(h.source=_o(c,h.source)),"object"!=typeof h.target&&(h.target=_o(c,h.target)),r[h.source.index]=(r[h.source.index]||0)+1,r[h.target.index]=(r[h.target.index]||0)+1;for(a=0,s=new Array(u);a<u;++a)s[a]=r[(h=t[a]).source.index]/(r[h.source.index]+r[h.target.index]);e=new Array(u),d(),i=new Array(u),f()}}function d(){if(n)for(var i=0,r=t.length;i<r;++i)e[i]=+a(t[i],i,t)}function f(){if(n)for(var e=0,r=t.length;e<r;++e)i[e]=+h(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){n=t,c()},u.links=function(e){return arguments.length?(t=e,c(),u):t},u.id=function(t){return arguments.length?(o=t,u):o},u.iterations=function(t){return arguments.length?(l=+t,u):l},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:oo(+t),d(),u):a},u.distance=function(t){return arguments.length?(h="function"==typeof t?t:oo(+t),f(),u):h},u},t.forceManyBody=function(){var t,e,i,n,r=oo(-30),s=1,o=1/0,a=.81;function h(n){var r,s=t.length,o=fo(t,wo,xo).visitAfter(u);for(i=n,r=0;r<s;++r)e=t[r],o.visit(c)}function l(){if(t){var e,i,s=t.length;for(n=new Array(s),e=0;e<s;++e)n[(i=t[e]).index]=+r(i,e,t)}}function u(t){var e,i,r,s,o,a=0,h=0;if(t.length){for(r=s=o=0;o<4;++o)(e=t[o])&&(i=Math.abs(e.value))&&(a+=e.value,h+=i,r+=i*e.x,s+=i*e.y);t.x=r/h,t.y=s/h}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=n[e.data.index]}while(e=e.next)}t.value=a}function c(t,r,h,l){if(!t.value)return!0;var u=t.x-e.x,c=t.y-e.y,d=l-r,f=u*u+c*c;if(d*d/a<f)return f<o&&(0===u&&(f+=(u=ao())*u),0===c&&(f+=(c=ao())*c),f<s&&(f=Math.sqrt(s*f)),e.vx+=u*t.value*i/f,e.vy+=c*t.value*i/f),!0;if(!(t.length||f>=o)){(t.data!==e||t.next)&&(0===u&&(f+=(u=ao())*u),0===c&&(f+=(c=ao())*c),f<s&&(f=Math.sqrt(s*f)));do{t.data!==e&&(e.vx+=u*(d=n[t.data.index]*i/f),e.vy+=c*d)}while(t=t.next)}}return h.initialize=function(e){t=e,l()},h.strength=function(t){return arguments.length?(r="function"==typeof t?t:oo(+t),l(),h):r},h.distanceMin=function(t){return arguments.length?(s=t*t,h):Math.sqrt(s)},h.distanceMax=function(t){return arguments.length?(o=t*t,h):Math.sqrt(o)},h.theta=function(t){return arguments.length?(a=t*t,h):Math.sqrt(a)},h},t.forceRadial=function(t,e,i){var n,r,s,o=oo(.1);function a(t){for(var o=0,a=n.length;o<a;++o){var h=n[o],l=h.x-e||1e-6,u=h.y-i||1e-6,c=Math.sqrt(l*l+u*u),d=(s[o]-c)*r[o]*t/c;h.vx+=l*d,h.vy+=u*d}}function h(){if(n){var e,i=n.length;for(r=new Array(i),s=new Array(i),e=0;e<i;++e)s[e]=+t(n[e],e,n),r[e]=isNaN(s[e])?0:+o(n[e],e,n)}}return"function"!=typeof t&&(t=oo(+t)),null==e&&(e=0),null==i&&(i=0),a.initialize=function(t){n=t,h()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:oo(+t),h(),a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:oo(+e),h(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(i=+t,a):i},a},t.forceSimulation=function(t){var e,i=1,n=.001,r=1-Math.pow(n,1/300),s=0,o=.6,a=ss(),h=ln(u),l=Y("tick","end");function u(){c(),l.call("tick",e),i<n&&(h.stop(),l.call("end",e))}function c(n){var h,l,u=t.length;void 0===n&&(n=1);for(var c=0;c<n;++c)for(i+=(s-i)*r,a.each(function(t){t(i)}),h=0;h<u;++h)null==(l=t[h]).fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return e}function d(){for(var e,i=0,n=t.length;i<n;++i){if((e=t[i]).index=i,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=So*Math.sqrt(i),s=i*ko;e.x=r*Math.cos(s),e.y=r*Math.sin(s)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:c,restart:function(){return h.restart(u),e},stop:function(){return h.stop(),e},nodes:function(i){return arguments.length?(t=i,d(),a.each(f),e):t},alpha:function(t){return arguments.length?(i=+t,e):i},alphaMin:function(t){return arguments.length?(n=+t,e):n},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(s=+t,e):s},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,i){return arguments.length>1?(null==i?a.remove(t):a.set(t,f(i)),e):a.get(t)},find:function(e,i,n){var r,s,o,a,h,l=0,u=t.length;for(null==n?n=1/0:n*=n,l=0;l<u;++l)(o=(r=e-(a=t[l]).x)*r+(s=i-a.y)*s)<n&&(h=a,n=o);return h},on:function(t,i){return arguments.length>1?(l.on(t,i),e):l.on(t)}}},t.forceX=function(t){var e,i,n,r=oo(.1);function s(t){for(var r,s=0,o=e.length;s<o;++s)(r=e[s]).vx+=(n[s]-r.x)*i[s]*t}function o(){if(e){var s,o=e.length;for(i=new Array(o),n=new Array(o),s=0;s<o;++s)i[s]=isNaN(n[s]=+t(e[s],s,e))?0:+r(e[s],s,e)}}return"function"!=typeof t&&(t=oo(null==t?0:+t)),s.initialize=function(t){e=t,o()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:oo(+t),o(),s):r},s.x=function(e){return arguments.length?(t="function"==typeof e?e:oo(+e),o(),s):t},s},t.forceY=function(t){var e,i,n,r=oo(.1);function s(t){for(var r,s=0,o=e.length;s<o;++s)(r=e[s]).vy+=(n[s]-r.y)*i[s]*t}function o(){if(e){var s,o=e.length;for(i=new Array(o),n=new Array(o),s=0;s<o;++s)i[s]=isNaN(n[s]=+t(e[s],s,e))?0:+r(e[s],s,e)}}return"function"!=typeof t&&(t=oo(null==t?0:+t)),s.initialize=function(t){e=t,o()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:oo(+t),o(),s):r},s.y=function(e){return arguments.length?(t="function"==typeof e?e:oo(+e),o(),s):t},s},t.formatDefaultLocale=zo,t.formatLocale=Ro,t.formatSpecifier=Eo,t.geoAlbers=Uu,t.geoAlbersUsa=function(){var t,e,i,n,r,s,o=Uu(),a=Wu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=Wu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){s=[t,e]}};function u(t){var e=t[0],o=t[1];return s=null,i.point(e,o),s||(n.point(e,o),s)||(r.point(e,o),s)}function c(){return t=e=null,u}return u.invert=function(t){var e=o.scale(),i=o.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&r<.234&&n>=-.425&&n<-.214?a:r>=.166&&r<.234&&n>=-.214&&n<-.115?h:o).invert(t)},u.stream=function(i){return t&&e===i?t:(n=[o.stream(e=i),a.stream(i),h.stream(i)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},u.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),h.precision(t),c()):o.precision()},u.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),h.scale(t),u.translate(o.translate())):o.scale()},u.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),s=+t[0],u=+t[1];return i=o.translate(t).clipExtent([[s-.455*e,u-.238*e],[s+.455*e,u+.238*e]]).stream(l),n=a.translate([s-.307*e,u+.201*e]).clipExtent([[s-.425*e+Uo,u+.12*e+Uo],[s-.214*e-Uo,u+.234*e-Uo]]).stream(l),r=h.translate([s-.205*e,u+.212*e]).clipExtent([[s-.214*e+Uo,u+.166*e+Uo],[s-.115*e-Uo,u+.234*e-Uo]]).stream(l),c()},u.fitExtent=function(t,e){return Ou(u,t,e)},u.fitSize=function(t,e){return Nu(u,t,e)},u.fitWidth=function(t,e){return Lu(u,t,e)},u.fitHeight=function(t,e){return Iu(u,t,e)},u.scale(1070)},t.geoArea=function(t){return Ma.reset(),wa(t,Ea),2*Ma},t.geoAzimuthalEqualArea=function(){return Hu(Ku).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Ku,t.geoAzimuthalEquidistant=function(){return Hu(Zu).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=Zu,t.geoBounds=function(t){var e,i,n,r,s,o,a;if(qa=Va=-(Ha=Ya=1/0),Ka=[],wa(t,ph),i=Ka.length){for(Ka.sort(Sh),e=1,s=[n=Ka[0]];e<i;++e)kh(n,(r=Ka[e])[0])||kh(n,r[1])?(xh(n[0],r[1])>xh(n[0],n[1])&&(n[1]=r[1]),xh(r[0],n[1])>xh(n[0],n[1])&&(n[0]=r[0])):s.push(n=r);for(o=-1/0,e=0,n=s[i=s.length-1];e<=i;n=r,++e)(a=xh(n[1],(r=s[e])[0]))>o&&(o=a,Ha=r[0],Va=n[1])}return Ka=Za=null,Ha===1/0||Ya===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ha,Ya],[Va,qa]]},t.geoCentroid=function(t){Qa=$a=Ja=th=eh=ih=nh=rh=sh=oh=ah=0,wa(t,Ch);var e=sh,i=oh,n=ah,r=e*e+i*i+n*n;return r<Go&&(e=ih,i=nh,n=rh,$a<Uo&&(e=Ja,i=th,n=eh),(r=e*e+i*i+n*n)<Go)?[NaN,NaN]:[ia(i,e)*$o,fa(n/ua(r))*$o]},t.geoCircle=function(){var t,e,i=Fh([0,0]),n=Fh(90),r=Fh(6),s={point:function(i,n){t.push(i=e(i,n)),i[0]*=$o,i[1]*=$o}};function o(){var o=i.apply(this,arguments),a=n.apply(this,arguments)*Jo,h=r.apply(this,arguments)*Jo;return t=[],e=Bh(-o[0]*Jo,-o[1]*Jo,0).invert,qh(s,a,h,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(i="function"==typeof t?t:Fh([+t[0],+t[1]]),o):i},o.radius=function(t){return arguments.length?(n="function"==typeof t?t:Fh(+t),o):n},o.precision=function(t){return arguments.length?(r="function"==typeof t?t:Fh(+t),o):r},o},t.geoClipAntimeridian=nl,t.geoClipCircle=rl,t.geoClipExtent=function(){var t,e,i,n=0,r=0,s=960,o=500;return i={stream:function(i){return t&&e===i?t:t=al(n,r,s,o)(e=i)},extent:function(a){return arguments.length?(n=+a[0][0],r=+a[0][1],s=+a[1][0],o=+a[1][1],t=e=null,i):[[n,r],[s,o]]}}},t.geoClipRectangle=al,t.geoConicConformal=function(){return Vu(tc).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=tc,t.geoConicEqualArea=Wu,t.geoConicEqualAreaRaw=qu,t.geoConicEquidistant=function(){return Vu(ic).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=ic,t.geoContains=function(t,e){return(t&&_l.hasOwnProperty(t.type)?_l[t.type]:xl)(t,e)},t.geoDistance=bl,t.geoEqualEarth=function(){return Hu(hc).scale(177.158)},t.geoEqualEarthRaw=hc,t.geoEquirectangular=function(){return Hu(ec).scale(152.63)},t.geoEquirectangularRaw=ec,t.geoGnomonic=function(){return Hu(lc).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=lc,t.geoGraticule=Dl,t.geoGraticule10=function(){return Dl()()},t.geoIdentity=function(){var t,e,i,n,r,s,o=1,a=0,h=0,l=1,u=1,c=Pl,d=null,f=Pl;function p(){return n=r=null,s}return s={stream:function(t){return n&&r===t?n:n=c(f(r=t))},postclip:function(n){return arguments.length?(f=n,d=t=e=i=null,p()):f},clipExtent:function(n){return arguments.length?(f=null==n?(d=t=e=i=null,Pl):al(d=+n[0][0],t=+n[0][1],e=+n[1][0],i=+n[1][1]),p()):null==d?null:[[d,t],[e,i]]},scale:function(t){return arguments.length?(c=uc((o=+t)*l,o*u,a,h),p()):o},translate:function(t){return arguments.length?(c=uc(o*l,o*u,a=+t[0],h=+t[1]),p()):[a,h]},reflectX:function(t){return arguments.length?(c=uc(o*(l=t?-1:1),o*u,a,h),p()):l<0},reflectY:function(t){return arguments.length?(c=uc(o*l,o*(u=t?-1:1),a,h),p()):u<0},fitExtent:function(t,e){return Ou(s,t,e)},fitSize:function(t,e){return Nu(s,t,e)},fitWidth:function(t,e){return Lu(s,t,e)},fitHeight:function(t,e){return Iu(s,t,e)}}},t.geoInterpolate=function(t,e){var i=t[0]*Jo,n=t[1]*Jo,r=e[0]*Jo,s=e[1]*Jo,o=na(n),a=ha(n),h=na(s),l=ha(s),u=o*na(i),c=o*ha(i),d=h*na(r),f=h*ha(r),p=2*fa(ua(pa(s-n)+o*h*pa(r-i))),g=ha(p),m=p?function(t){var e=ha(t*=p)/g,i=ha(p-t)/g,n=i*u+e*d,r=i*c+e*f,s=i*a+e*l;return[ia(r,n)*$o,ia(s,ua(n*n+r*r))*$o]}:function(){return[i*$o,n*$o]};return m.distance=p,m},t.geoLength=ml,t.geoMercator=function(){return $u(Qu).scale(961/Qo)},t.geoMercatorRaw=Qu,t.geoNaturalEarth1=function(){return Hu(cc).scale(175.295)},t.geoNaturalEarth1Raw=cc,t.geoOrthographic=function(){return Hu(dc).scale(249.5).clipAngle(90+Uo)},t.geoOrthographicRaw=dc,t.geoPath=function(t,e){var i,n,r=4.5;function s(t){return t&&("function"==typeof r&&n.pointRadius(+r.apply(this,arguments)),wa(t,i(n))),n.result()}return s.area=function(t){return wa(t,i(zl)),zl.result()},s.measure=function(t){return wa(t,i(ku)),ku.result()},s.bounds=function(t){return wa(t,i(Ql)),Ql.result()},s.centroid=function(t){return wa(t,i(au)),au.result()},s.projection=function(e){return arguments.length?(i=null==e?(t=null,Pl):(t=e).stream,s):t},s.context=function(t){return arguments.length?(n=null==t?(e=null,new Tu):new vu(e=t),"function"!=typeof r&&n.pointRadius(r),s):e},s.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(n.pointRadius(+t),+t),s):r},s.projection(t).context(e)},t.geoProjection=Hu,t.geoProjectionMutator=Yu,t.geoRotation=Vh,t.geoStereographic=function(){return Hu(fc).scale(250).clipAngle(142)},t.geoStereographicRaw=fc,t.geoStream=wa,t.geoTransform=function(t){return{stream:Eu(t)}},t.geoTransverseMercator=function(){var t=$u(pc),e=t.center,i=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=pc,t.gray=function(t,e){return new Be(t,0,0,null==e?1:e)},t.hcl=We,t.hierarchy=bc,t.histogram=function(){var t=g,e=u,i=S;function n(n){var s,o,a=n.length,h=new Array(a);for(s=0;s<a;++s)h[s]=t(n[s],s,n);var l=e(h),u=l[0],c=l[1],d=i(h,u,c);Array.isArray(d)||(d=x(u,c,d),d=m(Math.ceil(u/d)*d,c,d));for(var f=d.length;d[0]<=u;)d.shift(),--f;for(;d[f-1]>c;)d.pop(),--f;var p,g=new Array(f+1);for(s=0;s<=f;++s)(p=g[s]=[]).x0=s>0?d[s-1]:u,p.x1=s<f?d[s]:c;for(s=0;s<a;++s)u<=(o=h[s])&&o<=c&&g[r(d,o,0,f)].push(n[s]);return g}return n.value=function(e){return arguments.length?(t="function"==typeof e?e:p(e),n):t},n.domain=function(t){return arguments.length?(e="function"==typeof t?t:p([t[0],t[1]]),n):e},n.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?p(d.call(t)):p(t),n):i},n},t.hsl=Ce,t.html=ro,t.image=function(t,e){return new Promise(function(i,n){var r=new Image;for(var s in e)r[s]=e[s];r.onerror=n,r.onload=function(){i(r)},r.src=t})},t.interpolate=wi,t.interpolateArray=pi,t.interpolateBasis=ri,t.interpolateBasisClosed=si,t.interpolateBlues=Ym,t.interpolateBrBG=tm,t.interpolateBuGn=ym,t.interpolateBuPu=_m,t.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},t.interpolateCool=ev,t.interpolateCubehelix=Xi,t.interpolateCubehelixDefault=Jm,t.interpolateCubehelixLong=Ki,t.interpolateDate=gi,t.interpolateDiscrete=function(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}},t.interpolateGnBu=xm,t.interpolateGreens=qm,t.interpolateGreys=Um,t.interpolateHcl=Vi,t.interpolateHclLong=qi,t.interpolateHsl=ji,t.interpolateHslLong=Hi,t.interpolateHue=function(t,e){var i=hi(+t,+e);return function(t){var e=i(t);return e-360*Math.floor(e/360)}},t.interpolateInferno=lv,t.interpolateLab=function(t,e){var i=li((t=ze(t)).l,(e=ze(e)).l),n=li(t.a,e.a),r=li(t.b,e.b),s=li(t.opacity,e.opacity);return function(e){return t.l=i(e),t.a=n(e),t.b=r(e),t.opacity=s(e),t+""}},t.interpolateMagma=hv,t.interpolateNumber=mi,t.interpolateObject=vi,t.interpolateOrRd=km,t.interpolateOranges=$m,t.interpolatePRGn=im,t.interpolatePiYG=rm,t.interpolatePlasma=uv,t.interpolatePuBu=Mm,t.interpolatePuBuGn=Am,t.interpolatePuOr=om,t.interpolatePuRd=Dm,t.interpolatePurples=Xm,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return iv.h=360*t-100,iv.s=1.5-1.5*e,iv.l=.8-.9*e,iv+""},t.interpolateRdBu=hm,t.interpolateRdGy=um,t.interpolateRdPu=Om,t.interpolateRdYlBu=dm,t.interpolateRdYlGn=pm,t.interpolateReds=Zm,t.interpolateRgb=ui,t.interpolateRgbBasis=di,t.interpolateRgbBasisClosed=fi,t.interpolateRound=xi,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,nv.r=255*(e=Math.sin(t))*e,nv.g=255*(e=Math.sin(t+rv))*e,nv.b=255*(e=Math.sin(t+sv))*e,nv+""},t.interpolateSpectral=mm,t.interpolateString=_i,t.interpolateTransformCss=Pi,t.interpolateTransformSvg=Oi,t.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},t.interpolateViridis=av,t.interpolateWarm=tv,t.interpolateYlGn=Fm,t.interpolateYlGnBu=Lm,t.interpolateYlOrBr=zm,t.interpolateYlOrRd=jm,t.interpolateZoom=zi,t.interrupt=Mn,t.interval=function(t,e,i){var n=new hn,r=e;return null==e?(n.restart(t,e,i),n):(e=+e,i=null==i?on():+i,n.restart(function s(o){o+=r,n.restart(s,r+=e,i),t(o)},e,i),n)},t.isoFormat=kg,t.isoParse=Cg,t.json=function(t,e){return fetch(t,e).then(eo)},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e},t.lab=ze,t.lch=function(t,e,i,n){return 1===arguments.length?qe(t):new Ue(i,e,t,null==n?1:n)},t.line=Lv,t.lineRadial=Yv,t.linkHorizontal=function(){return Xv(Kv)},t.linkRadial=function(){var t=Xv(Qv);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return Xv(Zv)},t.local=It,t.map=ss,t.matcher=et,t.max=C,t.mean=function(t,e){var i,n=t.length,r=n,s=-1,o=0;if(null==e)for(;++s<n;)isNaN(i=a(t[s]))?--r:o+=i;else for(;++s<n;)isNaN(i=a(e(t[s],s,t)))?--r:o+=i;if(r)return o/r},t.median=function(t,i){var n,r=t.length,s=-1,o=[];if(null==i)for(;++s<r;)isNaN(n=a(t[s]))||o.push(n);else for(;++s<r;)isNaN(n=a(i(t[s],s,t)))||o.push(n);return k(o.sort(e),.5)},t.merge=A,t.min=T,t.mouse=Bt,t.namespace=K,t.namespaces=X,t.nest=function(){var t,e,i,n=[],r=[];function s(i,r,o,a){if(r>=n.length)return null!=t&&i.sort(t),null!=e?e(i):i;for(var h,l,u,c=-1,d=i.length,f=n[r++],p=ss(),g=o();++c<d;)(u=p.get(h=f(l=i[c])+""))?u.push(l):p.set(h,[l]);return p.each(function(t,e){a(g,e,s(t,r,o,a))}),g}return i={object:function(t){return s(t,0,os,as)},map:function(t){return s(t,0,hs,ls)},entries:function(t){return function t(i,s){if(++s>n.length)return i;var o,a=r[s-1];return null!=e&&s>=n.length?o=i.entries():(o=[],i.each(function(e,i){o.push({key:i,values:t(e,s)})})),null!=a?o.sort(function(t,e){return a(t.key,e.key)}):o}(s(t,0,hs,ls),0)},key:function(t){return n.push(t),i},sortKeys:function(t){return r[n.length-1]=t,i},sortValues:function(e){return t=e,i},rollup:function(t){return e=t,i}}},t.now=on,t.pack=function(){var t=null,e=1,i=1,n=jc;function r(r){return r.x=e/2,r.y=i/2,t?r.eachBefore(Vc(t)).eachAfter(qc(n,.5)).eachBefore(Wc(1)):r.eachBefore(Vc(Yc)).eachAfter(qc(jc,1)).eachAfter(qc(n,r.r/Math.min(e,i))).eachBefore(Wc(Math.min(e,i)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=zc(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],i=+t[1],r):[e,i]},r.padding=function(t){return arguments.length?(n="function"==typeof t?t:Hc(+t),r):n},r},t.packEnclose=Cc,t.packSiblings=function(t){return Rc(t),t},t.pairs=function(t,e){null==e&&(e=o);for(var i=0,n=t.length-1,r=t[0],s=new Array(n<0?0:n);i<n;)s[i]=e(r,r=t[++i]);return s},t.partition=function(){var t=1,e=1,i=0,n=!1;function r(r){var s=r.height+1;return r.x0=r.y0=i,r.x1=t,r.y1=e/s,r.eachBefore(function(t,e){return function(n){n.children&&Gc(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,s=n.y0,o=n.x1-i,a=n.y1-i;o<r&&(r=o=(r+o)/2),a<s&&(s=a=(s+a)/2),n.x0=r,n.y0=s,n.x1=o,n.y1=a}}(e,s)),n&&r.eachBefore(Uc),r}return r.round=function(t){return arguments.length?(n=!!t,r):n},r.size=function(i){return arguments.length?(t=+i[0],e=+i[1],r):[t,e]},r.padding=function(t){return arguments.length?(i=+t,r):i},r},t.path=$r,t.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},t.pie=function(){var t=Rv,e=Fv,i=null,n=cv(0),r=cv(xv),s=cv(0);function o(o){var a,h,l,u,c,d=o.length,f=0,p=new Array(d),g=new Array(d),m=+n.apply(this,arguments),v=Math.min(xv,Math.max(-xv,r.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/d,s.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<d;++a)(c=g[p[a]=a]=+t(o[a],a,o))>0&&(f+=c);for(null!=e?p.sort(function(t,i){return e(g[t],g[i])}):null!=i&&p.sort(function(t,e){return i(o[t],o[e])}),a=0,l=f?(v-d*b)/f:0;a<d;++a,m=u)u=m+((c=g[h=p[a]])>0?c*l:0)+b,g[h]={data:o[h],index:a,value:c,startAngle:m,endAngle:u,padAngle:y};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:cv(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,i=null,o):e},o.sort=function(t){return arguments.length?(i=t,e=null,o):i},o.startAngle=function(t){return arguments.length?(n="function"==typeof t?t:cv(+t),o):n},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:cv(+t),o):r},o.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:cv(+t),o):s},o},t.piecewise=function(t,e){for(var i=0,n=e.length-1,r=e[0],s=new Array(n<0?0:n);i<n;)s[i]=t(r,r=e[++i]);return function(t){var e=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return s[e](t-e)}},t.pointRadial=qv,t.polygonArea=function(t){for(var e,i=-1,n=t.length,r=t[n-1],s=0;++i<n;)s+=(e=r)[1]*(r=t[i])[0]-e[0]*r[1];return s/2},t.polygonCentroid=function(t){for(var e,i,n=-1,r=t.length,s=0,o=0,a=t[r-1],h=0;++n<r;)h+=i=(e=a)[0]*(a=t[n])[1]-a[0]*e[1],s+=(e[0]+a[0])*i,o+=(e[1]+a[1])*i;return[s/(h*=3),o/h]},t.polygonContains=function(t,e){for(var i,n,r=t.length,s=t[r-1],o=e[0],a=e[1],h=s[0],l=s[1],u=!1,c=0;c<r;++c)i=(s=t[c])[0],(n=s[1])>a!=l>a&&o<(h-i)*(a-n)/(l-n)+i&&(u=!u),h=i,l=n;return u},t.polygonHull=function(t){if((i=t.length)<3)return null;var e,i,n=new Array(i),r=new Array(i);for(e=0;e<i;++e)n[e]=[+t[e][0],+t[e][1],e];for(n.sort(cd),e=0;e<i;++e)r[e]=[n[e][0],-n[e][1]];var s=dd(n),o=dd(r),a=o[0]===s[0],h=o[o.length-1]===s[s.length-1],l=[];for(e=s.length-1;e>=0;--e)l.push(t[n[s[e]][2]]);for(e=+a;e<o.length-h;++e)l.push(t[n[o[e]][2]]);return l},t.polygonLength=function(t){for(var e,i,n=-1,r=t.length,s=t[r-1],o=s[0],a=s[1],h=0;++n<r;)e=o,i=a,e-=o=(s=t[n])[0],i-=a=s[1],h+=Math.sqrt(e*e+i*i);return h},t.precisionFixed=Bo,t.precisionPrefix=jo,t.precisionRound=Ho,t.quadtree=fo,t.quantile=k,t.quantize=function(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t(n/(e-1));return i},t.radialArea=Vv,t.radialLine=Yv,t.randomBates=yd,t.randomExponential=bd,t.randomIrwinHall=vd,t.randomLogNormal=md,t.randomNormal=gd,t.randomUniform=pd,t.range=m,t.rgb=ye,t.ribbon=function(){var t=Jr,e=ts,i=es,n=is,r=ns,s=null;function o(){var o,a=Ur.call(arguments),h=t.apply(this,a),l=e.apply(this,a),u=+i.apply(this,(a[0]=h,a)),c=n.apply(this,a)-Yr,d=r.apply(this,a)-Yr,f=u*Br(c),p=u*jr(c),g=+i.apply(this,(a[0]=l,a)),m=n.apply(this,a)-Yr,v=r.apply(this,a)-Yr;if(s||(s=o=$r()),s.moveTo(f,p),s.arc(0,0,u,c,d),c===m&&d===v||(s.quadraticCurveTo(0,0,g*Br(m),g*jr(m)),s.arc(0,0,g,m,v)),s.quadraticCurveTo(0,0,f,p),s.closePath(),o)return s=null,o+""||null}return o.radius=function(t){return arguments.length?(i="function"==typeof t?t:Gr(+t),o):i},o.startAngle=function(t){return arguments.length?(n="function"==typeof t?t:Gr(+t),o):n},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Gr(+t),o):r},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(s=null==t?null:t,o):s},o},t.scaleBand=Td,t.scaleDiverging=function t(){var e=Bd(Bg()(Dd));return e.copy=function(){return Rg(e,t())},wd.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=Gd(Bg()).domain([.1,1,10]);return e.copy=function(){return Rg(e,t()).base(e.base())},wd.apply(e,arguments)},t.scaleDivergingPow=jg,t.scaleDivergingSqrt=function(){return jg.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=Zd(Bg());return e.copy=function(){return Rg(e,t()).constant(e.constant())},wd.apply(e,arguments)},t.scaleIdentity=function t(e){var i;function n(t){return isNaN(t=+t)?i:t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Sd.call(t,Md),n):e.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return t(e).unknown(i)},e=arguments.length?Sd.call(e,Md):[0,1],Bd(n)},t.scaleImplicit=Cd,t.scaleLinear=function t(){var e=Rd(Dd,Dd);return e.copy=function(){return Id(e,t())},_d.apply(e,arguments),Bd(e)},t.scaleLog=function t(){var e=Gd(Fd()).domain([1,10]);return e.copy=function(){return Id(e,t()).base(e.base())},_d.apply(e,arguments),e},t.scaleOrdinal=Ad,t.scalePoint=function(){return function t(e){var i=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(i())},e}(Td.apply(null,arguments).paddingInner(1))},t.scalePow=ef,t.scaleQuantile=function t(){var i,n=[],s=[],o=[];function a(){var t=0,e=Math.max(1,s.length);for(o=new Array(e-1);++t<e;)o[t-1]=k(n,t/e);return h}function h(t){return isNaN(t=+t)?i:s[r(o,t)]}return h.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:n[0],e<o.length?o[e]:n[n.length-1]]},h.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var i,r=0,s=t.length;r<s;++r)null==(i=t[r])||isNaN(i=+i)||n.push(i);return n.sort(e),a()},h.range=function(t){return arguments.length?(s=kd.call(t),a()):s.slice()},h.unknown=function(t){return arguments.length?(i=t,h):i},h.quantiles=function(){return o.slice()},h.copy=function(){return t().domain(n).range(s).unknown(i)},_d.apply(h,arguments)},t.scaleQuantize=function t(){var e,i=0,n=1,s=1,o=[.5],a=[0,1];function h(t){return t<=t?a[r(o,t,0,s)]:e}function l(){var t=-1;for(o=new Array(s);++t<s;)o[t]=((t+1)*n-(t-s)*i)/(s+1);return h}return h.domain=function(t){return arguments.length?(i=+t[0],n=+t[1],l()):[i,n]},h.range=function(t){return arguments.length?(s=(a=kd.call(t)).length-1,l()):a.slice()},h.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[i,o[0]]:e>=s?[o[s-1],n]:[o[e-1],o[e]]},h.unknown=function(t){return arguments.length?(e=t,h):h},h.thresholds=function(){return o.slice()},h.copy=function(){return t().domain([i,n]).range(a).unknown(e)},_d.apply(Bd(h),arguments)},t.scaleSequential=function t(){var e=Bd(Fg()(Dd));return e.copy=function(){return Rg(e,t())},wd.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=Gd(Fg()).domain([1,10]);return e.copy=function(){return Rg(e,t()).base(e.base())},wd.apply(e,arguments)},t.scaleSequentialPow=zg,t.scaleSequentialQuantile=function t(){var i=[],n=Dd;function s(t){if(!isNaN(t=+t))return n((r(i,t)-1)/(i.length-1))}return s.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||i.push(n);return i.sort(e),s},s.interpolator=function(t){return arguments.length?(n=t,s):n},s.copy=function(){return t(n).domain(i)},wd.apply(s,arguments)},t.scaleSequentialSqrt=function(){return zg.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=Zd(Fg());return e.copy=function(){return Rg(e,t()).constant(e.constant())},wd.apply(e,arguments)},t.scaleSqrt=function(){return ef.apply(null,arguments).exponent(.5)},t.scaleSymlog=function t(){var e=Zd(Fd());return e.copy=function(){return Id(e,t()).constant(e.constant())},_d.apply(e,arguments)},t.scaleThreshold=function t(){var e,i=[.5],n=[0,1],s=1;function o(t){return t<=t?n[r(i,t,0,s)]:e}return o.domain=function(t){return arguments.length?(i=kd.call(t),s=Math.min(i.length,n.length-1),o):i.slice()},o.range=function(t){return arguments.length?(n=kd.call(t),s=Math.min(i.length,n.length-1),o):n.slice()},o.invertExtent=function(t){var e=n.indexOf(t);return[i[e-1],i[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(i).range(n).unknown(e)},_d.apply(o,arguments)},t.scaleTime=function(){return _d.apply(Ig(If,Nf,bf,mf,pf,df,uf,of,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return _d.apply(Ig(op,rp,qf,Hf,Bf,Rf,uf,of,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scan=function(t,i){if(n=t.length){var n,r,s=0,o=0,a=t[o];for(null==i&&(i=e);++s<n;)(i(r=t[s],a)<0||0!==i(a,a))&&(a=r,o=s);return 0===i(a,a)?o:void 0}},t.schemeAccent=Vg,t.schemeBlues=Hm,t.schemeBrBG=Jg,t.schemeBuGn=vm,t.schemeBuPu=bm,t.schemeCategory10=Yg,t.schemeDark2=qg,t.schemeGnBu=wm,t.schemeGreens=Vm,t.schemeGreys=Wm,t.schemeOrRd=Sm,t.schemeOranges=Qm,t.schemePRGn=em,t.schemePaired=Wg,t.schemePastel1=Ug,t.schemePastel2=Gg,t.schemePiYG=nm,t.schemePuBu=Tm,t.schemePuBuGn=Cm,t.schemePuOr=sm,t.schemePuRd=Em,t.schemePurples=Gm,t.schemeRdBu=am,t.schemeRdGy=lm,t.schemeRdPu=Pm,t.schemeRdYlBu=cm,t.schemeRdYlGn=fm,t.schemeReds=Km,t.schemeSet1=Xg,t.schemeSet2=Kg,t.schemeSet3=Zg,t.schemeSpectral=gm,t.schemeTableau10=Qg,t.schemeYlGn=Im,t.schemeYlGnBu=Nm,t.schemeYlOrBr=Rm,t.schemeYlOrRd=Bm,t.select=Nt,t.selectAll=function(t){return"string"==typeof t?new Pt([document.querySelectorAll(t)],[document.documentElement]):new Pt([null==t?[]:t],Dt)},t.selection=Ot,t.selector=$,t.selectorAll=tt,t.set=ds,t.shuffle=function(t,e,i){for(var n,r,s=(null==i?t.length:i)-(e=null==e?0:+e);s;)r=Math.random()*s--|0,n=t[s+e],t[s+e]=t[r+e],t[r+e]=n;return t},t.stack=function(){var t=cv([]),e=Xy,i=Gy,n=Ky;function r(r){var s,o,a=t.apply(this,arguments),h=r.length,l=a.length,u=new Array(l);for(s=0;s<l;++s){for(var c,d=a[s],f=u[s]=new Array(h),p=0;p<h;++p)f[p]=c=[0,+n(r[p],d,p,r)],c.data=r[p];f.key=d}for(s=0,o=e(u);s<l;++s)u[o[s]].index=s;return i(u,o),u}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:cv(Wv.call(e)),r):t},r.value=function(t){return arguments.length?(n="function"==typeof t?t:cv(+t),r):n},r.order=function(t){return arguments.length?(e=null==t?Xy:"function"==typeof t?t:cv(Wv.call(t)),r):e},r.offset=function(t){return arguments.length?(i=null==t?Gy:t,r):i},r},t.stackOffsetDiverging=function(t,e){if((a=t.length)>0)for(var i,n,r,s,o,a,h=0,l=t[e[0]].length;h<l;++h)for(s=o=0,i=0;i<a;++i)(r=(n=t[e[i]][h])[1]-n[0])>=0?(n[0]=s,n[1]=s+=r):r<0?(n[1]=o,n[0]=o+=r):n[0]=s},t.stackOffsetExpand=function(t,e){if((n=t.length)>0){for(var i,n,r,s=0,o=t[0].length;s<o;++s){for(r=i=0;i<n;++i)r+=t[i][s][1]||0;if(r)for(i=0;i<n;++i)t[i][s][1]/=r}Gy(t,e)}},t.stackOffsetNone=Gy,t.stackOffsetSilhouette=function(t,e){if((i=t.length)>0){for(var i,n=0,r=t[e[0]],s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Gy(t,e)}},t.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(n=(i=t[e[0]]).length)>0){for(var i,n,r,s=0,o=1;o<n;++o){for(var a=0,h=0,l=0;a<r;++a){for(var u=t[e[a]],c=u[o][1]||0,d=(c-(u[o-1][1]||0))/2,f=0;f<a;++f){var p=t[e[f]];d+=(p[o][1]||0)-(p[o-1][1]||0)}h+=c,l+=d*c}i[o-1][1]+=i[o-1][0]=s,h&&(s-=l/h)}i[o-1][1]+=i[o-1][0]=s,Gy(t,e)}},t.stackOrderAppearance=Zy,t.stackOrderAscending=$y,t.stackOrderDescending=function(t){return $y(t).reverse()},t.stackOrderInsideOut=function(t){var e,i,n=t.length,r=t.map(Jy),s=Zy(t),o=0,a=0,h=[],l=[];for(e=0;e<n;++e)i=s[e],o<a?(o+=r[i],h.push(i)):(a+=r[i],l.push(i));return l.reverse().concat(h)},t.stackOrderNone=Xy,t.stackOrderReverse=function(t){return Xy(t).reverse()},t.stratify=function(){var t=Qc,e=$c;function i(i){var n,r,s,o,a,h,l,u=i.length,c=new Array(u),d={};for(r=0;r<u;++r)a=c[r]=new Sc(n=i[r]),null!=(h=t(n,r,i))&&(h+="")&&(d[l=Xc+(a.id=h)]=l in d?Zc:a);for(r=0;r<u;++r)if(a=c[r],null!=(h=e(i[r],r,i))&&(h+="")){if(!(o=d[Xc+h]))throw new Error("missing: "+h);if(o===Zc)throw new Error("ambiguous: "+h);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(s)throw new Error("multiple roots");s=a}if(!s)throw new Error("no root");if(s.parent=Kc,s.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(xc),s.parent=null,u>0)throw new Error("cycle");return s}return i.id=function(e){return arguments.length?(t=Bc(e),i):t},i.parentId=function(t){return arguments.length?(e=Bc(t),i):e},i},t.style=lt,t.sum=function(t,e){var i,n=t.length,r=-1,s=0;if(null==e)for(;++r<n;)(i=+t[r])&&(s+=i);else for(;++r<n;)(i=+e(t[r],r,t))&&(s+=i);return s},t.svg=so,t.symbol=function(){var t=cv($v),e=cv(64),i=null;function n(){var n;if(i||(i=n=$r()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),n)return i=null,n+""||null}return n.type=function(e){return arguments.length?(t="function"==typeof e?e:cv(e),n):t},n.size=function(t){return arguments.length?(e="function"==typeof t?t:cv(+t),n):e},n.context=function(t){return arguments.length?(i=null==t?null:t,n):i},n},t.symbolCircle=$v,t.symbolCross=Jv,t.symbolDiamond=iy,t.symbolSquare=ay,t.symbolStar=oy,t.symbolTriangle=ly,t.symbolWye=fy,t.symbols=py,t.text=Qs,t.thresholdFreedmanDiaconis=function(t,i,n){return t=f.call(t,a).sort(e),Math.ceil((n-i)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,i){return Math.ceil((i-e)/(3.5*l(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=S,t.tickFormat=zd,t.tickIncrement=w,t.tickStep=x,t.ticks=_,t.timeDay=mf,t.timeDays=vf,t.timeFormatDefaultLocale=Sg,t.timeFormatLocale=cp,t.timeFriday=kf,t.timeFridays=Pf,t.timeHour=pf,t.timeHours=gf,t.timeInterval=sf,t.timeMillisecond=of,t.timeMilliseconds=af,t.timeMinute=df,t.timeMinutes=ff,t.timeMonday=_f,t.timeMondays=Tf,t.timeMonth=Nf,t.timeMonths=Lf,t.timeSaturday=Cf,t.timeSaturdays=Of,t.timeSecond=uf,t.timeSeconds=cf,t.timeSunday=bf,t.timeSundays=Af,t.timeThursday=Sf,t.timeThursdays=Df,t.timeTuesday=wf,t.timeTuesdays=Mf,t.timeWednesday=xf,t.timeWednesdays=Ef,t.timeWeek=bf,t.timeWeeks=Af,t.timeYear=If,t.timeYears=Ff,t.timeout=pn,t.timer=ln,t.timerFlush=un,t.touch=jt,t.touches=function(t,e){null==e&&(e=Rt().touches);for(var i=0,n=e?e.length:0,r=new Array(n);i<n;++i)r[i]=zt(t,e[i]);return r},t.transition=In,t.transpose=M,t.tree=function(){var t=Jc,e=1,i=1,n=null;function r(r){var h=function(t){for(var e,i,n,r,s,o=new rd(t,0),a=[o];e=a.pop();)if(n=e._.children)for(e.children=new Array(s=n.length),r=s-1;r>=0;--r)a.push(i=e.children[r]=new rd(n[r],r)),i.parent=e;return(o.parent=new rd(null,0)).children=[o],o}(r);if(h.eachAfter(s),h.parent.m=-h.z,h.eachBefore(o),n)r.eachBefore(a);else{var l=r,u=r,c=r;r.eachBefore(function(t){t.x<l.x&&(l=t),t.x>u.x&&(u=t),t.depth>c.depth&&(c=t)});var d=l===u?1:t(l,u)/2,f=d-l.x,p=e/(u.x+d+f),g=i/(c.depth||1);r.eachBefore(function(t){t.x=(t.x+f)*p,t.y=t.depth*g})}return r}function s(e){var i=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(i){!function(t){for(var e,i=0,n=0,r=t.children,s=r.length;--s>=0;)(e=r[s]).z+=i,e.m+=i,i+=e.s+(n+=e.c)}(e);var s=(i[0].z+i[i.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-s):e.z=s}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,i,n){if(i){for(var r,s=e,o=e,a=i,h=s.parent.children[0],l=s.m,u=o.m,c=a.m,d=h.m;a=ed(a),s=td(s),a&&s;)h=td(h),(o=ed(o)).a=e,(r=a.z+c-s.z-l+t(a._,s._))>0&&(id(nd(a,e,n),e,r),l+=r,u+=r),c+=a.m,l+=s.m,d+=h.m,u+=o.m;a&&!ed(o)&&(o.t=a,o.m+=c-u),s&&!td(h)&&(h.t=s,h.m+=l-d,n=e)}return n}(e,r,e.parent.A||n[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*i}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(n=!1,e=+t[0],i=+t[1],r):n?null:[e,i]},r.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],i=+t[1],r):n?[e,i]:null},r},t.treemap=function(){var t=hd,e=!1,i=1,n=1,r=[0],s=jc,o=jc,a=jc,h=jc,l=jc;function u(t){return t.x0=t.y0=0,t.x1=i,t.y1=n,t.eachBefore(c),r=[0],e&&t.eachBefore(Uc),t}function c(e){var i=r[e.depth],n=e.x0+i,u=e.y0+i,c=e.x1-i,d=e.y1-i;c<n&&(n=c=(n+c)/2),d<u&&(u=d=(u+d)/2),e.x0=n,e.y0=u,e.x1=c,e.y1=d,e.children&&(i=r[e.depth+1]=s(e)/2,n+=l(e)-i,u+=o(e)-i,(c-=a(e)-i)<n&&(n=c=(n+c)/2),(d-=h(e)-i)<u&&(u=d=(u+d)/2),t(e,n,u,c,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(i=+t[0],n=+t[1],u):[i,n]},u.tile=function(e){return arguments.length?(t=Bc(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:Hc(+t),u):s},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:Hc(+t),u):o},u.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:Hc(+t),u):a},u.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:Hc(+t),u):h},u.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:Hc(+t),u):l},u},t.treemapBinary=function(t,e,i,n,r){var s,o,a=t.children,h=a.length,l=new Array(h+1);for(l[0]=o=s=0;s<h;++s)l[s+1]=o+=a[s].value;!function t(e,i,n,r,s,o,h){if(e>=i-1){var u=a[e];return u.x0=r,u.y0=s,u.x1=o,void(u.y1=h)}for(var c=l[e],d=n/2+c,f=e+1,p=i-1;f<p;){var g=f+p>>>1;l[g]<d?f=g+1:p=g}d-l[f-1]<l[f]-d&&e+1<f&&--f;var m=l[f]-c,v=n-m;if(o-r>h-s){var y=(r*v+o*m)/n;t(e,f,m,r,s,y,h),t(f,i,v,y,s,o,h)}else{var b=(s*v+h*m)/n;t(e,f,m,r,s,o,b),t(f,i,v,r,b,o,h)}}(0,h,t.value,e,i,n,r)},t.treemapDice=Gc,t.treemapResquarify=ld,t.treemapSlice=sd,t.treemapSliceDice=function(t,e,i,n,r){(1&t.depth?sd:Gc)(t,e,i,n,r)},t.treemapSquarify=hd,t.tsv=to,t.tsvFormat=Ws,t.tsvFormatBody=Us,t.tsvFormatRows=Gs,t.tsvParse=Vs,t.tsvParseRows=qs,t.utcDay=Hf,t.utcDays=Yf,t.utcFriday=Kf,t.utcFridays=ip,t.utcHour=Bf,t.utcHours=jf,t.utcMillisecond=of,t.utcMilliseconds=af,t.utcMinute=Rf,t.utcMinutes=zf,t.utcMonday=Wf,t.utcMondays=$f,t.utcMonth=rp,t.utcMonths=sp,t.utcSaturday=Zf,t.utcSaturdays=np,t.utcSecond=uf,t.utcSeconds=cf,t.utcSunday=qf,t.utcSundays=Qf,t.utcThursday=Xf,t.utcThursdays=ep,t.utcTuesday=Uf,t.utcTuesdays=Jf,t.utcWednesday=Gf,t.utcWednesdays=tp,t.utcWeek=qf,t.utcWeeks=Qf,t.utcYear=op,t.utcYears=ap,t.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},t.variance=h,t.version="5.12.0",t.voronoi=function(){var t=eb,e=ib,i=null;function n(n){return new Rb(n.map(function(i,r){var s=[Math.round(t(i,r,n)/Nb)*Nb,Math.round(e(i,r,n)/Nb)*Nb];return s.index=r,s.data=i,s}),i)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(e){return arguments.length?(t="function"==typeof e?e:tb(+e),n):t},n.y=function(t){return arguments.length?(e="function"==typeof t?t:tb(+t),n):e},n.extent=function(t){return arguments.length?(i=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},n.size=function(t){return arguments.length?(i=null==t?null:[[0,0],[+t[0],+t[1]]],n):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},n},t.window=ht,t.xml=no,t.zip=function(){return M(arguments)},t.zoom=function(){var e,i,n=Wb,r=Ub,s=Zb,o=Xb,a=Kb,h=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=zi,d=Y("start","zoom","end"),f=500,p=150,g=0;function m(t){t.property("__zoom",Gb).on("wheel.zoom",S).on("mousedown.zoom",k).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(h[0],Math.min(h[1],e)))===t.k?t:new jb(e,t.x,t.y)}function y(t,e,i){var n=e[0]-i[0]*t.k,r=e[1]-i[1]*t.k;return n===t.x&&r===t.y?t:new jb(t.k,n,r)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,i){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=this,n=arguments,s=w(t,n),o=r.apply(t,n),a=null==i?b(o):"function"==typeof i?i.apply(t,n):i,h=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=t.__zoom,u="function"==typeof e?e.apply(t,n):e,d=c(l.invert(a).concat(h/l.k),u.invert(a).concat(h/u.k));return function(t){if(1===t)t=u;else{var e=d(t),i=h/e[2];t=new jb(i,a[0]-e[0]*i,a[1]-e[1]*i)}s.zoom(null,t)}})}function w(t,e,i){return!i&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function S(){if(n.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,i=Math.max(h[0],Math.min(h[1],e.k*Math.pow(2,o.apply(this,arguments)))),r=Bt(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[r,e.invert(r)],Mn(this),t.start()}qb(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",s(y(v(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}}function k(){if(!i&&n.apply(this,arguments)){var e=w(this,arguments,!0),r=Nt(t.event.view).on("mousemove.zoom",function(){if(qb(),!e.moved){var i=t.event.clientX-a,n=t.event.clientY-h;e.moved=i*i+n*n>g}e.zoom("mouse",s(y(e.that.__zoom,e.mouse[0]=Bt(e.that),e.mouse[1]),e.extent,l))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),qt(t.event.view,e.moved),qb(),e.end()},!0),o=Bt(this),a=t.event.clientX,h=t.event.clientY;Vt(t.event.view),Vb(),e.mouse=[o,this.__zoom.invert(o)],Mn(this),e.start()}}function C(){if(n.apply(this,arguments)){var e=this.__zoom,i=Bt(this),o=e.invert(i),a=s(y(v(e,e.k*(t.event.shiftKey?.5:2)),i,o),r.apply(this,arguments),l);qb(),u>0?Nt(this).transition().duration(u).call(_,a,i):Nt(this).call(m.transform,a)}}function A(){if(n.apply(this,arguments)){var i,r,s,o,a=t.event.touches,h=a.length,l=w(this,arguments,t.event.changedTouches.length===h);for(Vb(),r=0;r<h;++r)o=[o=jt(this,a,(s=a[r]).identifier),this.__zoom.invert(o),s.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,i=!0,l.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(l.taps<2&&(e=setTimeout(function(){e=null},f)),Mn(this),l.start())}}function T(){if(this.__zooming){var i,n,r,o,a=w(this,arguments),h=t.event.changedTouches,u=h.length;for(qb(),e&&(e=clearTimeout(e)),a.taps=0,i=0;i<u;++i)r=jt(this,h,(n=h[i]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],g=(g=f[0]-c[0])*g+(g=f[1]-c[1])*g,m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m;n=v(n,Math.sqrt(g/m)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",s(y(n,r,o),a.extent,l))}}function M(){if(this.__zooming){var e,n,r=w(this,arguments),s=t.event.changedTouches,o=s.length;for(Vb(),i&&clearTimeout(i),i=setTimeout(function(){i=null},f),e=0;e<o;++e)n=s[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Nt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return m.transform=function(t,e,i){var n=t.selection?t.selection():t;n.property("__zoom",Gb),t!==n?_(t,e,i):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},m.scaleBy=function(t,e,i){m.scaleTo(t,function(){var t=this.__zoom.k,i="function"==typeof e?e.apply(this,arguments):e;return t*i},i)},m.scaleTo=function(t,e,i){m.transform(t,function(){var t=r.apply(this,arguments),n=this.__zoom,o=null==i?b(t):"function"==typeof i?i.apply(this,arguments):i,a=n.invert(o),h="function"==typeof e?e.apply(this,arguments):e;return s(y(v(n,h),o,a),t,l)},i)},m.translateBy=function(t,e,i){m.transform(t,function(){return s(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof i?i.apply(this,arguments):i),r.apply(this,arguments),l)})},m.translateTo=function(t,e,i,n){m.transform(t,function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n;return s(Hb.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof i?-i.apply(this,arguments):-i),t,l)},n)},x.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Mt(new Bb(m,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:zb(+t),m):o},m.filter=function(t){return arguments.length?(n="function"==typeof t?t:zb(!!t),m):n},m.touchable=function(t){return arguments.length?(a="function"==typeof t?t:zb(!!t),m):a},m.extent=function(t){return arguments.length?(r="function"==typeof t?t:zb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):r},m.scaleExtent=function(t){return arguments.length?(h[0]=+t[0],h[1]=+t[1],m):[h[0],h[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(s=t,m):s},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(c=t,m):c},m.on=function(){var t=d.on.apply(d,arguments);return t===d?m:t},m.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,m):Math.sqrt(g)},m},t.zoomIdentity=Hb,t.zoomTransform=Yb,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c3=e()}(this,function(){"use strict";var t,e,i={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},o=function(t){return t||0===t},a=function(t){return"function"==typeof t},h=function(t){return Array.isArray(t)},l=function(t){return"string"==typeof t},u=function(t){return void 0===t},c=function(t){return void 0!==t},d=function(t){return 10*Math.ceil(t/10)},f=function(t){return Math.ceil(t)+.5},p=function(t){return t[1]-t[0]},g=function(t){return null==t||l(t)&&0===t.length||"object"===(void 0===t?"undefined":n(t))&&0===Object.keys(t).length},m=function(t){return!k.isEmpty(t)},v=function(t,e,i){return c(t[e])?t[e]:i},y=function(t,e){var i=!1;return Object.keys(t).forEach(function(n){t[n]===e&&(i=!0)}),i},b=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},_=function(t){var e=t.getBoundingClientRect(),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}};function w(t,e){var i=this;i.component=t,i.params=e||{},i.d3=t.d3,i.scale=i.d3.scale.linear(),i.orient="bottom",i.innerTickSize=6,i.outerTickSize=this.params.withOuterTick?6:0,i.tickPadding=3,i.tickValues=null,i.tickOffset=0,i.tickCulling=!0,i.tickTextRotate=i.params.tickTextRotate,i.axis=i.generateAxis()}(e=w.prototype).axisX=function(t,e,i){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+i)+", 0)"})},e.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},e.scaleExtent=function(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]},e.generateTicks=function(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return n.length>0&&n[0]>0&&n.unshift(n[0]-(n[1]-n[0])),n},e.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},e.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},e.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},e.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var i={h:11.5,w:5.5};return t.select("text").text(function(t){return e.textFormatted(t)}).each(function(t){var n=this.getBoundingClientRect(),r=e.textFormatted(t),s=n.height,o=r?n.width/r.length:void 0;s&&o&&(i.h=s,i.w=o)}).text(""),e.tickTextCharSize=i,i},e.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},e.isVertical=function(){return"left"===this.orient||"right"===this.orient},e.tspanData=function(t,e,i,n){var r=this,s=r.params.tickMultiline?r.splitTickText(t,i,n):[].concat(r.textFormatted(t));return r.params.tickMultiline&&r.params.tickMultilineMax>0&&(s=r.ellipsify(s,r.params.tickMultilineMax)),s.map(function(t){return{index:e,splitted:t,length:s.length}})},e.splitTickText=function(t,e,i){var n,r,s=this,o=s.textFormatted(t),a=s.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(o)?o:((!a||a<=0)&&(a=s.isVertical()?95:s.params.isCategory?Math.ceil(i(e[1])-i(e[0]))-12:110),function t(e,i){r=void 0;for(var o=1;o<i.length;o++)if(" "===i.charAt(o)&&(r=o),n=i.substr(0,o+1),a<s.tickTextCharSize.w*n.length)return t(e.concat(i.substr(0,r||o)),i.slice(r?r+1:o));return e.concat(i)}([],o+""))},e.ellipsify=function(t,e){if(t.length<=e)return t;for(var i=t.slice(0,e),n=3,r=e-1;r>=0;r--){var s=i[r].length;if(i[r]=i[r].substr(0,s-n).padEnd(s,"."),(n-=s)<=0)break}return i},e.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},e.lineY2=function(t){var e=this,i=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<i&&i<e.range[1]?e.innerTickSize:0},e.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},e.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},e.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},e.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},e.tspanDy=function(t,e){var i=this.tickTextCharSize.h;return 0===e&&(i=this.isVertical()?-(this.tickTextCharSize.h/2*(t.length-1)-3):".71em"),i},e.generateAxis=function(){var t=this,e=t.d3,i=t.params;function n(r){r.each(function(){var r,s,o,a=n.g=e.select(this),h=this.__chart__||t.scale,l=this.__chart__=t.copyScale(),u=t.tickValues?t.tickValues:t.generateTicks(l),c=a.selectAll(".tick").data(u,l),d=c.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),f=c.exit().remove(),p=t.transitionise(c).style("opacity",1);i.isCategory?(t.tickOffset=Math.ceil((l(1)-l(0))/2),s=t.tickCentered?0:t.tickOffset,o=t.tickCentered?t.tickOffset:0):t.tickOffset=s=0,d.append("line"),d.append("text"),t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(a.select(".tick"));var g=p.select("line"),m=p.select("text"),v=c.select("text").selectAll("tspan").data(function(e,i){return t.tspanData(e,i,u,l)});v.enter().append("tspan"),v.exit().remove(),v.text(function(t){return t.splitted});var y=a.selectAll(".domain").data([0]),b=(y.enter().append("path").attr("class","domain"),t.transitionise(y));switch(t.orient){case"bottom":r=t.axisX,g.attr("x1",s).attr("x2",s).attr("y2",function(e,i){return t.lineY2(e,i)}),m.attr("x",0).attr("y",function(e,i){return t.textY(e,i)}).attr("transform",function(e,i){return t.textTransform(e,i)}).style("text-anchor",function(e,i){return t.textTextAnchor(e,i)}),v.attr("x",0).attr("dy",function(e,i){return t.tspanDy(e,i)}).attr("dx",function(e,i){return t.tspanDx(e,i)}),b.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":r=t.axisX,g.attr("x1",s).attr("x2",s).attr("y2",function(e,i){return-1*t.lineY2(e,i)}),m.attr("x",0).attr("y",function(e,n){return-1*t.textY(e,n)-(i.isCategory?2:t.tickLength-2)}).attr("transform",function(e,i){return t.textTransform(e,i)}).style("text-anchor",function(e,i){return t.textTextAnchor(e,i)}),v.attr("x",0).attr("dy",function(e,i){return t.tspanDy(e,i)}).attr("dx",function(e,i){return t.tspanDx(e,i)}),b.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":r=t.axisY,g.attr("x2",-t.innerTickSize).attr("y1",o).attr("y2",o),m.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),v.attr("x",-t.tickLength).attr("dy",function(e,i){return t.tspanDy(e,i)}),b.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":r=t.axisY,g.attr("x2",t.innerTickSize).attr("y1",o).attr("y2",o),m.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),v.attr("x",t.tickLength).attr("dy",function(e,i){return t.tspanDy(e,i)}),b.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(l.rangeBand){var _=l,w=_.rangeBand()/2;h=l=function(t){return _(t)+w}}else h.rangeBand?h=l:f.call(r,l,t.tickOffset);d.call(r,h,t.tickOffset),p.call(r,l,t.tickOffset)})}return n.scale=function(e){return arguments.length?(t.scale=e,n):t.scale},n.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",n):t.orient},n.tickFormat=function(e){return arguments.length?(t.tickFormat=e,n):t.tickFormat},n.tickCentered=function(e){return arguments.length?(t.tickCentered=e,n):t.tickCentered},n.tickOffset=function(){return t.tickOffset},n.tickInterval=function(){var e;return(e=i.isCategory?2*t.tickOffset:(n.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/n.g.selectAll("line").size())==1/0?0:e},n.ticks=function(){return arguments.length?(t.tickArguments=arguments,n):t.tickArguments},n.tickCulling=function(e){return arguments.length?(t.tickCulling=e,n):t.tickCulling},n.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return n},n};var x=function(i){function n(i){r(this,n);var o={fn:t,internal:{fn:e}},a=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,"axis",o));return a.d3=i.d3,a.internal=w,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,A),n}();(t=x.prototype).init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",i.axis+" "+i.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",i.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",i.axis+" "+i.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",i.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",i.axis+" "+i.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",i.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},t.getXAxis=function(t,e,i,n,r,s,o){var a=this.owner,h=a.config,l={isCategory:a.isCategorized(),withOuterTick:r,tickMultiline:h.axis_x_tick_multiline,tickMultilineMax:h.axis_x_tick_multiline?Number(h.axis_x_tick_multilineMax):0,tickWidth:h.axis_x_tick_width,tickTextRotate:o?0:h.axis_x_tick_rotate,withoutTransition:s},u=new this.internal(this,l).axis.scale(t).orient(e);return a.isTimeSeries()&&n&&"function"!=typeof n&&(n=n.map(function(t){return a.parseDate(t)})),u.tickFormat(i).tickValues(n),a.isCategorized()&&(u.tickCentered(h.axis_x_tick_centered),g(h.axis_x_tick_culling)&&(h.axis_x_tick_culling=!1)),u},t.updateXAxisTickValues=function(t,e){var i,n=this.owner,r=n.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(i=this.generateTickValues(n.mapTargetsToUniqueXs(t),r.axis_x_tick_count,n.isTimeSeries())),e?e.tickValues(i):(n.xAxis.tickValues(i),n.subXAxis.tickValues(i)),i},t.getYAxis=function(t,e,i,n,r,s,o){var a=this.owner,h=a.config,l=new this.internal(this,{withOuterTick:r,withoutTransition:s,tickTextRotate:o?0:h.axis_y_tick_rotate}).axis.scale(t).orient(e).tickFormat(i);return a.isTimeSeriesY()?l.ticks(a.d3.time[h.axis_y_tick_time_value],h.axis_y_tick_time_interval):l.tickValues(n),l},t.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},t.getXAxisTickFormat=function(){var t=this.owner,e=t.config,i=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};return e.axis_x_tick_format&&(a(e.axis_x_tick_format)?i=e.axis_x_tick_format:t.isTimeSeries()&&(i=function(i){return i?t.axisTimeFormat(e.axis_x_tick_format)(i):""})),a(i)?function(e){return i.call(t,e)}:i},t.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},t.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},t.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},t.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},t.getLabelOptionByAxisId=function(t){var e,i=this.owner.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},t.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return l(e)?e:e?e.text:null},t.setLabelText=function(t,e){var i=this.owner.config,n=this.getLabelOptionByAxisId(t);l(n)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):n&&(n.text=e)},t.getLabelPosition=function(t,e){var i=this.getLabelOptionByAxisId(t),r=i&&"object"===(void 0===i?"undefined":n(i))&&i.position?i.position:e;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},t.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},t.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},t.textForXAxisLabel=function(){return this.getLabelText("x")},t.textForYAxisLabel=function(){return this.getLabelText("y")},t.textForY2AxisLabel=function(){return this.getLabelText("y2")},t.xForAxisLabel=function(t,e){var i=this.owner;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},t.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},t.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},t.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.dyForXAxisLabel=function(){var t=this.owner,e=t.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):i.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},t.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},t.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},t.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.getMaxTickWidth=function(t,e){var i,n,r,s,o=this.owner,a=o.config,h=0;return e&&o.currentMaxTickWidths[t]?o.currentMaxTickWidths[t]:(o.svg&&(i=o.filterTargetsToShow(o.data.targets),"y"===t?(n=o.y.copy().domain(o.getYDomain(i,"y")),r=this.getYAxis(n,o.yOrient,a.axis_y_tick_format,o.yAxisTickValues,!1,!0,!0)):"y2"===t?(n=o.y2.copy().domain(o.getYDomain(i,"y2")),r=this.getYAxis(n,o.y2Orient,a.axis_y2_tick_format,o.y2AxisTickValues,!1,!0,!0)):(n=o.x.copy().domain(o.getXDomain(i)),r=this.getXAxis(n,o.xOrient,o.xAxisTickFormat,o.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(i,r)),(s=o.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){o.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();h<t.width&&(h=t.width)}),s.remove()})),o.currentMaxTickWidths[t]=h<=0?o.currentMaxTickWidths[t]:h,o.currentMaxTickWidths[t])},t.updateLabels=function(t){var e=this.owner,n=e.main.select("."+i.axisX+" ."+i.axisXLabel),r=e.main.select("."+i.axisY+" ."+i.axisYLabel),s=e.main.select("."+i.axisY2+" ."+i.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?s.transition():s).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},t.getPadding=function(t,e,i,n){var r="number"==typeof t?t:t[e];return o(r)?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(r,n):i},t.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},t.generateTickValues=function(t,e,i){var n,r,s,o,h,l,u,c=t;if(e)if(1===(n=a(e)?e():e))c=[t[0]];else if(2===n)c=[t[0],t[t.length-1]];else if(n>2){for(h=((s=t[t.length-1])-(r=t[0]))/(1+(o=n-2)),c=[r],l=0;l<o;l++)u=+r+h*(l+1),c.push(i?new Date(u):u);c.push(s)}return i||(c=c.sort(function(t,e){return t-e})),c},t.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},t.redraw=function(t,e){var i=this.owner;i.axes.x.style("opacity",e?0:1),i.axes.y.style("opacity",e?0:1),i.axes.y2.style("opacity",e?0:1),i.axes.subx.style("opacity",e?0:1),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)};var S,k,C={version:"0.4.23"};function A(t,e,i){this.owner=t,C.chart.internal[e]=i}function T(t){var e=this.internal=new M(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function t(e,i,n){Object.keys(e).forEach(function(r){i[r]=e[r].bind(n),Object.keys(e[r]).length>0&&t(e[r],i[r],n)})}(S,this,this)}function M(t){var e=this;e.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}return C.generate=function(t){return new T(t)},C.chart={fn:T.prototype,internal:{fn:M.prototype}},S=C.chart.fn,(k=C.chart.internal.fn).beforeInit=function(){},k.afterInit=function(){},k.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},k.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=i.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=i.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i.axis_rotated?i.axis_x_inner?"right":"left":i.axis_x_inner?"top":"bottom",t.yOrient=i.axis_rotated?i.axis_y_inner?"top":"bottom":i.axis_y_inner?"right":"left",t.y2Orient=i.axis_rotated?i.axis_y2_inner?"bottom":"top":i.axis_y2_inner?"left":"right",t.subXOrient=i.axis_rotated?"left":"bottom",t.isLegendRight="right"===i.legend_position,t.isLegendInset="inset"===i.legend_position,t.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,t.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},k.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},k.initWithData=function(t){var e,n,r=this,s=r.d3,o=r.config,a=!0;r.axis=new x(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),r.selectChart=o.bindto?"function"==typeof o.bindto.node?o.bindto:s.select(o.bindto):s.selectAll([]),r.selectChart.empty()&&(r.selectChart=s.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),a=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),o.data_filter&&(r.data.targets=r.data.targets.filter(o.data_filter)),o.data_hide&&r.addHiddenTargetIds(!0===o.data_hide?r.mapToIds(r.data.targets):o.data_hide),o.legend_hide&&r.addHiddenLegendIds(!0===o.legend_hide?r.mapToIds(r.data.targets):o.legend_hide),r.updateSizes(),r.updateScales(),r.x.domain(s.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),o.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(r)}).on("mouseleave",function(){return o.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",i.text+" "+i.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",i.chart),o.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+i.regions).attr("class",i.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),a&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},k.smoothLines=function(t,e){var i=this;"grid"===e&&t.each(function(){var t=i.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),r=t.attr("y1"),s=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(r),y2:Math.ceil(s)})})},k.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:i,s=t.hasArcType(),o=e.axis_rotated||s?0:t.getHorizontalAxisHeight("x"),a=e.subchart_show&&!s?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:s?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:a+(s?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:s?0:t.getCurrentPaddingRight(),bottom:o+a+r+t.getCurrentPaddingBottom(),left:s?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-a-r,right:NaN,bottom:o+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&s&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},k.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},k.showTargets=function(){var t=this;t.svg.selectAll("."+i.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},k.redraw=function(t,e){var n,r,s,o,a,h,l,u,c,d,f,p,g,m,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O=this,N=O.main,L=O.d3,I=O.config,F=O.getShapeIndices(O.isAreaType),R=O.getShapeIndices(O.isBarType),z=O.getShapeIndices(O.isLineType),B=O.hasArcType(),j=O.filterTargetsToShow(O.data.targets),H=O.xv.bind(O);if(n=v(t=t||{},"withY",!0),r=v(t,"withSubchart",!0),s=v(t,"withTransition",!0),h=v(t,"withTransform",!1),l=v(t,"withUpdateXDomain",!1),u=v(t,"withUpdateOrgXDomain",!1),c=v(t,"withTrimXDomain",!0),g=v(t,"withUpdateXAxis",l),d=v(t,"withLegend",!1),f=v(t,"withEventRect",!0),p=v(t,"withDimension",!0),o=v(t,"withTransitionForExit",s),a=v(t,"withTransitionForAxis",s),x=s?I.transition_duration:0,S=o?x:0,e=e||O.axis.generateTransitions(a?x:0),d&&I.legend_show?O.updateLegend(O.mapToIds(O.data.targets),t,e):p&&O.updateDimension(!0),O.isCategorized()&&0===j.length&&O.x.domain([0,O.axes.x.selectAll(".tick").size()]),j.length?(O.updateXDomain(j,l,u,c),I.axis_x_tick_values||(A=O.axis.updateXAxisTickValues(j))):(O.xAxis.tickValues([]),O.subXAxis.tickValues([])),I.zoom_rescale&&!t.flow&&(E=O.x.orgDomain()),O.y.domain(O.getYDomain(j,"y",E)),O.y2.domain(O.getYDomain(j,"y2",E)),!I.axis_y_tick_values&&I.axis_y_tick_count&&O.yAxis.tickValues(O.axis.generateTickValues(O.y.domain(),I.axis_y_tick_count)),!I.axis_y2_tick_values&&I.axis_y2_tick_count&&O.y2Axis.tickValues(O.axis.generateTickValues(O.y2.domain(),I.axis_y2_tick_count)),O.axis.redraw(e,B),O.axis.updateLabels(s),(l||g)&&j.length)if(I.axis_x_tick_culling&&A){for(T=1;T<A.length;T++)if(A.length/T<I.axis_x_tick_culling_max){M=T;break}O.svg.selectAll("."+i.axisX+" .tick text").each(function(t){var e=A.indexOf(t);e>=0&&L.select(this).style("display",e%M?"none":"block")})}else O.svg.selectAll("."+i.axisX+" .tick text").style("display","block");m=O.generateDrawArea?O.generateDrawArea(F,!1):void 0,y=O.generateDrawBar?O.generateDrawBar(R):void 0,b=O.generateDrawLine?O.generateDrawLine(z,!1):void 0,_=O.generateXYForText(F,R,z,!0),w=O.generateXYForText(F,R,z,!1),n&&(O.subY.domain(O.getYDomain(j,"y")),O.subY2.domain(O.getYDomain(j,"y2"))),O.updateXgridFocus(),N.select("text."+i.text+"."+i.empty).attr("x",O.width/2).attr("y",O.height/2).text(I.data_empty_label_text).transition().style("opacity",j.length?0:1),O.updateGrid(x),O.updateRegion(x),O.updateBar(S),O.updateLine(S),O.updateArea(S),O.updateCircle(),O.hasDataLabel()&&O.updateText(S),O.redrawTitle&&O.redrawTitle(),O.redrawArc&&O.redrawArc(x,S,h),O.redrawSubchart&&O.redrawSubchart(r,e,x,S,F,R,z),N.selectAll("."+i.selectedCircles).filter(O.isBarType.bind(O)).selectAll("circle").remove(),I.interaction_enabled&&!t.flow&&f&&(O.redrawEventRect(),O.updateZoom&&O.updateZoom()),O.updateCircleY(),D=(O.config.axis_rotated?O.circleY:O.circleX).bind(O),P=(O.config.axis_rotated?O.circleX:O.circleY).bind(O),t.flow&&(C=O.generateFlow({targets:j,flow:t.flow,duration:t.flow.duration,drawBar:y,drawLine:b,drawArea:m,cx:D,cy:P,xv:H,xForText:_,yForText:w})),(x||C)&&O.isTabVisible()?L.transition().duration(x).each(function(){var e=[];[O.redrawBar(y,!0),O.redrawLine(b,!0),O.redrawArea(m,!0),O.redrawCircle(D,P,!0),O.redrawText(_,w,t.flow,!0),O.redrawRegion(!0),O.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),k=O.generateWait(),e.forEach(function(t){k.add(t)})}).call(k,function(){C&&C(),I.onrendered&&I.onrendered.call(O)}):(O.redrawBar(y),O.redrawLine(b),O.redrawArea(m),O.redrawCircle(D,P),O.redrawText(_,w,t.flow),O.redrawRegion(),O.redrawGrid(),I.onrendered&&I.onrendered.call(O)),O.mapToIds(O.data.targets).forEach(function(t){O.withoutFadeIn[t]=!0})},k.updateAndRedraw=function(t){var e,i=this,n=i.config;(t=t||{}).withTransition=v(t,"withTransition",!0),t.withTransform=v(t,"withTransform",!1),t.withLegend=v(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=v(t,"withTransitionForTransform",t.withTransition),i.updateSizes(),t.withLegend&&n.legend_show||(e=i.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(t.withTransitionForTransform,e)),i.redraw(t,e)},k.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},k.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},k.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},k.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||m(t.data_xs))},k.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},k.getTranslate=function(t){var e,i,n=this,r=n.config;return"main"===t?(e=f(n.margin.left),i=f(n.margin.top)):"context"===t?(e=f(n.margin2.left),i=f(n.margin2.top)):"legend"===t?(e=n.margin3.left,i=n.margin3.top):"x"===t?(e=0,i=r.axis_rotated?0:n.height):"y"===t?(e=0,i=r.axis_rotated?n.height:0):"y2"===t?(e=r.axis_rotated?0:n.width,i=r.axis_rotated?1:0):"subx"===t?(e=0,i=r.axis_rotated?0:n.height2):"arc"===t&&(e=n.arcWidth/2,i=n.arcHeight/2-(n.hasType("gauge")?6:0)),"translate("+e+","+i+")"},k.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},k.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},k.opacityForCircle=function(t){var e=(a(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return o(t.value)?this.isScatterType(t)?.5:e:0},k.opacityForText=function(){return this.hasDataLabel()?1:0},k.xx=function(t){return t?this.x(t.x):null},k.xv=function(t){var e=this,i=t.value;return e.isTimeSeries()?i=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(i=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(i))},k.yv=function(t){return Math.ceil((t.axis&&"y2"===t.axis?this.y2:this.y)(t.value))},k.subxx=function(t){return t?this.subX(t.x):null},k.transformMain=function(t,e){var n,r,s,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+i.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+i.axisY),t&&(r=r.transition())),e&&e.axisY2?s=e.axisY2:(s=o.main.select("."+i.axisY2),t&&(s=s.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),s.attr("transform",o.getTranslate("y2")),o.main.select("."+i.chartArcs).attr("transform",o.getTranslate("arc"))},k.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},k.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+i.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},k.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},k.observeInserted=function(t){var e,i=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver(function(n){n.forEach(function(n){"childList"===n.type&&n.previousSibling&&(e.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})})).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},k.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.attachEvent)window.attachEvent("onresize",t.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var i=window.onresize;i?i.add&&i.remove||(i=t.generateResize()).add(window.onresize):i=t.generateResize(),i.add(t.resizeFunction),window.onresize=function(){t.api.element.offsetParent&&i()}}},k.generateResize=function(){var t=[];function e(){t.forEach(function(t){t()})}return e.add=function(e){t.push(e)},e.remove=function(e){for(var i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}},e},k.endall=function(t,e){var i=0;t.each(function(){++i}).each("end",function(){--i||e.apply(this,arguments)})},k.generateWait=function(){var t=[],e=function(e,i){var n=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}}),e===t.length&&(clearInterval(n),i&&i())},10)};return e.add=function(e){t.push(e)},e},k.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeFormat(this.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":n(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},k.isTabVisible=function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),!document[t]},k.isValue=o,k.isFunction=a,k.isString=l,k.isUndefined=u,k.isDefined=c,k.ceil10=d,k.asHalfPixel=f,k.diffDomain=p,k.isEmpty=g,k.notEmpty=m,k.notEmpty=m,k.getOption=v,k.hasValue=y,k.sanitise=b,k.getPathBox=_,k.CLASS=i,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,n,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,n,r,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,n,r,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,i,n,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,r,s){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,i,n,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,r,s,o){return new window.SVGPathSegArcAbs(void 0,t,e,i,n,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,r,s,o){return new window.SVGPathSegArcRel(void 0,t,e,i,n,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var i=e.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(e.pathSegList.removeItem(i),t>e.getTotalLength())break;i--}while(i>0);return i})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;return t.forEach(function(t){i?(i=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,i=1,n=0,r=1,s=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var h=this._currentIndex-1,l=1;h>=a;)e+=l*(this._string.charAt(h--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)i*=10,n+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+n;if(u*=r,t&&(u*=Math.pow(10,s*t)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],i=this._pathSegTypeFromChar(t);if(i==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((i=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new i,s=new n(t);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){var o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),S.axis=function(){},S.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(i){e.axis.setLabelText(i,t[i])}),e.axis.updateLabels())},S.axis.max=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};"object"===(void 0===t?"undefined":n(t))?(o(t.x)&&(i.axis_x_max=t.x),o(t.y)&&(i.axis_y_max=t.y),o(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},S.axis.min=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};"object"===(void 0===t?"undefined":n(t))?(o(t.x)&&(i.axis_x_min=t.x),o(t.y)&&(i.axis_y_min=t.y),o(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},S.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};c(t.max)&&this.axis.max(t.max),c(t.min)&&this.axis.min(t.min)},S.category=function(t,e){var i=this.internal,n=i.config;return arguments.length>1&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},S.categories=function(t){var e=this.internal,i=e.config;return arguments.length?(i.axis_x_categories=t,e.redraw(),i.axis_x_categories):i.axis_x_categories},S.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},S.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},S.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeIfElementDisplayed);else{var e=window.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.resizeFunction.remove(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},S.color=function(t){return this.internal.color(t)},S.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},S.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},S.data.values=function(t){var e,i=null;return t&&(i=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),i},S.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},S.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},S.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},S.flow=function(t){var e,i,n,r,s,a,h,l=this.internal,u=[],d=l.getMaxDataCount(),f=0,p=0;if(t.json)i=l.convertJsonToData(t.json,t.keys);else if(t.rows)i=l.convertRowsToData(t.rows);else{if(!t.columns)return;i=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(i,!0),l.data.targets.forEach(function(t){var i,n,r=!1;for(i=0;i<e.length;i++)if(t.id===e[i].id){for(r=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),f=e[i].values.length,n=0;n<f;n++)e[i].values[n].index=p+n,l.isTimeSeries()||(e[i].values[n].x=p+n);t.values=t.values.concat(e[i].values),e.splice(i,1);break}r||u.push(t.id)}),l.data.targets.forEach(function(t){var e,i;for(e=0;e<u.length;e++)if(t.id===u[e])for(p=t.values[t.values.length-1].index+1,i=0;i<f;i++)t.values.push({id:t.id,index:p+i,x:l.isTimeSeries()?l.getOtherTargetX(p+i):p+i,value:null})}),l.data.targets.length&&e.forEach(function(t){var e,i=[];for(e=l.data.targets[0].values[0].index;e<p;e++)i.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,l.isTimeSeries()||(t.x+=p)}),t.values=i.concat(t.values)}),l.data.targets=l.data.targets.concat(e),l.getMaxDataCount(),s=(r=l.data.targets[0]).values[0],c(t.to)?(f=0,h=l.isTimeSeries()?l.parseDate(t.to):t.to,r.values.forEach(function(t){t.x<h&&f++})):c(t.length)&&(f=t.length),d?1===d&&l.isTimeSeries()&&(a=(r.values[r.values.length-1].x-s.x)/2,n=[new Date(+s.x-a),new Date(+s.x+a)],l.updateXDomain(null,!0,!0,!1,n)):(a=l.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-s.x:s.x-l.getXDomain(l.data.targets)[0]:1,l.updateXDomain(null,!0,!0,!1,n=[s.x-a,s.x])),l.updateTargets(l.data.targets),l.redraw({flow:{index:s.index,length:f,duration:o(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},k.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var s,o,a,h,l=t.targets,u=t.flow,c=t.drawBar,d=t.drawLine,f=t.drawArea,g=t.cx,m=t.cy,v=t.xv,y=t.xForText,b=t.yForText,_=t.duration,w=u.index,x=u.length,S=e.getValueOnIndex(e.data.targets[0].values,w),k=e.getValueOnIndex(e.data.targets[0].values,w+x),C=e.x.domain(),A=u.duration||_,T=u.done||function(){},M=e.generateWait(),E=e.xgrid||r.selectAll([]),D=e.xgridLines||r.selectAll([]),P=e.mainRegion||r.selectAll([]),O=e.mainText||r.selectAll([]),N=e.mainBar||r.selectAll([]),L=e.mainLine||r.selectAll([]),I=e.mainArea||r.selectAll([]),F=e.mainCircle||r.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,x)}),h=e.updateXDomain(l,!0,!0),e.updateXGrid&&e.updateXGrid(!0),u.orgDataCount?s=1===u.orgDataCount||(S&&S.x)===(k&&k.x)?e.x(C[0])-e.x(h[0]):e.isTimeSeries()?e.x(C[0])-e.x(h[0]):e.x(S.x)-e.x(k.x):1!==e.data.targets[0].values.length?s=e.x(C[0])-e.x(h[0]):e.isTimeSeries()?(S=e.getValueOnIndex(e.data.targets[0].values,0),k=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),s=e.x(S.x)-e.x(k.x)):s=p(h)/2,o=p(C)/p(h),a="translate("+s+",0) scale("+o+",1)",e.hideXGridFocus(),r.transition().ease("linear").duration(A).each(function(){M.add(e.axes.x.transition().call(e.xAxis)),M.add(N.transition().attr("transform",a)),M.add(L.transition().attr("transform",a)),M.add(I.transition().attr("transform",a)),M.add(F.transition().attr("transform",a)),M.add(O.transition().attr("transform",a)),M.add(P.filter(e.isRegionOnX).transition().attr("transform",a)),M.add(E.transition().attr("transform",a)),M.add(D.transition().attr("transform",a))}).call(M,function(){var t,r=[],s=[],o=[];if(x){for(t=0;t<x;t++)r.push("."+i.shape+"-"+(w+t)),s.push("."+i.text+"-"+(w+t)),o.push("."+i.eventRect+"-"+(w+t));e.svg.selectAll("."+i.shapes).selectAll(r).remove(),e.svg.selectAll("."+i.texts).selectAll(s).remove(),e.svg.selectAll("."+i.eventRects).selectAll(o).remove(),e.svg.select("."+i.xgrid).remove()}E.attr("transform",null).attr(e.xgridAttr),D.attr("transform",null),D.select("line").attr("x1",n.axis_rotated?0:v).attr("x2",n.axis_rotated?e.width:v),D.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",v),N.attr("transform",null).attr("d",c),L.attr("transform",null).attr("d",d),I.attr("transform",null).attr("d",f),F.attr("transform",null).attr("cx",g).attr("cy",m),O.attr("transform",null).attr("x",y).attr("y",b).style("fill-opacity",e.opacityForText.bind(e)),P.attr("transform",null),P.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),T(),e.flowing=!1})}},S.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(i.focused,!0).classed(i.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},S.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(i.focused,!1).classed(i.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),e.defocusedTargetIds=t},S.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(i.focused,!1).classed(i.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(i.legendItemFocused)}).classed(i.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},S.xgrids=function(t){var e=this.internal,i=e.config;return t?(i.grid_x_lines=t,e.redrawWithoutRescale(),i.grid_x_lines):i.grid_x_lines},S.xgrids.add=function(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},S.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},S.ygrids=function(t){var e=this.internal,i=e.config;return t?(i.grid_y_lines=t,e.redrawWithoutRescale(),i.grid_y_lines):i.grid_y_lines},S.ygrids.add=function(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},S.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},S.groups=function(t){var e=this.internal,i=e.config;return u(t)?i.data_groups:(i.data_groups=t,e.redraw(),i.data_groups)},S.legend=function(){},S.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},S.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},S.load=function(t){var e=this.internal,i=e.config;t.xs&&e.addXs(t.xs),"names"in t&&S.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){i.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(i.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){i.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){i.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):"unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},S.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},S.regions=function(t){var e=this.internal,i=e.config;return t?(i.regions=t,e.redrawWithoutRescale(),i.regions):i.regions},S.regions.add=function(t){var e=this.internal,i=e.config;return t?(i.regions=i.regions.concat(t),e.redrawWithoutRescale(),i.regions):i.regions},S.regions.remove=function(t){var e,n,r,s=this.internal,o=s.config;return e=s.getOption(t=t||{},"duration",o.transition_duration),n=s.getOption(t,"classes",[i.region]),r=s.main.select("."+i.regions).selectAll(n.map(function(t){return"."+t})),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e)}),o.regions},S.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+i.shape).filter(function(){return n.select(this).classed(i.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},S.select=function(t,e,n){var r=this.internal,s=r.d3,o=r.config;o.data_selection_enabled&&r.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(a,h){var l=s.select(this),u=a.data?a.data.id:a.id,d=r.getToggle(this,a).bind(r),f=o.data_selection_grouped||!t||t.indexOf(u)>=0,p=!e||e.indexOf(h)>=0,g=l.classed(i.SELECTED);l.classed(i.line)||l.classed(i.area)||(f&&p?o.data_selection_isselectable(a)&&!g&&d(!0,l.classed(i.SELECTED,!0),a,h):c(n)&&n&&g&&d(!1,l.classed(i.SELECTED,!1),a,h))})},S.unselect=function(t,e){var n=this.internal,r=n.d3,s=n.config;s.data_selection_enabled&&n.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(o,a){var h=r.select(this),l=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),c=s.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(a)>=0,f=h.classed(i.SELECTED);h.classed(i.line)||h.classed(i.area)||c&&d&&s.data_selection_isselectable(o)&&f&&u(!1,h.classed(i.SELECTED,!1),o,a)})},S.show=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.removeHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style("opacity",1,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",1)}),e.withLegend&&n.showLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},S.hide=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.addHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style("opacity",0,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",0)}),e.withLegend&&n.hideLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},S.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})},S.tooltip=function(){},S.tooltip.show=function(t){var e,i,n=this.internal;t.mouse&&(i=t.mouse),t.data?n.isMultipleX()?(i=[n.x(t.data.x),n.getYScale(t.data.id)(t.data.value)],e=null):e=o(t.data.index)?t.data.index:n.getIndexByX(t.data.x):void 0!==t.x?e=n.getIndexByX(t.x):void 0!==t.index&&(e=t.index),n.dispatchEvent("mouseover",e,i),n.dispatchEvent("mousemove",e,i),n.config.tooltip_onshow.call(n,t.data)},S.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},S.transform=function(t,e){var i=this.internal,n=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;i.transformTo(e,t,n)},k.transformTo=function(t,e,i){var n=this,r=!n.hasArcType(),s=i||{withTransitionForAxis:r};s.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(s)},S.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},S.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},S.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},S.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},S.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},S.zoom.max=function(t){var e=this.internal,i=e.config;if(0!==t&&!t)return i.zoom_x_max;i.zoom_x_max=e.d3.max([e.orgXDomain[1],t])},S.zoom.min=function(t){var e=this.internal,i=e.config;if(0!==t&&!t)return i.zoom_x_min;i.zoom_x_min=e.d3.min([e.orgXDomain[0],t])},S.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};c(t.max)&&this.domain.max(t.max),c(t.min)&&this.domain.min(t.min)},k.initPie=function(){this.pie=this.d3.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),this.pie.sort(this.getOrderFunction()||null)},k.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width,n=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=i||(n<=t.radius-t.innerRadius?t.radius-t.innerRadius:n<=t.radius?n:t.radius)},k.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},k.updateAngle=function(t){var e,i,n,r,s=this,o=s.config,a=!1,h=0;return o?(s.pie(s.filterTargetsToShow(s.data.targets)).forEach(function(e){a||e.data.id!==t.data.id||(a=!0,(t=e).index=h),h++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),s.isGaugeType(t.data)&&(e=o.gauge_min,i=o.gauge_max,n=Math.PI*(o.gauge_fullCircle?2:1)/(i-e),r=t.value<e?0:t.value<i?t.value-e:i-e,t.startAngle=o.gauge_startingAngle,t.endAngle=t.startAngle+n*r),a?t:null):null},k.getSvgArc=function(){var t=this,e=t.hasType("gauge"),i=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,n=t.d3.svg.arc().outerRadius(function(n){return e?t.radius-i*n.index:t.radius}).innerRadius(function(n){return e?t.radius-i*(n.index+1):t.innerRadius}),r=function(e,i){var r;return i?n(e):(r=t.updateAngle(e))?n(r):"M 0 0"};return r.centroid=n.centroid,r},k.getSvgArcExpanded=function(t){t=t||1;var e=this,i=e.hasType("gauge"),n=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,r=Math.min(e.radiusExpanded*t-e.radius,.8*n-100*(1-t)),s=e.d3.svg.arc().outerRadius(function(s){return i?e.radius-n*s.index+r:e.radiusExpanded*t}).innerRadius(function(t){return i?e.radius-n*(t.index+1):e.innerRadius});return function(t){var i=e.updateAngle(t);return i?s(i):"M 0 0"}},k.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},k.transformForArcLabel=function(t){var e,i,n,r,s,o=this,h=o.config,l=o.updateAngle(t),u="",c=o.hasType("gauge");if(l&&!c)e=this.svgArc.centroid(l),i=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1],r=Math.sqrt(i*i+n*n),u="translate("+i*(s=o.hasType("donut")&&h.donut_label_ratio?a(h.donut_label_ratio)?h.donut_label_ratio(t,o.radius,r):h.donut_label_ratio:o.hasType("pie")&&h.pie_label_ratio?a(h.pie_label_ratio)?h.pie_label_ratio(t,o.radius,r):h.pie_label_ratio:o.radius&&r?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/r:0)+","+n*s+")";else if(l&&c&&o.filterTargetsToShow(o.data.targets).length>1){var d=Math.sin(l.endAngle-Math.PI/2);u="translate("+(i=Math.cos(l.endAngle-Math.PI/2)*(o.radiusExpanded+25))+","+(n=d*(o.radiusExpanded+15-Math.abs(10*d))+3)+")"}return u},k.getArcRatio=function(t){var e=this.config,i=Math.PI*(this.hasType("gauge")&&!e.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/i:null},k.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},k.textForArcLabel=function(t){var e,i,n,r,s,o=this;return o.shouldShowArcLabel()?(i=(e=o.updateAngle(t))?e.value:null,n=o.getArcRatio(e),r=t.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(n)?(s=o.getArcLabelFormat())?s(i,n,r):o.defaultArcValueFormat(i,n):""):""},k.textForGaugeMinMax=function(t,e){var i=this.getGaugeLabelExtents();return i?i(t,e):t},k.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+i.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},k.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+i.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+i.arc))},k.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},k.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},k.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},k.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},k.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},k.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},k.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},k.updateTargetsForArc=function(t){var e,n=this,r=n.main,s=n.classChartArc.bind(n),o=n.classArcs.bind(n),a=n.classFocus.bind(n);(e=r.select("."+i.chartArcs).selectAll("."+i.chartArc).data(n.pie(t)).attr("class",function(t){return s(t)+a(t.data)}).enter().append("g").attr("class",s)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},k.initArc=function(){var t=this;t.arcs=t.main.select("."+i.chart).append("g").attr("class",i.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",i.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},k.redrawArc=function(t,e,n){var r,s,o,a=this,h=a.d3,l=a.config,u=a.main,c=a.hasType("gauge");if((r=u.selectAll("."+i.arcs).selectAll("."+i.arc).data(a.arcData.bind(a))).enter().append("path").attr("class",a.classArc.bind(a)).style("fill",function(t){return a.color(t.data)}).style("cursor",function(t){return l.interaction_enabled&&l.data_selection_isselectable(t)?"pointer":null}).each(function(t){a.isGaugeType(t.data)&&(t.startAngle=t.endAngle=l.gauge_startingAngle),this._current=t}),c&&((o=u.selectAll("."+i.arcs).selectAll("."+i.arcLabelLine).data(a.arcData.bind(a))).enter().append("rect").attr("class",function(t){return i.arcLabelLine+" "+i.target+" "+i.target+"-"+t.data.id}),1===a.filterTargetsToShow(a.data.targets).length?o.style("display","none"):o.style("fill",function(t){return l.color_pattern.length>0?a.levelColor(t.data.values[0].value):a.color(t.data)}).style("display",l.gauge_labelLine_show?"":"none").each(function(t){var e=0,i=0,n=0,r="";if(a.hiddenTargetIds.indexOf(t.data.id)<0){var s=a.updateAngle(t),o=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length*(s.index+1),l=s.endAngle-Math.PI/2,u=a.radius-o,c=l-(0===u?0:1/u);e=a.radiusExpanded-a.radius+o,i=Math.cos(c)*u,n=Math.sin(c)*u,r="rotate("+180*l/Math.PI+", "+i+", "+n+")"}h.select(this).attr({x:i,y:n,width:e,height:2,transform:r}).style("stroke-dasharray","0, "+(e+2)+", 0")})),r.attr("transform",function(t){return!a.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",l.interaction_enabled?function(t){var e,i;a.transiting||(e=a.updateAngle(t))&&(i=a.convertToArcData(e),a.expandArc(e.data.id),a.api.focus(e.data.id),a.toggleFocusLegend(e.data.id,!0),a.config.data_onmouseover(i,this))}:null).on("mousemove",l.interaction_enabled?function(t){var e,i=a.updateAngle(t);i&&(e=[a.convertToArcData(i)],a.showTooltip(e,this))}:null).on("mouseout",l.interaction_enabled?function(t){var e,i;a.transiting||(e=a.updateAngle(t))&&(i=a.convertToArcData(e),a.unexpandArc(e.data.id),a.api.revert(),a.revertLegend(),a.hideTooltip(),a.config.data_onmouseout(i,this))}:null).on("click",l.interaction_enabled?function(t,e){var i,n=a.updateAngle(t);n&&(i=a.convertToArcData(n),a.toggleShape&&a.toggleShape(this,i,e),a.config.data_onclick.call(a.api,i,this))}:null).each(function(){a.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,i=a.updateAngle(t);return i?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=h.interpolate(this._current,i),this._current=e(0),function(i){var n=e(i);return n.data=t.data,a.getArc(n,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return a.levelColor?a.levelColor(t.data.values[0].value):a.color(t.data.id)}).call(a.endall,function(){a.transiting=!1}),r.exit().transition().duration(e).style("opacity",0).remove(),u.selectAll("."+i.chartArc).select("text").style("opacity",0).attr("class",function(t){return a.isGaugeType(t.data)?i.gaugeValue:""}).text(a.textForArcLabel.bind(a)).attr("transform",a.transformForArcLabel.bind(a)).style("font-size",function(t){return a.isGaugeType(t.data)&&1===a.filterTargetsToShow(a.data.targets).length?Math.round(a.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return a.isTargetToShow(t.data.id)&&a.isArcType(t.data)?1:0}),u.select("."+i.chartArcsTitle).style("opacity",a.hasType("donut")||c?1:0),c){var d=0;(s=a.arcs.select("g."+i.chartArcsBackground).selectAll("path."+i.chartArcsBackground).data(a.data.targets)).enter().append("path"),s.attr("class",function(t,e){return i.chartArcsBackground+" "+i.chartArcsBackground+"-"+e}).attr("d",function(t){if(a.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var e={data:[{value:l.gauge_max}],startAngle:l.gauge_startingAngle,endAngle:-1*l.gauge_startingAngle*(l.gauge_fullCircle?Math.PI:1),index:d++};return a.getArc(e,!0,!0)}),s.exit().remove(),a.arcs.select("."+i.chartArcsGaugeUnit).attr("dy",".75em").text(l.gauge_label_show?l.gauge_units:""),a.arcs.select("."+i.chartArcsGaugeMin).attr("dx",-1*(a.innerRadius+(a.radius-a.innerRadius)/(l.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(l.gauge_label_show?a.textForGaugeMinMax(l.gauge_min,!1):""),a.arcs.select("."+i.chartArcsGaugeMax).attr("dx",a.innerRadius+(a.radius-a.innerRadius)/(l.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(l.gauge_label_show?a.textForGaugeMinMax(l.gauge_max,!0):"")}},k.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",i.chartArcsBackground),t.append("text").attr("class",i.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},k.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},k.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},k.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},k.getCaches=function(t){var e,i=[];for(e=0;e<t.length;e++)t[e]in this.cache&&i.push(this.cloneTarget(this.cache[t[e]]));return i},k.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},k.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},k.classText=function(t){return this.generateClass(i.text,t.index)},k.classTexts=function(t){return this.generateClass(i.texts,t.id)},k.classShape=function(t){return this.generateClass(i.shape,t.index)},k.classShapes=function(t){return this.generateClass(i.shapes,t.id)},k.classLine=function(t){return this.classShape(t)+this.generateClass(i.line,t.id)},k.classLines=function(t){return this.classShapes(t)+this.generateClass(i.lines,t.id)},k.classCircle=function(t){return this.classShape(t)+this.generateClass(i.circle,t.index)},k.classCircles=function(t){return this.classShapes(t)+this.generateClass(i.circles,t.id)},k.classBar=function(t){return this.classShape(t)+this.generateClass(i.bar,t.index)},k.classBars=function(t){return this.classShapes(t)+this.generateClass(i.bars,t.id)},k.classArc=function(t){return this.classShape(t.data)+this.generateClass(i.arc,t.data.id)},k.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(i.arcs,t.data.id)},k.classArea=function(t){return this.classShape(t)+this.generateClass(i.area,t.id)},k.classAreas=function(t){return this.classShapes(t)+this.generateClass(i.areas,t.id)},k.classRegion=function(t,e){return this.generateClass(i.region,e)+" "+("class"in t?t.class:"")},k.classEvent=function(t){return this.generateClass(i.eventRect,t.index)},k.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+i.target+"-"+e),this.generateClass(i.target,t)+n},k.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},k.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?i.focused:"")},k.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?i.defocused:"")},k.classChartText=function(t){return i.chartText+this.classTarget(t.id)},k.classChartLine=function(t){return i.chartLine+this.classTarget(t.id)},k.classChartBar=function(t){return i.chartBar+this.classTarget(t.id)},k.classChartArc=function(t){return i.chartArc+this.classTarget(t.data.id)},k.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},k.selectorTarget=function(t,e){return(e||"")+"."+i.target+this.getTargetSelectorSuffix(t)},k.selectorTargets=function(t,e){var i=this;return(t=t||[]).length?t.map(function(t){return i.selectorTarget(t,e)}):null},k.selectorLegend=function(t){return"."+i.legendItem+this.getTargetSelectorSuffix(t)},k.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},k.getClipPath=function(t){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},k.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},k.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},k.getAxisClipY=function(t){return t?-20:-this.margin.top},k.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},k.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},k.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},k.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},k.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),i=Math.max(30,this.margin.right);return t?this.width+2+e+i:this.margin.left+20},k.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},k.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},k.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},k.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},k.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},k.generateColor=function(){var t=this.config,e=this.d3,i=t.data_colors,n=m(t.color_pattern)?t.color_pattern:e.scale.category10().range(),r=t.data_color,s=[];return function(t){var e,o=t.id||t.data&&t.data.id||t;return i[o]instanceof Function?e=i[o](t):i[o]?e=i[o]:(s.indexOf(o)<0&&s.push(o),e=n[s.indexOf(o)%n.length],i[o]=e),r instanceof Function?r(e,t):e}},k.generateLevelColor=function(){var t=this.config,e=t.color_pattern,i=t.color_threshold,n="value"===i.unit,r=i.values&&i.values.length?i.values:[],s=i.max||100;return m(t.color_threshold)?function(t){var i,o=e[e.length-1];for(i=0;i<r.length;i++)if((n?t:100*t/s)<r[i]){o=e[i];break}return o}:null},k.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},k.additionalConfig={},k.loadConfig=function(t){var e,i,r,s=this.config;Object.keys(s).forEach(function(o){e=t,i=o.split("_"),r=function t(){var r=i.shift();return r&&e&&"object"===(void 0===e?"undefined":n(e))&&r in e?(e=e[r],t()):r?void 0:e}(),c(r)&&(s[o]=r)})},k.convertUrlToData=function(t,e,i,n,r){var s=this,o=e||"csv",a=s.d3.xhr(t);i&&Object.keys(i).forEach(function(t){a.header(t,i[t])}),a.get(function(t,e){var i,a=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");i="json"===o?s.convertJsonToData(JSON.parse(a),n):"tsv"===o?s.convertTsvToData(a):s.convertCsvToData(a),r.call(s,i)})},k.convertXsvToData=function(t,e){var i,n=e.parseRows(t);return 1===n.length?(i=[{}],n[0].forEach(function(t){i[0][t]=null})):i=e.parse(t),i},k.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},k.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},k.convertJsonToData=function(t,e){var i,n,r=this,s=[];return e?(e.x?(i=e.value.concat(e.x),r.config.data_x=e.x):i=e.value,s.push(i),t.forEach(function(t){var e=[];i.forEach(function(i){var n=r.findValueInJson(t,i);u(n)&&(n=null),e.push(n)}),s.push(e)}),n=r.convertRowsToData(s)):(Object.keys(t).forEach(function(e){s.push([e].concat(t[e]))}),n=r.convertColumnsToData(s)),n},k.findValueInJson=function(t,e){for(var i=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0;n<i.length;++n){var r=i[n];if(!(r in t))return;t=t[r]}return t},k.convertRowsToData=function(t){for(var e=[],i=t[0],n=1;n<t.length;n++){for(var r={},s=0;s<t[n].length;s++){if(u(t[n][s]))throw new Error("Source data is missing a component at ("+n+","+s+")!");r[i[s]]=t[n][s]}e.push(r)}return e},k.convertColumnsToData=function(t){for(var e=[],i=0;i<t.length;i++)for(var n=t[i][0],r=1;r<t[i].length;r++){if(u(e[r-1])&&(e[r-1]={}),u(t[i][r]))throw new Error("Source data is missing a component at ("+i+","+r+")!");e[r-1][n]=t[i][r]}return e},k.convertDataToTargets=function(t,e){var i,n=this,r=n.config,s=n.d3.keys(t[0]).filter(n.isNotX,n),a=n.d3.keys(t[0]).filter(n.isX,n);return s.forEach(function(i){var s=n.getXKey(i);n.isCustomX()||n.isTimeSeries()?a.indexOf(s)>=0?n.data.xs[i]=(e&&n.data.xs[i]?n.data.xs[i]:[]).concat(t.map(function(t){return t[s]}).filter(o).map(function(t,e){return n.generateTargetX(t,i,e)})):r.data_x?n.data.xs[i]=n.getOtherTargetXs():m(r.data_xs)&&(n.data.xs[i]=n.getXValuesOfXKey(s,n.data.targets)):n.data.xs[i]=t.map(function(t,e){return e})}),s.forEach(function(t){if(!n.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(i=s.map(function(e,i){var s=r.data_idConverter(e);return{id:s,id_org:e,values:t.map(function(t,o){var a,h=t[n.getXKey(e)],l=null===t[e]||isNaN(t[e])?null:+t[e];return n.isCustomX()&&n.isCategorized()&&!u(h)?(0===i&&0===o&&(r.axis_x_categories=[]),-1===(a=r.axis_x_categories.indexOf(h))&&(a=r.axis_x_categories.length,r.axis_x_categories.push(h))):a=n.generateTargetX(h,e,o),(u(t[e])||n.data.xs[e].length<=o)&&(a=void 0),{x:a,value:l,id:s}}).filter(function(t){return c(t.x)})}})).forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),n.data.xs[t.id].sort(function(t,e){return t-e})}),n.hasNegativeValue=n.hasNegativeValueInTargets(i),n.hasPositiveValue=n.hasPositiveValueInTargets(i),r.data_type&&n.setTargetType(n.mapToIds(i).filter(function(t){return!(t in r.data_types)}),r.data_type),i.forEach(function(t){n.addCache(t.id_org,t)}),i},k.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||m(e.data_xs)&&y(e.data_xs,t)},k.isNotX=function(t){return!this.isX(t)},k.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:m(e.data_xs)?e.data_xs[t]:null},k.getXValuesOfXKey=function(t,e){var i,n=this;return(e&&m(e)?n.mapToIds(e):[]).forEach(function(e){n.getXKey(e)===t&&(i=n.data.xs[e])}),i},k.getIndexByX=function(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},k.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&o(this.data.xs[t][e])?this.data.xs[t][e]:e},k.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},k.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},k.addXs=function(t){var e=this;Object.keys(t).forEach(function(i){e.config.data_xs[i]=t[i]})},k.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},k.isMultipleX=function(){return m(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},k.addName=function(t){var e;return t&&(t.name=void 0!==(e=this.config.data_names[t.id])?e:t.id),t},k.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},k.updateTargetX=function(t,e){var i=this;t.forEach(function(t){t.values.forEach(function(n,r){n.x=i.generateTargetX(e[r],t.id,r)}),i.data.xs[t.id]=e})},k.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},k.generateTargetX=function(t,e,i){var n=this;return n.isTimeSeries()?n.parseDate(t||n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()?o(t)?+t:n.getXValue(e,i):i},k.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},k.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},k.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},k.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},k.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},k.getMaxDataCountTarget=function(t){var e,i=t.length,n=0;return i>1?t.forEach(function(t){t.values.length>n&&(e=t,n=t.values.length)}):e=i?t[0]:null,e},k.getEdgeX=function(t){return t.length?[this.d3.min(t,function(t){return t.values[0].x}),this.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},k.mapToIds=function(t){return t.map(function(t){return t.id})},k.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},k.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},k.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},k.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},k.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},k.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},k.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},k.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},k.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},k.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},k.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(i){e[t.id].push(i.value)})}),e},k.checkValueInTargets=function(t,e){var i,n,r,s=Object.keys(t);for(i=0;i<s.length;i++)for(r=t[s[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},k.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},k.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},k.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},k.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},k.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),i=this.isOrderDesc();if(e||i)return function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),s=e.values.reduce(n,0);return i?s-r:r-s};if(a(t.data_order))return t.data_order;if(h(t.data_order)){var n=t.data_order;return function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}},k.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},k.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},k.filterRemoveNull=function(t){return t.filter(function(t){return o(t.value)})},k.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},k.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==n(t.data_labels)||!m(t.data_labels))},k.getDataLabelLength=function(t,e,i){var n=this,r=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[i]}).remove(),r},k.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},k.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},k.findSameXOfValues=function(t,e){var i,n=t[e].x,r=[];for(i=e-1;i>=0&&n===t[i].x;i--)r.push(t[i]);for(i=e;i<t.length&&n===t[i].x;i++)r.push(t[i]);return r},k.findClosestFromTargets=function(t,e){var i,n=this;return i=t.map(function(t){return n.findClosest(t.values,e)}),n.findClosest(i,e)},k.findClosest=function(t,e){var n,r=this,s=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+i.bars+r.getTargetSelectorSuffix(t.id)+" ."+i.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var i=r.dist(t,e);i<s&&(s=i,n=t)}),n},k.dist=function(t,e){var i=this.config,n=i.axis_rotated?1:0,r=i.axis_rotated?0:1,s=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[n],2)+Math.pow(s-e[r],2))},k.convertValuesToStep=function(t){var e,i=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)i[e]=i[e-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[t.length+1]={x:i[t.length].x+1,value:i[t.length].value,id:i[t.length].id},i},k.updateDataAttributes=function(t,e){var i=this.config["data_"+t];return void 0===e?i:(Object.keys(e).forEach(function(t){i[t]=e[t]}),this.redraw({withLegend:!0}),i)},k.load=function(t,e){var i=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){i.setTargetType(t.id,e.types&&e.types[t.id]?e.types[t.id]:e.type)}),i.data.targets.forEach(function(e){for(var i=0;i<t.length;i++)if(e.id===t[i].id){e.values=t[i].values,t.splice(i,1);break}}),i.data.targets=i.data.targets.concat(t)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},k.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(i){e.load(e.convertDataToTargets(i),t)}):e.load(t.json?e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)):t.rows?e.convertDataToTargets(e.convertRowsToData(t.rows)):t.columns?e.convertDataToTargets(e.convertColumnsToData(t.columns)):null,t)},k.unload=function(t,e){var n=this;e||(e=function(){}),(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+i.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):e()},k.getYDomainMin=function(t){var e,i,n,r,s,o,a=this,h=a.config,l=a.mapToIds(t),u=a.getValuesAsIdKeyed(t);if(h.data_groups.length>0)for(o=a.hasNegativeValueInTargets(t),e=0;e<h.data_groups.length;e++)if(0!==(r=h.data_groups[e].filter(function(t){return l.indexOf(t)>=0})).length)for(n=r[0],o&&u[n]&&u[n].forEach(function(t,e){u[n][e]=t<0?t:0}),i=1;i<r.length;i++)u[s=r[i]]&&u[s].forEach(function(t,e){a.axis.getId(s)!==a.axis.getId(n)||!u[n]||o&&+t>0||(u[n][e]+=+t)});return a.d3.min(Object.keys(u).map(function(t){return a.d3.min(u[t])}))},k.getYDomainMax=function(t){var e,i,n,r,s,o,a=this,h=a.config,l=a.mapToIds(t),u=a.getValuesAsIdKeyed(t);if(h.data_groups.length>0)for(o=a.hasPositiveValueInTargets(t),e=0;e<h.data_groups.length;e++)if(0!==(r=h.data_groups[e].filter(function(t){return l.indexOf(t)>=0})).length)for(n=r[0],o&&u[n]&&u[n].forEach(function(t,e){u[n][e]=t>0?t:0}),i=1;i<r.length;i++)u[s=r[i]]&&u[s].forEach(function(t,e){a.axis.getId(s)!==a.axis.getId(n)||!u[n]||o&&+t<0||(u[n][e]+=+t)});return a.d3.max(Object.keys(u).map(function(t){return a.d3.max(u[t])}))},k.getYDomain=function(t,e,i){var n,r,s,a,h,l,u,c,d,f,g=this,v=g.config,y=t.filter(function(t){return g.axis.getId(t.id)===e}),b=i?g.filterByXDomain(y,i):y,_="y2"===e?v.axis_y2_min:v.axis_y_min,w="y2"===e?v.axis_y2_max:v.axis_y_max,x=g.getYDomainMin(b),S=g.getYDomainMax(b),k="y2"===e?v.axis_y2_center:v.axis_y_center,C=g.hasType("bar",b)&&v.bar_zerobased||g.hasType("area",b)&&v.area_zerobased,A="y2"===e?v.axis_y2_inverted:v.axis_y_inverted,T=g.hasDataLabel()&&v.axis_rotated,M=g.hasDataLabel()&&!v.axis_rotated;return x=o(_)?_:o(w)?x<w?x:w-10:x,S=o(w)?w:o(_)?_<S?S:_+10:S,0===b.length?"y2"===e?g.y2.domain():g.y.domain():(isNaN(x)&&(x=0),isNaN(S)&&(S=x),x===S&&(x<0?S=0:x=0),d=x>=0&&S>=0,f=x<=0&&S<=0,(o(_)&&d||o(w)&&f)&&(C=!1),C&&(d&&(x=0),f&&(S=0)),s=a=.1*(r=Math.abs(S-x)),void 0!==k&&(S=k+(h=Math.max(Math.abs(x),Math.abs(S))),x=k-h),T?(l=g.getDataLabelLength(x,S,"width"),u=p(g.y.range()),s+=r*((c=[l[0]/u,l[1]/u])[1]/(1-c[0]-c[1])),a+=r*(c[0]/(1-c[0]-c[1]))):M&&(l=g.getDataLabelLength(x,S,"height"),s+=g.axis.convertPixelsToAxisPadding(l[1],r),a+=g.axis.convertPixelsToAxisPadding(l[0],r)),"y"===e&&m(v.axis_y_padding)&&(s=g.axis.getPadding(v.axis_y_padding,"top",s,r),a=g.axis.getPadding(v.axis_y_padding,"bottom",a,r)),"y2"===e&&m(v.axis_y2_padding)&&(s=g.axis.getPadding(v.axis_y2_padding,"top",s,r),a=g.axis.getPadding(v.axis_y2_padding,"bottom",a,r)),C&&(d&&(a=x),f&&(s=-S)),n=[x-a,S+s],A?n.reverse():n)},k.getXDomainMin=function(t){var e=this,i=e.config;return c(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},k.getXDomainMax=function(t){var e=this,i=e.config;return c(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},k.getXDomainPadding=function(t){var e,i,r,s,a=this.config,h=t[1]-t[0];return i=this.isCategorized()?0:this.hasType("bar")?(e=this.getMaxDataCount())>1?h/(e-1)/2:.5:.01*h,"object"===n(a.axis_x_padding)&&m(a.axis_x_padding)?(r=o(a.axis_x_padding.left)?a.axis_x_padding.left:i,s=o(a.axis_x_padding.right)?a.axis_x_padding.right:i):r=s="number"==typeof a.axis_x_padding?a.axis_x_padding:i,{left:r,right:s}},k.getXDomain=function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],r=i[1],s=e.getXDomainPadding(i),o=0,a=0;return n-r!=0||e.isCategorized()||(e.isTimeSeries()?(n=new Date(.5*n.getTime()),r=new Date(1.5*r.getTime())):(n=0===n?1:.5*n,r=0===r?-1:1.5*r)),(n||0===n)&&(o=e.isTimeSeries()?new Date(n.getTime()-s.left):n-s.left),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()+s.right):r+s.right),[o,a]},k.updateXDomain=function(t,e,i,n,r){var s=this,o=s.config;return i&&(s.x.domain(r||s.d3.extent(s.getXDomain(t))),s.orgXDomain=s.x.domain(),o.zoom_enabled&&s.zoom.scale(s.x).updateScaleExtent(),s.subX.domain(s.x.domain()),s.brush&&s.brush.scale(s.subX)),e&&(s.x.domain(r||(!s.brush||s.brush.empty()?s.orgXDomain:s.brush.extent())),o.zoom_enabled&&s.zoom.scale(s.x).updateScaleExtent()),n&&s.x.domain(s.trimXDomain(s.x.orgDomain())),s.x.domain()},k.trimXDomain=function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=i-t[0]+ +t[1],t[0]=i),n<=t[1]&&(t[0]=+t[0]-(t[1]-n),t[1]=n),t},k.drag=function(t){var e,n,r,s,o,a,h,l,u=this,c=u.config,d=u.main,f=u.d3;u.hasArcType()||c.data_selection_enabled&&(c.zoom_enabled&&!u.zoom.altDomain||c.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],s=t[1],o=Math.min(e,r),a=Math.max(e,r),h=c.data_selection_grouped?u.margin.top:Math.min(n,s),l=c.data_selection_grouped?u.height:Math.max(n,s),d.select("."+i.dragarea).attr("x",o).attr("y",h).attr("width",a-o).attr("height",l-h),d.selectAll("."+i.shapes).selectAll("."+i.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var n,r,s,c,d=f.select(this),p=d.classed(i.SELECTED),g=d.classed(i.INCLUDED),m=!1;if(d.classed(i.circle))n=1*d.attr("cx"),r=1*d.attr("cy"),s=u.togglePoint,m=o<n&&n<a&&h<r&&r<l;else{if(!d.classed(i.bar))return;n=(c=_(this)).x,r=c.y,s=u.togglePath,m=!(a<n||n+c.width<o||l<r||r+c.height<h)}m^g&&(d.classed(i.INCLUDED,!g),d.classed(i.SELECTED,!p),s.call(u,!p,d,t,e))})))},k.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+i.chart).append("rect").attr("class",i.dragarea).style("opacity",.1),e.dragging=!0)},k.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+i.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+i.shape).classed(i.INCLUDED,!1),t.dragging=!1)},k.getYFormat=function(t){var e=this,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,s){return("y2"===e.axis.getId(s)?n:i).call(e,t,r)}},k.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},k.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},k.defaultValueFormat=function(t){return o(t)?+t:""},k.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},k.dataLabelFormat=function(t){var e=this.config.data_labels,i=function(t){return o(t)?+t:""};return"function"==typeof e.format?e.format:"object"===n(e.format)?e.format[t]?!0===e.format[t]?i:e.format[t]:function(){return""}:i},k.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid),e.grid_x_show&&t.grid.append("g").attr("class",i.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",i.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",i.xgridFocus).append("line").attr("class",i.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},k.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid+" "+i.gridLines),t.gridLines.append("g").attr("class",i.xgridLines),t.gridLines.append("g").attr("class",i.ygridLines),t.xgridLines=e.selectAll([])},k.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,s=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+i.xgrids).selectAll("."+i.xgrid).data(s),e.xgrid.enter().append("line").attr("class",i.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},k.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+i.ygrids).selectAll("."+i.ygrid).data(n),t.ygrid.enter().append("line").attr("class",i.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},k.gridTextAnchor=function(t){return t.position?t.position:"end"},k.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},k.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},k.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},k.updateGrid=function(t){var e,n,r,s=this,o=s.main,a=s.config;s.grid.style("visibility",s.hasArcType()?"hidden":"visible"),o.select("line."+i.xgridFocus).style("visibility","hidden"),a.grid_x_show&&s.updateXGrid(),s.xgridLines=o.select("."+i.xgridLines).selectAll("."+i.xgridLine).data(a.grid_x_lines),(e=s.xgridLines.enter().append("g").attr("class",function(t){return i.xgridLine+(t.class?" "+t.class:"")})).append("line").style("opacity",0),e.append("text").attr("text-anchor",s.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",s.gridTextDx).attr("dy",-5).style("opacity",0),s.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&s.updateYGrid(),s.ygridLines=o.select("."+i.ygridLines).selectAll("."+i.ygridLine).data(a.grid_y_lines),(n=s.ygridLines.enter().append("g").attr("class",function(t){return i.ygridLine+(t.class?" "+t.class:"")})).append("line").style("opacity",0),n.append("text").attr("text-anchor",s.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",s.gridTextDx).attr("dy",-5).style("opacity",0),r=s.yv.bind(s),s.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?r:0).attr("x2",a.axis_rotated?r:s.width).attr("y1",a.axis_rotated?0:r).attr("y2",a.axis_rotated?s.height:r).style("opacity",1),s.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?s.xGridTextX.bind(s):s.yGridTextX.bind(s)).attr("y",r).text(function(t){return t.text}).style("opacity",1),s.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},k.redrawGrid=function(t){var e=this,i=e.config,n=e.xv.bind(e),r=e.xgridLines.select("line"),s=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",i.axis_rotated?0:n).attr("x2",i.axis_rotated?e.width:n).attr("y1",i.axis_rotated?n:0).attr("y2",i.axis_rotated?n:e.height).style("opacity",1),(t?s.transition():s).attr("x",i.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",n).text(function(t){return t.text}).style("opacity",1)]},k.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter(function(t){return t&&o(t.value)}),s=e.main.selectAll("line."+i.xgridFocus),a=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(s.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),e.smoothLines(s,"grid")))},k.hideXGridFocus=function(){this.main.select("line."+i.xgridFocus).style("visibility","hidden")},k.updateXgridFocus=function(){var t=this.config;this.main.select("line."+i.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},k.generateGridData=function(t,e){var n,r,s,o,a=[],h=this.main.select("."+i.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=this.getXDomain())[0].getFullYear(),s=n[1].getFullYear(),o=r;o<=s;o++)a.push(new Date(o+"-01-01 00:00:00"));else(a=e.ticks(10)).length>h&&(a=a.filter(function(t){return(""+t).indexOf(".")<0}));return a},k.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(i=!0)}),i}:function(){return!0}},k.removeGridLines=function(t,e){var n=this.config,r=this.getGridFilterToRemove(t),s=function(t){return!r(t)},o=e?i.xgridLine:i.ygridLine;this.main.select("."+(e?i.xgridLines:i.ygridLines)).selectAll("."+o).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(s):n.grid_y_lines=n.grid_y_lines.filter(s)},k.initEventRect=function(){this.main.select("."+i.chart).append("g").attr("class",i.eventRects).style("fill-opacity",0)},k.redrawEventRect=function(){var t,e,n=this,r=n.config,s=n.isMultipleX(),o=n.main.select("."+i.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(i.eventRectsMultiple,s).classed(i.eventRectsSingle,!s);o.selectAll("."+i.eventRect).remove(),n.eventRect=o.selectAll("."+i.eventRect),s?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+i.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},k.updateEventRect=function(t){var e,i,n,r,s,o,a=this,h=a.config;t=t||a.eventRect.data(function(t){return t}),a.isMultipleX()?(e=0,i=0,n=a.width,r=a.height):(!a.isCustomX()&&!a.isTimeSeries()||a.isCategorized()?(s=a.getEventRectWidth(),o=function(t){return a.x(t.x)-s/2}):(a.updateXs(),s=function(t){var e=a.getPrevX(t.index),i=a.getNextX(t.index);return null===e&&null===i?h.axis_rotated?a.height:a.width:(null===e&&(e=a.x.domain()[0]),null===i&&(i=a.x.domain()[1]),Math.max(0,(a.x(i)-a.x(e))/2))},o=function(t){var e=a.getPrevX(t.index),i=a.getNextX(t.index),n=a.data.xs[t.id][t.index];return null===e&&null===i?0:(null===e&&(e=a.x.domain()[0]),(a.x(n)+a.x(e))/2)}),e=h.axis_rotated?0:o,i=h.axis_rotated?o:0,n=h.axis_rotated?a.width:s,r=h.axis_rotated?s:a.height),t.attr("class",a.classEvent.bind(a)).attr("x",e).attr("y",i).attr("width",n).attr("height",r)},k.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,r=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(r.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+i.shape+"-"+n).each(function(t){r.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+i.shape+"-"+n).each(function(t){r.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var s,o=t.index,a=e.svg.select("."+i.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),s=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),r.tooltip_grouped&&(e.showTooltip(s,this),e.showXGridFocus(s)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&e.main.selectAll("."+i.shape+"-"+o).each(function(){n.select(this).classed(i.EXPANDED,!0),r.data_selection_enabled&&a.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),r.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(t))&&a.style("cursor","pointer"),r.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),r.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var s=t.index;!e.hasArcType()&&e.toggleShape&&(e.cancelClick?e.cancelClick=!1:(e.isStepType(t)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,s))&&(s-=1),e.main.selectAll("."+i.shape+"-"+s).each(function(t){(r.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,s),e.config.data_onclick.call(e.api,t,this))})))}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},k.generateEventRectsForMultipleXs=function(t){var e=this,n=e.d3,r=e.config;function s(){e.svg.select("."+i.eventRect).style("cursor",null),e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars()}t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",i.eventRect).on("mouseout",function(){e.config&&(e.hasArcType()||s())}).on("mousemove",function(){var t,o,a,h=e.filterTargetsToShow(e.data.targets);e.dragging||e.hasArcType(h)||(t=n.mouse(this),o=e.findClosestFromTargets(h,t),!e.mouseover||o&&o.id===e.mouseover.id||(r.data_onmouseout.call(e.api,e.mouseover),e.mouseover=void 0),o?(a=(e.isScatterType(o)||!r.tooltip_grouped?[o]:e.filterByX(h,o.x)).map(function(t){return e.addName(t)}),e.showTooltip(a,this),r.point_focus_expand_enabled&&e.expandCircles(o.index,o.id,!0),e.expandBars(o.index,o.id,!0),e.showXGridFocus(a),(e.isBarType(o.id)||e.dist(o,t)<r.point_sensitivity)&&(e.svg.select("."+i.eventRect).style("cursor","pointer"),e.mouseover||(r.data_onmouseover.call(e.api,o),e.mouseover=o))):s())}).on("click",function(){var t,s,o=e.filterTargetsToShow(e.data.targets);e.hasArcType(o)||(t=n.mouse(this),(s=e.findClosestFromTargets(o,t))&&(e.isBarType(s.id)||e.dist(s,t)<r.point_sensitivity)&&e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(s.id)).selectAll("."+i.shape+"-"+s.index).each(function(){(r.data_selection_grouped||e.isWithinShape(this,s))&&(e.toggleShape(this,s,s.index),e.config.data_onclick.call(e.api,s,this))}))}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},k.dispatchEvent=function(t,e,n){var r="."+i.eventRect+(this.isMultipleX()?"":"-"+e),s=this.main.select(r).node(),o=s.getBoundingClientRect(),a=o.left+(n?n[0]:0),h=o.top+(n?n[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,a,h,a,h,!1,!1,!1,!1,0,null),s.dispatchEvent(l)},k.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},k.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},k.updateSizeForLegend=function(t,e){var i=this,n=i.config,r={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?r.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?r.left:0}},k.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},k.updateLegendStep=function(t){this.legendStep=t},k.updateLegendItemWidth=function(t){this.legendItemWidth=t},k.updateLegendItemHeight=function(t){this.legendItemHeight=t},k.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},k.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},k.opacityForLegend=function(t){return t.classed(i.legendItemHidden)?null:1},k.opacityForUnfocusedLegend=function(t){return t.classed(i.legendItemHidden)?null:.3},k.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+i.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(i.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},k.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+i.legendItem).classed(i.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},k.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},k.hideLegend=function(t){var e=this,i=e.config;i.legend_show&&g(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},k.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},k.updateLegend=function(t,e,n){var r,s,o,a,h,l,u,d,f,p,g,m,y,b,_,w,x=this,S=x.config,k=4,C=10,A=0,T=0,M=10,E=S.legend_item_tile_width+5,D=0,P={},O={},N={},L=[0],I={},F=0;function R(e,n,r){var s,o,a,h,l=0===r,u=r===t.length-1,c=(a=e,x.legendItemTextBox[h=n]||(x.legendItemTextBox[h]=x.getTextRect(a.textContent,i.legendItem,a)),x.legendItemTextBox[h]),d=c.width+E+(!u||x.isLegendRight||x.isLegendInset?C:0)+S.legend_padding,f=c.height+k,p=x.isLegendRight||x.isLegendInset?f:d,g=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();function m(t,e){e||(s=(g-D-p)/2)<M&&(s=(g-p)/2,D=0,F++),I[t]=F,L[F]=x.isLegendInset?10:s,P[t]=D,D+=p}l&&(D=0,F=0,A=0,T=0),!S.legend_show||x.isLegendToShow(n)?(O[n]=d,N[n]=f,(!A||d>=A)&&(A=d),(!T||f>=T)&&(T=f),o=x.isLegendRight||x.isLegendInset?T:A,S.legend_equally?(Object.keys(O).forEach(function(t){O[t]=A}),Object.keys(N).forEach(function(t){N[t]=T}),(s=(g-o*t.length)/2)<M?(D=0,F=0,t.forEach(function(t){m(t)})):m(n,!0)):m(n)):O[n]=N[n]=I[n]=P[n]=0}t=t.filter(function(t){return!c(S.data_names[t])||null!==S.data_names[t]}),g=v(e=e||{},"withTransition",!0),m=v(e,"withTransitionForTransform",!0),x.isLegendInset&&x.updateLegendStep(F=S.legend_inset_step?S.legend_inset_step:t.length),x.isLegendRight?(r=function(t){return A*I[t]},a=function(t){return L[I[t]]+P[t]}):x.isLegendInset?(r=function(t){return A*I[t]+10},a=function(t){return L[I[t]]+P[t]}):(r=function(t){return L[I[t]]+P[t]},a=function(t){return T*I[t]}),s=function(t,e){return r(t,e)+4+S.legend_item_tile_width},h=function(t,e){return a(t,e)+9},o=function(t,e){return r(t,e)},l=function(t,e){return a(t,e)-5},u=function(t,e){return r(t,e)-2},d=function(t,e){return r(t,e)-2+S.legend_item_tile_width},f=function(t,e){return a(t,e)+4},(p=x.legend.selectAll("."+i.legendItem).data(t).enter().append("g").attr("class",function(t){return x.generateClass(i.legendItem,t)}).style("visibility",function(t){return x.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){S.legend_item_onclick?S.legend_item_onclick.call(x,t):x.d3.event.altKey?(x.api.hide(),x.api.show(t)):(x.api.toggle(t),x.isTargetToShow(t)?x.api.focus(t):x.api.revert())}).on("mouseover",function(t){S.legend_item_onmouseover?S.legend_item_onmouseover.call(x,t):(x.d3.select(this).classed(i.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(t)&&x.api.focus(t))}).on("mouseout",function(t){S.legend_item_onmouseout?S.legend_item_onmouseout.call(x,t):(x.d3.select(this).classed(i.legendItemFocused,!1),x.api.revert())})).append("text").text(function(t){return c(S.data_names[t])?S.data_names[t]:t}).each(function(t,e){R(this,t,e)}).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?s:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:h),p.append("rect").attr("class",i.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:l),p.append("line").attr("class",i.legendItemTile).style("stroke",x.color).style("pointer-events","none").attr("x1",x.isLegendRight||x.isLegendInset?u:-200).attr("y1",x.isLegendRight||x.isLegendInset?-200:f).attr("x2",x.isLegendRight||x.isLegendInset?d:-200).attr("y2",x.isLegendRight||x.isLegendInset?-200:f).attr("stroke-width",S.legend_item_tile_height),w=x.legend.select("."+i.legendBackground+" rect"),x.isLegendInset&&A>0&&0===w.size()&&(w=x.legend.insert("g","."+i.legendItem).attr("class",i.legendBackground).append("rect")),y=x.legend.selectAll("text").data(t).text(function(t){return c(S.data_names[t])?S.data_names[t]:t}).each(function(t,e){R(this,t,e)}),(g?y.transition():y).attr("x",s).attr("y",h),b=x.legend.selectAll("rect."+i.legendItemEvent).data(t),(g?b.transition():b).attr("width",function(t){return O[t]}).attr("height",function(t){return N[t]}).attr("x",o).attr("y",l),_=x.legend.selectAll("line."+i.legendItemTile).data(t),(g?_.transition():_).style("stroke",x.levelColor?function(t){return x.levelColor(x.cache[t].values[0].value)}:x.color).attr("x1",u).attr("y1",f).attr("x2",d).attr("y2",f),w&&(g?w.transition():w).attr("height",x.getLegendHeight()-12).attr("width",A*(F+1)+10),x.legend.selectAll("."+i.legendItem).classed(i.legendItemHidden,function(t){return!x.isTargetToShow(t)}),x.updateLegendItemWidth(A),x.updateLegendItemHeight(T),x.updateLegendStep(F),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(m,n),x.legendHasRendered=!0},k.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",i.regions)},k.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+i.regions).selectAll("."+i.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},k.redrawRegion=function(t){var e=this,i=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),n=e.regionX.bind(e),r=e.regionY.bind(e),s=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?i.transition():i).attr("x",n).attr("y",r).attr("width",s).attr("height",a).style("fill-opacity",function(t){return o(t.opacity)?t.opacity:.1})]},k.regionX=function(t){var e=this,i=e.config;return"y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?("y"===t.axis?e.y:e.y2)(t.start):0:i.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},k.regionY=function(t){var e=this,i=e.config;return"y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?("y"===t.axis?e.y:e.y2)(t.end):0:i.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},k.regionWidth=function(t){var e,i=this,n=i.config,r=i.regionX(t);return(e="y"===t.axis||"y2"===t.axis?n.axis_rotated&&"end"in t?("y"===t.axis?i.y:i.y2)(t.end):i.width:n.axis_rotated?i.width:"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.width)<r?0:e-r},k.regionHeight=function(t){var e,i=this,n=i.config,r=this.regionY(t);return(e="y"===t.axis||"y2"===t.axis?n.axis_rotated?i.height:"start"in t?("y"===t.axis?i.y:i.y2)(t.start):i.height:n.axis_rotated&&"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.height)<r?0:e-r},k.isRegionOnX=function(t){return!t.axis||"x"===t.axis},k.getScale=function(t,e,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},k.getX=function(t,e,i,n){var r,s=this.getScale(t,e,this.isTimeSeries()),o=i?s.domain(i):s;for(r in this.isCategorized()?(n=n||function(){return 0},s=function(t,e){var i=o(t)+n(t);return e?i:Math.ceil(i)}):s=function(t,e){var i=o(t);return e?i:Math.ceil(i)},o)s[r]=o[r];return s.orgDomain=function(){return o.domain()},this.isCategorized()&&(s.domain=function(t){return arguments.length?(o.domain(t),s):[(t=this.orgDomain())[0],t[1]+1]}),s},k.getY=function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());return i&&n.domain(i),n},k.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},k.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},k.updateScales=function(){var t=this,e=t.config,i=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,i?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,i?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,i?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,i?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,i?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),i||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},k.selectPoint=function(t,e,n){var r=this,s=r.config,o=(s.axis_rotated?r.circleY:r.circleX).bind(r),a=(s.axis_rotated?r.circleX:r.circleY).bind(r),h=r.pointSelectR.bind(r);s.data_onselected.call(r.api,e,t.node()),r.main.select("."+i.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return r.generateClass(i.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return r.color(e)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",h)},k.unselectPoint=function(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+i.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},k.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},k.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},k.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.color(e)})},k.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)},k.getToggle=function(t,e){var i;return"circle"===t.nodeName?i=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(i=this.togglePath),i},k.toggleShape=function(t,e,n){var r=this,s=r.d3,o=r.config,a=s.select(t),h=a.classed(i.SELECTED),l=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+i.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+i.shape).each(function(t,e){var n=s.select(this);n.classed(i.SELECTED)&&l(!1,n.classed(i.SELECTED,!1),t,e)}),a.classed(i.SELECTED,!h),l(!h,a,e,n))},k.initBar=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartBars)},k.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),s=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",function(t){return r(t)+o(t)}).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",s).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},k.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),s=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+i.bars).selectAll("."+i.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",o).style("fill",o),e.mainBar.style("opacity",s),e.mainBar.exit().transition().duration(t).remove()},k.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},k.getBarW=function(t,e){var i=this.config,n="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},k.getBars=function(t,e){return(e?this.main.selectAll("."+i.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+i.bar+(o(t)?"-"+t:""))},k.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(i.EXPANDED,!0)},k.unexpandBars=function(t){this.getBars(t).classed(i.EXPANDED,!1)},k.generateDrawBar=function(t,e){var i=this.config,n=this.generateGetBarPoints(t,e);return function(t,e){var r=n(t,e),s=i.axis_rotated?1:0,o=i.axis_rotated?0:1;return"M "+r[0][s]+","+r[0][o]+" L"+r[1][s]+","+r[1][o]+" L"+r[2][s]+","+r[2][o]+" L"+r[3][s]+","+r[3][o]+" z"}},k.generateGetBarPoints=function(t,e){var i=this,n=t.__max__+1,r=i.getBarW(e?i.subXAxis:i.xAxis,n),s=i.getShapeX(r,n,t,!!e),o=i.getShapeY(!!e),a=i.getShapeOffset(i.isBarType,t,!!e),h=r*(i.config.bar_space/2),l=e?i.getSubYScale:i.getYScale;return function(t,e){var n=l.call(i,t.id)(0),u=a(t,e)||n,c=s(t),d=o(t);return i.config.axis_rotated&&(0<t.value&&d<n||t.value<0&&n<d)&&(d=n),[[c+h,u],[c+h,d-(n-u)],[c+r-h,d-(n-u)],[c+r-h,u]]}},k.isWithinBar=function(t){var e=this.d3.mouse(t),i=t.getBoundingClientRect(),n=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),s=Math.min(n.x,r.x),o=Math.min(n.y,r.y);return s-2<e[0]&&e[0]<s+i.width+2&&o-2<e[1]&&e[1]<o+i.height+2},k.getShapeIndices=function(t){var e,i,n=this.config,r={},s=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<n.data_groups.length;e++)if(!(n.data_groups[e].indexOf(t.id)<0))for(i=0;i<n.data_groups[e].length;i++)if(n.data_groups[e][i]in r){r[t.id]=r[n.data_groups[e][i]];break}u(r[t.id])&&(r[t.id]=s++)}),r.__max__=s-1,r},k.getShapeX=function(t,e,i,n){var r=n?this.subX:this.x;return function(n){var s=n.id in i?i[n.id]:0;return n.x||0===n.x?r(n.x)-t*(e/2-s):0}},k.getShapeY=function(t){var e=this;return function(i){return(t?e.getSubYScale(i.id):e.getYScale(i.id))(i.value)}},k.getShapeOffset=function(t,e,i){var n=this,r=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(t,n))),s=r.map(function(t){return t.id});return function(t,o){var a=i?n.getSubYScale(t.id):n.getYScale(t.id),h=a(0),l=h;return r.forEach(function(i){var r=n.isStepType(t)?n.convertValuesToStep(i.values):i.values;i.id!==t.id&&e[i.id]===e[t.id]&&s.indexOf(i.id)<s.indexOf(t.id)&&(void 0!==r[o]&&+r[o].x==+t.x||(o=-1,r.forEach(function(e,i){e.x===t.x&&(o=i)})),o in r&&r[o].value*t.value>=0&&(l+=a(r[o].value)-h))}),l}},k.isWithinShape=function(t,e){var n,r=this,s=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!s.classed(i.bar)||r.isWithinBar(t)):n=!1,n},k.getInterpolate=function(t){var e=this,i=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?i:e.isStepType(t)?e.config.line_step_type:"linear"},k.initLine=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartLines)},k.updateTargetsForLine=function(t){var e,n=this,r=n.config,s=n.classChartLine.bind(n),o=n.classLines.bind(n),a=n.classAreas.bind(n),h=n.classCircles.bind(n),l=n.classFocus.bind(n);(e=n.main.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",function(t){return s(t)+l(t)}).enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",function(t){return n.generateClass(i.selectedCircles,t.id)}),e.append("g").attr("class",h).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){n.main.selectAll("."+i.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+i.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},k.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},k.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},k.generateDrawLine=function(t,e){var i=this,n=i.config,r=i.d3.svg.line(),s=i.generateGetLinePoints(t,e),o=e?i.getSubYScale:i.getYScale,a=function(t){return(e?i.subxx:i.xx).call(i,t)},h=function(t,e){return n.data_groups.length>0?s(t,e)[0][1]:o.call(i,t.id)(t.value)};return r=n.axis_rotated?r.x(h).y(a):r.x(a).y(h),n.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var s,a=n.line_connectNull?i.filterRemoveNull(t.values):t.values,h=e?i.x:i.subX,l=o.call(i,t.id),u=0,c=0;return i.isLineType(t)?n.data_regions[t.id]?s=i.lineWithRegions(a,h,l,n.data_regions[t.id]):(i.isStepType(t)&&(a=i.convertValuesToStep(a)),s=r.interpolate(i.getInterpolate(t))(a)):(a[0]&&(u=h(a[0].x),c=l(a[0].value)),s=n.axis_rotated?"M "+c+" "+u:"M "+u+" "+c),s||"M 0 0"}},k.generateGetLinePoints=function(t,e){var i=this,n=i.config,r=i.getShapeX(0,t.__max__+1,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isLineType,t,!!e),a=e?i.getSubYScale:i.getYScale;return function(t,e){var h=a.call(i,t.id)(0),l=o(t,e)||h,u=r(t),c=s(t);return n.axis_rotated&&(0<t.value&&c<h||t.value<0&&h<c)&&(c=h),[[u,c-(h-l)],[u,c-(h-l)],[u,c-(h-l)],[u,c-(h-l)]]}},k.lineWithRegions=function(t,e,i,n){var r,s,o,a,h,l,d,f,p,g,m,v=this,y=v.config,b="M",_=v.isCategorized()?.5:0,w=[];function x(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}if(c(n))for(r=0;r<n.length;r++)w[r]={},w[r].start=u(n[r].start)?t[0].x:v.isTimeSeries()?v.parseDate(n[r].start):n[r].start,w[r].end=u(n[r].end)?t[t.length-1].x:v.isTimeSeries()?v.parseDate(n[r].end):n[r].end;function S(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(g=y.axis_rotated?function(t){return i(t.value)}:function(t){return e(t.x)},m=y.axis_rotated?function(t){return e(t.x)}:function(t){return i(t.value)},o=v.isTimeSeries()?function(t,n,r,s){var o=t.x.getTime(),a=n.x-t.x,l=new Date(o+a*r),u=new Date(o+a*(r+s));return S(y.axis_rotated?[[i(h(r)),e(l)],[i(h(r+s)),e(u)]]:[[e(l),i(h(r))],[e(u),i(h(r+s))]])}:function(t,n,r,s){return S(y.axis_rotated?[[i(h(r),!0),e(a(r))],[i(h(r+s),!0),e(a(r+s))]]:[[e(a(r),!0),i(h(r))],[e(a(r+s),!0),i(h(r+s))]])},r=0;r<t.length;r++)if(u(w)||!x(t[r].x,w))b+=" "+g(t[r])+" "+m(t[r]);else for(a=v.getScale(t[r-1].x+_,t[r].x+_,v.isTimeSeries()),h=v.getScale(t[r-1].value,t[r].value),l=e(t[r].x)-e(t[r-1].x),d=i(t[r].value)-i(t[r-1].value),p=2*(f=2/Math.sqrt(Math.pow(l,2)+Math.pow(d,2))),s=f;s<=1;s+=p)b+=o(t[r-1],t[r],s,f);return b},k.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},k.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},k.generateDrawArea=function(t,e){var i=this,n=i.config,r=i.d3.svg.area(),s=i.generateGetAreaPoints(t,e),o=e?i.getSubYScale:i.getYScale,a=function(t){return(e?i.subxx:i.xx).call(i,t)},h=function(t,e){return n.data_groups.length>0?s(t,e)[0][1]:o.call(i,t.id)(i.getAreaBaseValue(t.id))},l=function(t,e){return n.data_groups.length>0?s(t,e)[1][1]:o.call(i,t.id)(t.value)};return r=n.axis_rotated?r.x0(h).x1(l).y(a):r.x(a).y0(n.area_above?0:h).y1(l),n.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,s=n.line_connectNull?i.filterRemoveNull(t.values):t.values,o=0,a=0;return i.isAreaType(t)?(i.isStepType(t)&&(s=i.convertValuesToStep(s)),e=r.interpolate(i.getInterpolate(t))(s)):(s[0]&&(o=i.x(s[0].x),a=i.getYScale(t.id)(s[0].value)),e=n.axis_rotated?"M "+a+" "+o:"M "+o+" "+a),e||"M 0 0"}},k.getAreaBaseValue=function(){return 0},k.generateGetAreaPoints=function(t,e){var i=this,n=i.config,r=i.getShapeX(0,t.__max__+1,t,!!e),s=i.getShapeY(!!e),o=i.getShapeOffset(i.isAreaType,t,!!e),a=e?i.getSubYScale:i.getYScale;return function(t,e){var h=a.call(i,t.id)(0),l=o(t,e)||h,u=r(t),c=s(t);return n.axis_rotated&&(0<t.value&&c<h||t.value<0&&h<c)&&(c=h),[[u,l],[u,c-(h-l)],[u,c-(h-l)],[u,l]]}},k.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+i.circles).selectAll("."+i.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},k.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+i.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition(Math.random().toString()):r).attr("cx",t).attr("cy",e)]},k.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},k.updateCircleY=function(){var t,e,i=this;i.config.data_groups.length>0?(t=i.getShapeIndices(i.isLineType),e=i.generateGetLinePoints(t),i.circleY=function(t,i){return e(t,i)[0][1]}):i.circleY=function(t){return i.getYScale(t.id)(t.value)}},k.getCircles=function(t,e){return(e?this.main.selectAll("."+i.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+i.circle+(o(t)?"-"+t:""))},k.expandCircles=function(t,e,n){var r=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(t,e).classed(i.EXPANDED,!0).attr("r",r)},k.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(i.EXPANDED)}).classed(i.EXPANDED,!1).attr("r",n)},k.pointR=function(t){var e=this.config;return this.isStepType(t)?0:a(e.point_r)?e.point_r(t):e.point_r},k.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?a(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},k.pointSelectR=function(t){var e=this.config;return a(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},k.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),r=i.select(t),s=+r.attr("cx"),o=+r.attr("cy");return Math.sqrt(Math.pow(s-n[0],2)+Math.pow(o-n[1],2))<e},k.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},k.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},k.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},k.getCurrentPaddingTop=function(){var t=this.config,e=o(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},k.getCurrentPaddingBottom=function(){var t=this.config;return o(t.padding_bottom)?t.padding_bottom:0},k.getCurrentPaddingLeft=function(t){var e=this.config;return o(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(d(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:d(this.getAxisWidthByAxisId("y",t))},k.getCurrentPaddingRight=function(){var t=this,e=t.config,i=t.isLegendRight?t.getLegendWidth()+20:0;return o(e.padding_right)?e.padding_right+1:e.axis_rotated?10+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):d(t.getAxisWidthByAxisId("y2"))+i},k.getParentRectValue=function(t){for(var e,i=this.selectChart.node();i&&"BODY"!==i.tagName;){try{e=i.getBoundingClientRect()[t]}catch(n){"width"===t&&(e=i.offsetWidth)}if(e)break;i=i.parentNode}return e},k.getParentWidth=function(){return this.getParentRectValue("width")},k.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},k.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,s=e.main.select("."+(n.axis_rotated?i.axisX:i.axisY)).node(),o=s&&r?s.getBoundingClientRect():{right:0},a=e.selectChart.node().getBoundingClientRect(),h=e.hasArcType(),l=o.right-a.left-(h?0:e.getCurrentPaddingLeft(t));return l>0?l:0},k.getAxisWidthByAxisId=function(t,e){var i=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},k.getHorizontalAxisHeight=function(t){var e=this,i=e.config,n=30;return"x"!==t||i.axis_x_show?"x"===t&&i.axis_x_height?i.axis_x_height:"y"!==t||i.axis_y_show?"y2"!==t||i.axis_y2_show?("x"===t&&!i.axis_rotated&&i.axis_x_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_x_tick_rotate)/180)),"y"===t&&i.axis_rotated&&i.axis_y_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_y_tick_rotate)/180)),n+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!i.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},k.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},k.initBrush=function(){var t=this;t.brush=t.d3.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+i.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},k.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),r=e.subchart_show?"visible":"hidden";n.style("visibility",r),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",i.chart),n.select("."+i.chart).append("g").attr("class",i.chartBars),n.select("."+i.chart).append("g").attr("class",i.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",i.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",i.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?r:"hidden")},k.updateTargetsForSubchart=function(t){var e,n=this,r=n.context,s=n.config,o=n.classChartBar.bind(n),a=n.classBars.bind(n),h=n.classChartLine.bind(n),l=n.classLines.bind(n),u=n.classAreas.bind(n);s.subchart_show&&(r.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",a),(e=r.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",h).enter().append("g").style("opacity",0).attr("class",h)).append("g").attr("class",l),e.append("g").attr("class",u),r.selectAll("."+i.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?n.width2:n.height2))},k.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+i.bars).selectAll("."+i.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},k.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity",1)},k.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},k.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity",1)},k.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},k.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},k.redrawSubchart=function(t,e,i,n,r,s,o){var a,h,l,u=this,c=u.d3,d=u.config;u.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(c.event&&"zoom"===c.event.type&&u.brush.extent(u.x.orgDomain()).update(),t&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),a=u.generateDrawArea(r,!0),h=u.generateDrawBar(s,!0),l=u.generateDrawLine(o,!0),u.updateBarForSubchart(i),u.updateLineForSubchart(i),u.updateAreaForSubchart(i),u.redrawBarForSubchart(h,i,i),u.redrawLineForSubchart(l,i,i),u.redrawAreaForSubchart(a,i,i)))},k.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},k.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+i.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},k.getDefaultExtent=function(){var t=this,e=t.config,i=a(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(i=[t.parseDate(i[0]),t.parseDate(i[1])]),i},k.initText=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartTexts),this.mainText=this.d3.selectAll([])},k.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),s=e.classFocus.bind(e);e.main.select("."+i.chartTexts).selectAll("."+i.chartText).data(t).attr("class",function(t){return n(t)+s(t)}).enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none").append("g").attr("class",r)},k.updateText=function(t){var e=this,n=e.config,r=e.barOrLineData.bind(e),s=e.classText.bind(e);e.mainText=e.main.selectAll("."+i.texts).selectAll("."+i.text).data(r),e.mainText.enter().append("text").attr("class",s).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,i,n){return e.dataLabelFormat(t.id)(t.value,t.id,i,n)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},k.redrawText=function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},k.getTextRect=function(t,e,i){var n,r=this.d3.select("body").append("div").classed("c3",!0),s=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o=this.d3.select(i).style("font");return s.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",o).text(t).each(function(){n=this.getBoundingClientRect()}),r.remove(),n},k.generateXYForText=function(t,e,i,n){var r=this,s=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),a=r.generateGetLinePoints(i,!1),h=n?r.getXForText:r.getYForText;return function(t,e){var i=r.isAreaType(t)?s:r.isBarType(t)?o:a;return h.call(r,i(t,e),t,this)}},k.getXForText=function(t,e,i){var n,r,s=this,o=i.getBoundingClientRect();return s.config.axis_rotated?(r=s.isBarType(e)?4:6,n=t[2][1]+r*(e.value<0?-1:1)):n=s.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(n>s.width?n=s.width-o.width:n<0&&(n=4)),n},k.getYForText=function(t,e,i){var n,r=this,s=i.getBoundingClientRect();return r.config.axis_rotated?n=(t[0][0]+t[2][0]+.6*s.height)/2:(n=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(n+=s.height,r.isBarType(e)&&r.isSafari()?n-=3:!r.isBarType(e)&&r.isChrome()&&(n+=3)):n+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(n<s.height?n=s.height:n>this.height&&(n=this.height-4)),n},k.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},k.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},k.xForTitle=function(){var t=this,e=t.config,i=e.title_position||"left";return i.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:i.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},k.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},k.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},k.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",i.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&l(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},k.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var i=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(i=i.reverse()),function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}var n=e.tooltip_order;void 0===n&&(n=e.data_order);var r=function(t){return t?t.value:null};if(l(n)&&"asc"===n.toLowerCase())return function(t,e){return r(t)-r(e)};if(l(n)&&"desc"===n.toLowerCase())return function(t,e){return r(e)-r(t)};if(a(n)){var s=n;return void 0===e.tooltip_order&&(s=function(t,e){return n(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),s}return h(n)?function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}:void 0},k.getTooltipContent=function(t,e,i,n){var r,s,o,a,h,l,u=this,c=u.config,d=c.tooltip_format_title||e,f=c.tooltip_format_name||function(t){return t},p=c.tooltip_format_value||i,g=this.getTooltipSortFunction();for(g&&t.sort(g),s=0;s<t.length;s++)if(t[s]&&(t[s].value||0===t[s].value)&&(r||(o=b(d?d(t[s].x):t[s].x),r="<table class='"+u.CLASS.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),void 0!==(a=b(p(t[s].value,t[s].ratio,t[s].id,t[s].index,t))))){if(null===t[s].name)continue;h=b(f(t[s].name,t[s].ratio,t[s].id,t[s].index)),l=u.levelColor?u.levelColor(t[s].value):n(t[s].id),r+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(t[s].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+h+"</td>",r+="<td class='value'>"+a+"</td>",r+="</tr>"}return r+"</table>"},k.tooltipPosition=function(t,e,i,n){var r,s,o,a,h,l=this,u=l.config,c=l.d3,d=l.hasArcType(),f=c.mouse(n);return d?(s=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+f[0],a=(l.hasType("gauge")?l.height:l.height/2)+f[1]+20):(r=l.getSvgLeft(!0),u.axis_rotated?(o=(s=r+f[0]+100)+e,h=l.currentWidth-l.getCurrentPaddingRight(),a=l.x(t[0].x)+20):(o=(s=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20)+e,h=r+l.currentWidth-l.getCurrentPaddingRight(),a=f[1]+15),o>h&&(s-=o-h+20),a+i>l.currentHeight&&(a-=i+30)),a<0&&(a=0),{top:a,left:s}},k.showTooltip=function(t,e){var i,n,r,s=this,a=s.config,h=s.hasArcType(),l=t.filter(function(t){return t&&o(t.value)}),u=a.tooltip_position||k.tooltipPosition;0!==l.length&&a.tooltip_show&&(s.tooltip.html(a.tooltip_contents.call(s,t,s.axis.getXAxisTickFormat(),s.getYFormat(h),s.color)).style("display","block"),i=s.tooltip.property("offsetWidth"),n=s.tooltip.property("offsetHeight"),r=u.call(this,l,i,n,e),s.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},k.hideTooltip=function(){this.tooltip.style("display","none")},k.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},k.hasType=function(t,e){var i=this.config.data_types,n=!1;return(e=e||this.data.targets)&&e.length?e.forEach(function(e){var r=i[e.id];(r&&r.indexOf(t)>=0||!r&&"line"===t)&&(n=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(n=!0)}):n=this.config.data_type===t,n},k.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},k.isLineType=function(t){var e=this.config,i=l(t)?t:t.id;return!e.data_types[i]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])>=0},k.isStepType=function(t){var e=l(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},k.isSplineType=function(t){var e=l(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},k.isAreaType=function(t){var e=l(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},k.isBarType=function(t){var e=l(t)?t:t.id;return"bar"===this.config.data_types[e]},k.isScatterType=function(t){var e=l(t)?t:t.id;return"scatter"===this.config.data_types[e]},k.isPieType=function(t){var e=l(t)?t:t.id;return"pie"===this.config.data_types[e]},k.isGaugeType=function(t){var e=l(t)?t:t.id;return"gauge"===this.config.data_types[e]},k.isDonutType=function(t){var e=l(t)?t:t.id;return"donut"===this.config.data_types[e]},k.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},k.lineData=function(t){return this.isLineType(t)?[t]:[]},k.arcData=function(t){return this.isArcType(t.data)?[t]:[]},k.barData=function(t){return this.isBarType(t)?t.values:[]},k.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},k.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},k.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},k.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},k.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},k.initZoom=function(){var t,e=this,i=e.d3,n=e.config;e.zoom=i.behavior.zoom().on("zoomstart",function(){t=i.event.sourceEvent,e.zoom.altDomain=i.event.sourceEvent.altKey?e.x.orgDomain():null,n.zoom_onzoomstart.call(e.api,i.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=i.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),n.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return n.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=n.zoom_extent?n.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=p(e.x.orgDomain())/p(e.getZoomDomain()),i=this.orgScaleExtent();return this.scaleExtent([i[0]*t,i[1]*t]),this}},k.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},k.updateZoom=function(){var t=this.config.zoom_enabled?this.zoom:function(){};this.main.select("."+i.zoomRect).call(t).on("dblclick.zoom",null),this.main.selectAll("."+i.eventRect).call(t).on("dblclick.zoom",null)},k.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,r=t.x;if(i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&n.altDomain)return r.domain(n.altDomain),void n.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),i.zoom_onzoom.call(t.api,r.orgDomain())}},C}),(function(){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("c3")):"function"==typeof define&&define.amd?define(["jquery","c3"],t):t(jQuery,c3)}(function(t,e){var i;return i=function(i){return null==i&&(i={}),function(n,r){var s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O,N,L,I,F,R,z,B,j,H,Y,V,q,W,U,G,X,K,Z,Q,$,J,tt,et,it,nt,rt,st;if(null==(a=(r=t.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},c3:{}},r)).c3).size&&(a.size={}),null==(h=r.c3.size).width&&(h.width=window.innerWidth/1.4),null==(l=r.c3.size).height&&(l.height=window.innerHeight/1.4-50),null==i.type&&(i.type="line"),null==i.horizontal&&(i.horizontal=!1),null==i.stacked&&(i.stacked=!1),0===(X=n.getRowKeys()).length&&X.push([]),0===(v=n.getColKeys()).length&&v.push([]),k=function(){var t,e,i;for(i=[],t=0,e=v.length;t<e;t++)i.push(v[t].join("-"));return i}(),q=0,w=n.aggregatorName,n.valAttrs.length&&(w+="("+n.valAttrs.join(", ")+")"),"scatter"===i.type)for(Z={x:{},y:{},t:{}},tt=null!=(z=(o=n.rowAttrs.concat(n.colAttrs))[0])?z:"",S=null!=(B=o[1])?B:"",x=o.slice(2).join("-"),J=tt,""!==S&&(J+=" "+r.localeStrings.vs+" "+S),""!==x&&(J+=" "+r.localeStrings.by+" "+x),C=0,E=X.length;C<E;C++)for(G=X[C],A=0,D=v.length;A<D;A++)null!=(s=n.getAggregator(G,m=v[A])).value()&&(it=G.concat(m),""===(Q=it.slice(2).join("-"))&&(Q="series"),null==(u=Z.x)[Q]&&(u[Q]=[]),null==(c=Z.y)[Q]&&(c[Q]=[]),st=null!=(j=it[0])?j:0,nt=null!=(H=it[1])?H:0,Z.y[Q].push(st),Z.x[Q].push(nt),null==(d=Z.t)[Q]&&(d[Q]={}),null==(f=Z.t[Q])[nt]&&(f[nt]={}),Z.t[Q][nt][st]=s.value());else{for(I=0,T=0,P=k.length;T<P;T++)I+=(nt=k[T]).length;for(I>50&&(q=45),y=[],M=0,O=X.length;M<O;M++){for(W=[""===(U=(G=X[M]).join("-"))?w:U],L=0,N=v.length;L<N;L++)m=v[L],et=parseFloat(n.getAggregator(G,m).value()),isFinite(et)?W.push(et):W.push(null);y.push(W)}tt=w,i.horizontal?(S=n.rowAttrs.join("-"),x=n.colAttrs.join("-")):(S=n.colAttrs.join("-"),x=n.rowAttrs.join("-")),J=w,""!==S&&(J+=" "+r.localeStrings.vs+" "+S),""!==x&&(J+=" "+r.localeStrings.by+" "+x)}if(($=t("<p>",{style:"text-align: center; font-weight: bold"})).text(J),_=n.getAggregator([],[]).format,R=t.extend(!0,{},R={axis:{rotated:i.horizontal,y:{label:tt,tick:{}},x:{label:S,tick:{rotate:q,multiline:!1}}},data:{type:i.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}},r.c3),"scatter"===i.type){for(K in rt={},F=0,b=[],Z.x)F+=1,rt[K]=K+"_x",b.push([K+"_x"].concat(Z.x[K])),b.push([K].concat(Z.y[K]));R.data.xs=rt,R.data.columns=b,R.axis.x.tick={fit:!1},1===F&&(R.legend={show:!1}),R.tooltip.format={title:function(){return w},name:function(){return""},value:function(t,e,i,n,r){var s;return _(Z.t[Q=(s=r[0]).name][nt=s.x][st=s.value])}}}else R.axis.x.type="category",null==(p=R.axis.y.tick).format&&(p.format=function(t){return _(t)}),R.tooltip.format={value:function(t){return _(t)}},i.horizontal?(1===(g=function(){var t,e,i;for(i=[],e=0,t=y.length;e<t;e++)i.push(y[e].shift());return i}()).length&&g[0]===w&&(g=[""]),R.axis.x.categories=g,1===k.length&&""===k[0]&&(k=[w]),y.unshift(k),R.data.rows=y):(R.axis.x.categories=k,R.data.columns=y);return i.stacked&&(R.data.groups=i.horizontal?[function(){var t,e,i;for(i=[],e=0,t=v.length;e<t;e++)i.push((nt=v[e]).join("-"));return i}()]:[function(){var t,e,i;for(i=[],e=0,t=X.length;e<t;e++)i.push((nt=X[e]).join("-"));return i}()]),Y=t("<div>",{style:"display:none;"}).appendTo(t("body")),V=t("<div>").appendTo(Y),R.bindto=V[0],e.generate(R),V.detach(),Y.remove(),t("<div>").append($,V)}},t.pivotUtilities.c3_renderers={"Horizontal Bar Chart":i({type:"bar",horizontal:!0}),"Horizontal Stacked Bar Chart":i({type:"bar",stacked:!0,horizontal:!0}),"Bar Chart":i({type:"bar"}),"Stacked Bar Chart":i({type:"bar",stacked:!0}),"Line Chart":i(),"Area Chart":i({type:"area",stacked:!0}),"Scatter Chart":i({type:"scatter"})}})}).call(this),(function(){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("d3")):"function"==typeof define&&define.amd?define(["jquery","d3"],t):t(jQuery,d3)}(function(t,e){return t.pivotUtilities.d3_renderers={Treemap:function(i,n){var r,s,o,a,h,l,u,c,d,f,p,g,m;for(o={localeStrings:{},d3:{width:function(){return t(window).width()/1.4},height:function(){return t(window).height()/1.4}}},n=t.extend(!0,{},o,n),c=t("<div>").css({width:"100%",height:"100%"}),f={name:"All",children:[]},r=function(t,e,i){var n,s,o,a,h,l;if(0!==e.length){for(null==t.children&&(t.children=[]),l=e.shift(),s=0,o=(h=t.children).length;s<o;s++)if((n=h[s]).name===l)return void r(n,e,i);return r(a={name:l},e,i),t.children.push(a)}t.value=i},h=0,l=(u=i.getRowKeys()).length;h<l;h++)null!=(g=i.getAggregator(d=u[h],[]).value())&&r(f,d,g);return s=e.scale.category10(),m=n.d3.width(),a=n.d3.height(),p=e.layout.treemap().size([m,a]).sticky(!0).value(function(t){return t.size}),e.select(c[0]).append("div").style("position","relative").style("width",m+"px").style("height",a+"px").datum(f).selectAll(".node").data(p.padding([15,0,0,0]).value(function(t){return t.value}).nodes).enter().append("div").attr("class","node").style("background",function(t){return null!=t.children?"lightgrey":s(t.name)}).text(function(t){return t.name}).call(function(){this.style("left",function(t){return t.x+"px"}).style("top",function(t){return t.y+"px"}).style("width",function(t){return Math.max(0,t.dx-1)+"px"}).style("height",function(t){return Math.max(0,t.dy-1)+"px"})}),c}}})}).call(this),(function(){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.pivotUtilities.export_renderers={"TSV Export":function(e,i){var n,r,s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x;for(i=t.extend(!0,{},{localeStrings:{}},i),0===(w=e.getRowKeys()).length&&w.push([]),0===(r=e.getColKeys()).length&&r.push([]),v=[],y=[],s=0,l=(b=e.rowAttrs).length;s<l;s++)y.push(b[s]);if(1===r.length&&0===r[0].length)y.push(e.aggregatorName);else for(o=0,u=r.length;o<u;o++)y.push(r[o].join("-"));for(v.push(y),a=0,c=w.length;a<c;a++){for(y=[],h=0,d=(_=w[a]).length;h<d;h++)y.push(_[h]);for(g=0,f=r.length;g<f;g++)null!=(n=e.getAggregator(_,r[g])).value()?y.push(n.value()):y.push("");v.push(y)}for(x="",m=0,p=v.length;m<p;m++)x+=v[m].join("\t")+"\n";return t("<textarea>").text(x).css({width:t(window).width()/2+"px",height:t(window).height()/2+"px"})}}})}).call(this),(function(){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e;return e=function(e,i){return function(n,r){var s,o,a,h,l,u,c,d,f,p,g,m,v,y,b,_,w,x,S,k,C,A,T,M,E,D,P,O;if(null==(o=(r=t.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},gchart:{}},r)).gchart).width&&(o.width=window.innerWidth/1.4),null==(a=r.gchart).height&&(a.height=window.innerHeight/1.4),0===(C=n.getRowKeys()).length&&C.push([]),0===(l=n.getColKeys()).length&&l.push([]),d=n.aggregatorName,n.valAttrs.length&&(d+="("+n.valAttrs.join(", ")+")"),(g=function(){var t,e,i;for(i=[],t=0,e=C.length;t<e;t++)i.push(C[t].join("-"));return i}()).unshift(""),_=0,"ScatterChart"===e){for(O in u=[],x=n.tree)for(P in T=x[O])s=T[P],u.push([parseFloat(P),parseFloat(O),d+": \n"+s.format(s.value())]);(c=new google.visualization.DataTable).addColumn("number",n.colAttrs.join("-")),c.addColumn("number",n.rowAttrs.join("-")),c.addColumn({type:"string",role:"tooltip"}),c.addRows(u),p=n.colAttrs.join("-"),M=n.rowAttrs.join("-"),A=""}else{for(u=[g],m=0,y=l.length;m<y;m++){for(_+=(k=[(h=l[m]).join("-")])[0].length,v=0,b=C.length;v<b;v++)null!=(s=n.getAggregator(C[v],h)).value()?(E=s.value(),t.isNumeric(E)?k.push(E<1?parseFloat(E.toPrecision(3)):parseFloat(E.toFixed(3))):k.push(E)):k.push(null);u.push(k)}c=google.visualization.arrayToDataTable(u),A=M=d,""!==(p=n.colAttrs.join("-"))&&(A+=" "+r.localeStrings.vs+" "+p),""!==(f=n.rowAttrs.join("-"))&&(A+=" "+r.localeStrings.by+" "+f)}return w={title:A,hAxis:{title:p,slantedText:_>50},vAxis:{title:M},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}},"ColumnChart"===e&&(w.vAxis.minValue=0),"ScatterChart"===e?(w.legend={position:"none"},w.chartArea={width:"80%",height:"80%"}):2===u[0].length&&""===u[0][1]&&(w.legend={position:"none"}),w=t.extend(!0,{},w,r.gchart,i),S=t("<div>").css({width:"100%",height:"100%"}),(D=new google.visualization.ChartWrapper({dataTable:c,chartType:e,options:w})).draw(S[0]),S.bind("dblclick",function(){var t;return t=new google.visualization.ChartEditor,google.visualization.events.addListener(t,"ok",function(){return t.getChartWrapper().draw(S[0])}),t.openDialog(D)}),S}},t.pivotUtilities.gchart_renderers={"Line Chart":e("LineChart"),"Bar Chart":e("ColumnChart"),"Stacked Bar Chart":e("ColumnChart",{isStacked:!0}),"Area Chart":e("AreaChart",{isStacked:!0}),"Scatter Chart":e("ScatterChart")}})}).call(this);